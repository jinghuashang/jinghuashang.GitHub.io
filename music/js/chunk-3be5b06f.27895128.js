(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be5b06f"],{"0196":function(t,e,i){const n=i("58b4"),s=i("bbf0");function a(t){this.mode=s.BYTE,this.data=new Uint8Array(n(t))}a.getBitsLength=function(t){return 8*t},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},t.exports=a},"0425":function(t,e){const i="[0-9]+",n="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+")(?:.|[\r\n]))+";e.KANJI=new RegExp(s,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(a,"g"),e.NUMERIC=new RegExp(i,"g"),e.ALPHANUMERIC=new RegExp(n,"g");const r=new RegExp("^"+s+"$"),o=new RegExp("^"+i+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return l.test(t)}},"04cb":function(t,e,i){"use strict";i("d705")},"04f0":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"album-page"},[i("div",{staticClass:"playlist-info"},[i("Cover",{attrs:{id:t.album.id,"image-url":t._f("resizeImage")(t.album.picUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"album","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.title))]),""!==t.subtitle?i("div",{staticClass:"subtitle",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(t._s(t.subtitle))]):t._e(),i("div",{staticClass:"artist"},[104700!==t.album.artist.id?i("span",[i("span",[t._v(t._s(t._f("formatAlbumType")(t.album.type,t.album))+" by ")]),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name))])],1):i("span",[t._v("Compilation by Various Artists")])]),i("div",{staticClass:"date-and-count"},[1056768===t.album.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),i("span",{attrs:{title:t._f("formatDate")(t.album.publishTime)}},[t._v(t._s(new Date(t.album.publishTime).getFullYear()))]),i("span",[t._v(" · "+t._s(t.album.size)+" "+t._s(t.$t("common.songs")))]),t._v(", "+t._s(t._f("formatTime")(t.albumTime,"Human"))+" ")]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.album.description)+" ")]),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"32px"}},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playAlbumByID(t.album.id)}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),i("ButtonTwoTone",{attrs:{"icon-class":t.dynamicDetail.isSub?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.dynamicDetail.isSub?"blue":"grey","text-color":t.dynamicDetail.isSub?"#335eea":"","background-color":t.dynamicDetail.isSub?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likeAlbum.apply(null,arguments)}}}),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])],1),t.tracksByDisc.length>1?i("div",t._l(t.tracksByDisc,(function(e){return i("div",{key:e.disc},[i("h2",{staticClass:"disc"},[t._v("Disc "+t._s(e.disc))]),i("TrackList",{attrs:{id:t.album.id,tracks:e.tracks,type:"album","album-object":t.album}})],1)})),0):i("div",[i("TrackList",{attrs:{id:t.album.id,tracks:t.tracks,type:"album","album-object":t.album}})],1),i("div",{staticClass:"extra-info"},[i("div",{staticClass:"album-time"}),i("div",{staticClass:"release-date"},[t._v(" "+t._s(t.$t("album.released"))+" "+t._s(t._f("formatDate")(t.album.publishTime,"MMMM D, YYYY"))+" ")]),t.album.company?i("div",{staticClass:"copyright"},[t._v(" © "+t._s(t.album.company)+" ")]):t._e()]),0!==t.filteredMoreAlbums.length?i("div",{staticClass:"more-by"},[i("div",{staticClass:"section-title"},[t._v(" More by "),i("router-link",{attrs:{to:"/artist/"+t.album.artist.id}},[t._v(t._s(t.album.artist.name)+" ")])],1),i("div",[i("CoverRow",{attrs:{type:"album",items:t.filteredMoreAlbums,"sub-text":"albumType+releaseYear"}})],1)]):t._e(),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("album.albumDesc")}},[i("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.album.description)+" ")])]),i("ContextMenu",{ref:"albumMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.likeAlbum(!0)}}},[t._v(t._s(t.dynamicDetail.isSub?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),i("div",{staticClass:"item"},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.album.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},s=[],a=i("d0ff"),r=i("f3f3"),o=(i("d81d"),i("4de4"),i("d3b7"),i("7db0"),i("fb6a"),i("99af"),i("b0c0"),i("a15b"),i("2f62")),l=i("512b"),c=i("fefb"),u=i("e498"),d=i("fe07"),h=i("cf45"),p=i("323e"),f=i.n(p),m=i("5f87"),g=i("2ef0"),v=i("0c94"),y=i("5e45"),b=i("6825"),w=i("a1a1"),_=i("2726"),k=i("3020"),C=i("714b"),T={name:"Album",components:{Cover:k["a"],ButtonTwoTone:y["a"],TrackList:w["a"],ExplicitSymbol:v["a"],CoverRow:_["a"],Modal:C["a"],ContextMenu:b["a"]},beforeRouteUpdate:function(t,e,i){this.show=!1,this.loadData(t.params.id),i()},data:function(){return{show:!1,album:{id:0,picUrl:"",artist:{id:0}},tracks:[],showFullDescription:!1,moreAlbums:[],dynamicDetail:{},subtitle:"",title:""}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["player","data"])),{},{albumTime:function(){var t=0;return this.tracks.map((function(e){return t+=e.dt})),t},filteredMoreAlbums:function(){var t=this,e=this.moreAlbums.filter((function(e){return e.id!==t.album.id})),i=e.filter((function(t){return"专辑"===t.type})),n=e.filter((function(t){return"EP"===t.type||"EP/Single"===t.type&&t.size>1})),s=e.filter((function(t){return void 0===i.find((function(e){return e.id===t.id}))&&void 0===n.find((function(e){return e.id===t.id}))}));return 0===i.length?[].concat(Object(a["a"])(i),Object(a["a"])(n),Object(a["a"])(s)).slice(0,5):[].concat(Object(a["a"])(i),Object(a["a"])(s)).slice(0,5)},tracksByDisc:function(){if(this.tracks.length<=1)return[];var t=Object(g["toPairs"])(Object(g["groupBy"])(this.tracks,"cd"));return Object(g["sortBy"])(t,(function(t){return t[0]})).map((function(t){return{disc:t[0],tracks:t[1]}}))}}),created:function(){this.loadData(this.$route.params.id)},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["c"])(["appendTrackToPlayerList"])),Object(o["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"])),{},{playAlbumByID:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"first";this.$store.state.player.playAlbumByID(t,e)},likeAlbum:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(m["c"])()?Object(u["c"])({id:this.album.id,t:this.dynamicDetail.isSub?0:1}).then((function(i){200===i.code&&(t.dynamicDetail.isSub=!t.dynamicDetail.isSub,!0===e&&t.showToast(t.dynamicDetail.isSub?"已保存到音乐库":"已从音乐库删除"))})).catch((function(e){t.showToast("".concat(e.response.data.message||e))})):this.showToast(d["a"].t("toast.needToLogin"))},formatTitle:function(){var t=Object(h["h"])(this.album.name),e=Object(h["g"])(t.title);this.title=e.title,""!==t.subtitle&&""!==e.subtitle?this.subtitle=t.subtitle+" · "+e.subtitle:this.subtitle=""===t.subtitle?e.subtitle:t.subtitle},loadData:function(t){var e=this;setTimeout((function(){e.show||f.a.start()}),1e3),Object(u["b"])(t).then((function(t){e.album=t.album,e.tracks=t.songs,e.formatTitle(),f.a.done(),e.show=!0;var i=e.tracks.map((function(t){return t.id}));Object(c["c"])(i.join(",")).then((function(t){e.tracks=t.songs})),Object(l["d"])({id:e.album.artist.id,limit:100}).then((function(t){e.moreAlbums=t.hotAlbums}))})),Object(u["a"])(t).then((function(t){e.dynamicDetail=t}))},toggleFullDescription:function(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu:function(t){this.$refs.albumMenu.openMenu(t)},copyUrl:function(t){var e=this.showToast;this.$copyText("https://music.163.com/#/album?id=".concat(t)).then((function(){e(d["a"].t("toast.copied"))})).catch((function(t){e("".concat(d["a"].t("toast.copyFailed")).concat(t))}))},openInBrowser:function(t){var e="https://music.163.com/#/album?id=".concat(t);window.open(e)}})},A=T,x=(i("443b"),i("2877")),E=Object(x["a"])(A,n,s,!1,null,"5368033b",null);e["default"]=E.exports},"06b1":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}}),t._v(t._s(t.artist.name)+"'s Music Videos ")]),i("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}}),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.loadMVs.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)],1)},s=[],a=i("d0ff"),r=i("512b"),o=i("323e"),l=i.n(o),c=i("5e45"),u=i("d4e3"),d={name:"ArtistMV",components:{MvRow:u["a"],ButtonTwoTone:c["a"]},beforeRouteUpdate:function(t,e,i){this.id=t.params.id,this.loadData(),i()},data:function(){return{id:0,show:!1,hasMore:!0,artist:{},mvs:[]}},created:function(){this.id=this.$route.params.id,this.loadData()},activated:function(){this.$route.params.id!==this.id&&(this.id=this.$route.params.id,this.mvs=[],this.artist={},this.show=!1,this.hasMore=!0,this.loadData())},methods:{loadData:function(){var t=this;setTimeout((function(){t.show||l.a.start()}),1e3),Object(r["c"])(this.id).then((function(e){t.artist=e.artist})),this.loadMVs()},loadMVs:function(){var t=this;Object(r["a"])({id:this.id,limit:100,offset:this.mvs.length}).then((function(e){var i;(i=t.mvs).push.apply(i,Object(a["a"])(e.mvs)),t.hasMore=e.hasMore,l.a.done(),t.show=!0}))}}},h=d,p=(i("25b3"),i("2877")),f=Object(p["a"])(h,n,s,!1,null,"792a4a55",null);e["default"]=f.exports},"0851":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"newAlbum"},[i("h1",[t._v(t._s(t.$t("home.newAlbum")))]),i("div",{staticClass:"playlist-row"},[i("div",{staticClass:"playlists"},[i("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"artist","show-play-button":!0}})],1)])])},s=[],a=i("e498"),r=i("323e"),o=i.n(r),l=i("2726"),c={components:{CoverRow:l["a"]},data:function(){return{albums:[]}},created:function(){var t=this;Object(a["d"])({area:"EA",limit:100}).then((function(e){t.albums=e.albums,o.a.done()}))}},u=c,d=(i("d635"),i("2877")),h=Object(d["a"])(u,n,s,!1,null,"445ba948",null);e["default"]=h.exports},"0c94":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg-icon",{style:t.svgStyle,attrs:{"icon-class":"explicit"}})},s=[],a=(i("a9e3"),i("0032")),r={name:"ExplicitSymbol",components:{SvgIcon:a["a"]},props:{size:{type:Number,default:16}},data:function(){return{svgStyle:{}}},created:function(){this.svgStyle={height:this.size+"px",width:this.size+"px",position:"relative",left:"-1px"}}},o=r,l=i("2877"),c=Object(l["a"])(o,n,s,!1,null,"1e3b68b9",null);e["a"]=c.exports},"101d":function(t,e,i){"use strict";i("9b4e")},"10b0":function(t,e,i){"use strict";var n={single_source_shortest_paths:function(t,e,i){var s={},a={};a[e]=0;var r,o,l,c,u,d,h,p,f,m=n.PriorityQueue.make();m.push(e,0);while(!m.empty())for(l in r=m.pop(),o=r.value,c=r.cost,u=t[o]||{},u)u.hasOwnProperty(l)&&(d=u[l],h=c+d,p=a[l],f="undefined"===typeof a[l],(f||p>h)&&(a[l]=h,m.push(l,h),s[l]=o));if("undefined"!==typeof i&&"undefined"===typeof a[i]){var g=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(g)}return s},extract_shortest_path_from_predecessor_list:function(t,e){var i=[],n=e;while(n)i.push(n),t[n],n=t[n];return i.reverse(),i},find_path:function(t,e,i){var s=n.single_source_shortest_paths(t,e,i);return n.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var e,i=n.PriorityQueue,s={};for(e in t=t||{},i)i.hasOwnProperty(e)&&(s[e]=i[e]);return s.queue=[],s.sorter=t.sorter||i.default_sorter,s},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=n},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1354:function(t,e,i){"use strict";i("30cd")},"13e8":function(t,e,i){"use strict";i("ecf4")},"14b5":function(t,e,i){},"186d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"artist-in-line"},[t._v(" "+t._s(t.computedPrefix)+" "),t._l(t.filteredArtists,(function(e,n){return i("span",{key:n},[0!==e.id?i("router-link",{attrs:{to:"/artist/"+e.id}},[t._v(t._s(e.name))]):i("span",[t._v(t._s(e.name))]),n!==t.filteredArtists.length-1?i("span",{staticClass:"separator"},[t._v(",")]):t._e()],1)}))],2)},s=[],a=(i("4de4"),i("d3b7"),i("b0c0"),{name:"ArtistInLine",props:{artists:{type:Array,required:!0},exclude:{type:String,default:""},prefix:{type:String,default:""}},computed:{filteredArtists:function(){var t=this;return this.artists.filter((function(e){return e.name!==t.exclude}))},computedPrefix:function(){return 0!==this.filteredArtists.length?this.prefix:""}}}),r=a,o=(i("808a"),i("2877")),l=Object(o["a"])(r,n,s,!1,null,"b3c008da",null);e["a"]=l.exports},"1f60":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv-page"},[i("div",{staticClass:"current-video"},[i("div",{staticClass:"video"},[i("video",{ref:"videoPlayer",staticClass:"plyr"})]),i("div",{staticClass:"video-info"},[i("div",{staticClass:"title"},[i("router-link",{attrs:{to:"/artist/"+t.mv.data.artistId}},[t._v(t._s(t.mv.data.artistName))]),t._v(" - "+t._s(t.mv.data.name)+" "),i("div",{staticClass:"buttons"},[i("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.likeMV.apply(null,arguments)}}},[t.mv.subed?i("svg-icon",{attrs:{"icon-class":"heart-solid"}}):i("svg-icon",{attrs:{"icon-class":"heart"}})],1),i("button-icon",{staticClass:"button",nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"more"}})],1)],1)],1),i("div",{staticClass:"info"},[t._v(" "+t._s(t._f("formatPlayCount")(t.mv.data.playCount))+" Views · "+t._s(t.mv.data.publishTime)+" ")])])]),i("div",{staticClass:"more-video"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("mv.moreVideo")))]),i("MvRow",{attrs:{mvs:t.simiMvs}})],1),i("ContextMenu",{ref:"mvMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.mv.data.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},s=[],a=i("f3f3"),r=(i("d81d"),i("d3b7"),i("3ca3"),i("ddb0"),i("ac1f"),i("5319"),i("b0c0"),i("99af"),i("b775"));function o(t){return Object(r["a"])({url:"/mv/detail",method:"get",params:{mvid:t,timestamp:(new Date).getTime()}})}function l(t){return Object(r["a"])({url:"/mv/url",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/simi/mv",method:"get",params:{mvid:t}})}function u(t){return t.timestamp=(new Date).getTime(),Object(r["a"])({url:"/mv/sub",method:"post",params:t})}var d=i("5f87"),h=i("323e"),p=i.n(h),f=i("fe07"),m=(i("8ac5"),i("4fb8")),g=i.n(m),v=i("2185"),y=i("6825"),b=i("d4e3"),w=i("2f62"),_={name:"mv",components:{MvRow:b["a"],ButtonIcon:v["a"],ContextMenu:y["a"]},beforeRouteUpdate:function(t,e,i){this.getData(t.params.id),i()},data:function(){return{mv:{url:"",data:{name:"",artistName:"",playCount:"",publishTime:""}},player:null,simiMvs:[]}},mounted:function(){var t=this,e={settings:["quality"],autoplay:!1,quality:{default:1080,options:[1080,720,480,240]}};"true"===this.$route.query.autoplay&&(e.autoplay=!0),this.player=new g.a(this.$refs.videoPlayer,e),this.player.volume=this.$store.state.player.volume,this.player.on("playing",(function(){t.$store.state.player.pause()})),this.getData(this.$route.params.id),console.log("网易云你这mv音频码率也太糊了吧🙄")},methods:Object(a["a"])(Object(a["a"])({},Object(w["b"])(["showToast"])),{},{getData:function(t){var e=this;o(t).then((function(i){e.mv=i;var n=i.data.brs.map((function(e){return l({id:t,r:e.br})}));Promise.all(n).then((function(t){var i=t.map((function(t){return{src:t.data.url.replace(/^http:/,"https:"),type:"video/mp4",size:t.data.r}}));e.player.source={type:"video",title:e.mv.data.name,sources:i,poster:e.mv.data.cover.replace(/^http:/,"https:")},p.a.done()}))})),c(t).then((function(t){e.simiMvs=t.mvs}))},likeMV:function(){var t=this;Object(d["c"])()?u({mvid:this.mv.data.id,t:this.mv.subed?0:1}).then((function(e){200===e.code&&(t.mv.subed=!t.mv.subed)})):this.showToast(f["a"].t("toast.needToLogin"))},openMenu:function(t){this.$refs.mvMenu.openMenu(t)},copyUrl:function(t){var e=this.showToast;this.$copyText("https://music.163.com/#/mv?id=".concat(t)).then((function(){e(f["a"].t("toast.copied"))})).catch((function(t){e("".concat(f["a"].t("toast.copyFailed")).concat(t))}))},openInBrowser:function(t){var e="https://music.163.com/#/mv?id=".concat(t);window.open(e)}})},k=_,C=(i("b398"),i("2877")),T=Object(C["a"])(k,n,s,!1,null,"0e540f34",null);e["default"]=T.exports},"20c0":function(t,e,i){"use strict";i("ce1e")},"25b3":function(t,e,i){"use strict";i("14b5")},2726:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover-row",style:t.rowStyles},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"item",class:{artist:"artist"===t.type}},[i("Cover",{attrs:{id:e.id,"image-url":t.getImageUrl(e),type:t.type,"play-button-size":"artist"===t.type?26:t.playButtonSize}}),i("div",{staticClass:"text"},[t.showPlayCount?i("div",{staticClass:"info"},[i("span",{staticClass:"play-count"},[i("svg-icon",{attrs:{"icon-class":"play"}}),t._v(t._s(t._f("formatPlayCount")(e.playCount))+" ")],1)]):t._e(),i("div",{staticClass:"title",style:{fontSize:t.subTextFontSize}},[t.isExplicit(e)?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e(),t.isPrivacy(e)?i("span",{staticClass:"lock-icon"},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),i("router-link",{attrs:{to:t.getTitleLink(e)}},[t._v(t._s(e.name))])],1),"artist"!==t.type&&"none"!==t.subText?i("div",{staticClass:"info"},[i("span",{domProps:{innerHTML:t._s(t.getSubText(e))}})]):t._e()])],1)})),0)},s=[],a=(i("a9e3"),i("a4d3"),i("e01a"),i("99af"),i("b0c0"),i("ac1f"),i("1276"),i("5319"),i("3020")),r=i("0c94"),o={name:"CoverRow",components:{Cover:a["a"],ExplicitSymbol:r["a"]},props:{items:{type:Array,required:!0},type:{type:String,required:!0},subText:{type:String,default:"null"},subTextFontSize:{type:String,default:"16px"},showPlayCount:{type:Boolean,default:!1},columnNumber:{type:Number,default:5},gap:{type:String,default:"44px 24px"},playButtonSize:{type:Number,default:22}},computed:{rowStyles:function(){return{"grid-template-columns":"repeat(".concat(this.columnNumber,", 1fr)"),gap:this.gap}}},methods:{getSubText:function(t){if("copywriter"===this.subText)return t.copywriter;if("description"===this.subText)return t.description;if("updateFrequency"===this.subText)return t.updateFrequency;if("creator"===this.subText)return"by "+t.creator.nickname;if("releaseYear"===this.subText)return new Date(t.publishTime).getFullYear();if("artist"===this.subText){if(void 0!==t.artist)return'<a href="/#/artist/'.concat(t.artist.id,'">').concat(t.artist.name,"</a>");if(void 0!==t.artists)return'<a href="/#/artist/'.concat(t.artists[0].id,'">').concat(t.artists[0].name,"</a>")}if("albumType+releaseYear"===this.subText){var e=t.type;return"EP/Single"===t.type?e=1===t.size?"Single":"EP":"Single"===t.type?e="Single":"专辑"===t.type&&(e="Album"),"".concat(e," · ").concat(new Date(t.publishTime).getFullYear())}return"appleMusic"===this.subText?"by Apple Music":void 0},isPrivacy:function(t){return"playlist"===this.type&&10===t.privacy},isExplicit:function(t){return"album"===this.type&&1056768===t.mark},getTitleLink:function(t){return"/".concat(this.type,"/").concat(t.id)},getImageUrl:function(t){if(t.img1v1Url){var e=t.img1v1Url.split("/");if(e=e[e.length-1],"5639395138885805.jpg"===e)return"https://p2.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512y512"}var i=t.img1v1Url||t.picUrl||t.coverImgUrl;return"".concat(null===i||void 0===i?void 0:i.replace("http://","https://"),"?param=512y512")}}},l=o,c=(i("3b62"),i("2877")),u=Object(c["a"])(l,n,s,!1,null,"46c6acd8",null);e["a"]=u.exports},2732:function(t,e,i){const n=i("699e");e.mul=function(t,e){const i=new Uint8Array(t.length+e.length-1);for(let s=0;s<t.length;s++)for(let a=0;a<e.length;a++)i[s+a]^=n.mul(t[s],e[a]);return i},e.mod=function(t,e){let i=new Uint8Array(t);while(i.length-e.length>=0){const t=i[0];for(let a=0;a<e.length;a++)i[a]^=n.mul(e[a],t);let s=0;while(s<i.length&&0===i[s])s++;i=i.slice(s)}return i},e.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let s=0;s<t;s++)i=e.mul(i,new Uint8Array([1,n.exp(s)]));return i}},"27a3":function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},"2aff":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._m(0),i("TrackList",{attrs:{tracks:t.dailyTracks,type:"playlist","dbclick-track-func":"dailyTracks"}})],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"special-playlist"},[i("div",{staticClass:"title gradient"},[t._v(" 每日歌曲推荐 ")]),i("div",{staticClass:"subtitle"},[t._v("根据你的音乐口味生成 · 每天6:00更新")])])}],a=i("f3f3"),r=i("2f62"),o=i("323e"),l=i.n(o),c=i("1e9a"),u=i("a1a1"),d={name:"DailyTracks",components:{TrackList:u["a"]},data:function(){return{show:!1}},computed:Object(a["a"])({},Object(r["d"])(["player","data","dailyTracks"])),created:function(){var t=this;0===this.dailyTracks.length?(setTimeout((function(){t.show||l.a.start()}),1e3),this.loadDailyTracks()):this.show=!0,this.$parent.$refs.main.scrollTo(0,0)},methods:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["updateDailyTracks"])),{},{loadDailyTracks:function(){var t=this;Object(c["d"])().then((function(e){t.updateDailyTracks(e.data.dailySongs),l.a.done(),t.show=!0}))}})},h=d,p=(i("5774"),i("2877")),f=Object(p["a"])(h,n,s,!1,null,"d200706c",null);e["default"]=f.exports},"2ef0":function(t,e,i){(function(t,n){var s;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",f=1,m=2,g=4,v=1,y=2,b=1,w=2,_=4,k=8,C=16,T=32,A=64,x=128,E=256,P=512,S=30,M="...",I=800,L=16,O=1,N=2,D=3,j=1/0,R=9007199254740991,$=17976931348623157e292,U=NaN,B=4294967295,F=B-1,V=B>>>1,z=[["ary",x],["bind",b],["bindKey",w],["curry",k],["curryRight",C],["flip",P],["partial",T],["partialRight",A],["rearg",E]],q="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",K="[object Boolean]",Y="[object Date]",Q="[object DOMException]",J="[object Error]",G="[object Function]",Z="[object GeneratorFunction]",X="[object Map]",tt="[object Number]",et="[object Null]",it="[object Object]",nt="[object Promise]",st="[object Proxy]",at="[object RegExp]",rt="[object Set]",ot="[object String]",lt="[object Symbol]",ct="[object Undefined]",ut="[object WeakMap]",dt="[object WeakSet]",ht="[object ArrayBuffer]",pt="[object DataView]",ft="[object Float32Array]",mt="[object Float64Array]",gt="[object Int8Array]",vt="[object Int16Array]",yt="[object Int32Array]",bt="[object Uint8Array]",wt="[object Uint8ClampedArray]",_t="[object Uint16Array]",kt="[object Uint32Array]",Ct=/\b__p \+= '';/g,Tt=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,Pt=RegExp(xt.source),St=RegExp(Et.source),Mt=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(jt.source),$t=/^\s+/,Ut=/\s/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qt=/[()=,{}\[\]\/\s]/,Ht=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Qt=/^0b[01]+$/i,Jt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,te=/($^)/,ee=/['\n\r\u2028\u2029\\]/g,ie="\\ud800-\\udfff",ne="\\u0300-\\u036f",se="\\ufe20-\\ufe2f",ae="\\u20d0-\\u20ff",re=ne+se+ae,oe="\\u2700-\\u27bf",le="a-z\\xdf-\\xf6\\xf8-\\xff",ce="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",de="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="A-Z\\xc0-\\xd6\\xd8-\\xde",fe="\\ufe0e\\ufe0f",me=ce+ue+de+he,ge="['’]",ve="["+ie+"]",ye="["+me+"]",be="["+re+"]",we="\\d+",_e="["+oe+"]",ke="["+le+"]",Ce="[^"+ie+me+we+oe+le+pe+"]",Te="\\ud83c[\\udffb-\\udfff]",Ae="(?:"+be+"|"+Te+")",xe="[^"+ie+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="["+pe+"]",Me="\\u200d",Ie="(?:"+ke+"|"+Ce+")",Le="(?:"+Se+"|"+Ce+")",Oe="(?:"+ge+"(?:d|ll|m|re|s|t|ve))?",Ne="(?:"+ge+"(?:D|LL|M|RE|S|T|VE))?",De=Ae+"?",je="["+fe+"]?",Re="(?:"+Me+"(?:"+[xe,Ee,Pe].join("|")+")"+je+De+")*",$e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ue="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Be=je+De+Re,Fe="(?:"+[_e,Ee,Pe].join("|")+")"+Be,Ve="(?:"+[xe+be+"?",be,Ee,Pe,ve].join("|")+")",ze=RegExp(ge,"g"),qe=RegExp(be,"g"),He=RegExp(Te+"(?="+Te+")|"+Ve+Be,"g"),We=RegExp([Se+"?"+ke+"+"+Oe+"(?="+[ye,Se,"$"].join("|")+")",Le+"+"+Ne+"(?="+[ye,Se+Ie,"$"].join("|")+")",Se+"?"+Ie+"+"+Oe,Se+"+"+Ne,Ue,$e,we,Fe].join("|"),"g"),Ke=RegExp("["+Me+ie+re+fe+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ge={};Ge[ft]=Ge[mt]=Ge[gt]=Ge[vt]=Ge[yt]=Ge[bt]=Ge[wt]=Ge[_t]=Ge[kt]=!0,Ge[q]=Ge[H]=Ge[ht]=Ge[K]=Ge[pt]=Ge[Y]=Ge[J]=Ge[G]=Ge[X]=Ge[tt]=Ge[it]=Ge[at]=Ge[rt]=Ge[ot]=Ge[ut]=!1;var Ze={};Ze[q]=Ze[H]=Ze[ht]=Ze[pt]=Ze[K]=Ze[Y]=Ze[ft]=Ze[mt]=Ze[gt]=Ze[vt]=Ze[yt]=Ze[X]=Ze[tt]=Ze[it]=Ze[at]=Ze[rt]=Ze[ot]=Ze[lt]=Ze[bt]=Ze[wt]=Ze[_t]=Ze[kt]=!0,Ze[J]=Ze[G]=Ze[ut]=!1;var Xe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ii={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ni=parseFloat,si=parseInt,ai="object"==typeof t&&t&&t.Object===Object&&t,ri="object"==typeof self&&self&&self.Object===Object&&self,oi=ai||ri||Function("return this")(),li=e&&!e.nodeType&&e,ci=li&&"object"==typeof n&&n&&!n.nodeType&&n,ui=ci&&ci.exports===li,di=ui&&ai.process,hi=function(){try{var t=ci&&ci.require&&ci.require("util").types;return t||di&&di.binding&&di.binding("util")}catch(e){}}(),pi=hi&&hi.isArrayBuffer,fi=hi&&hi.isDate,mi=hi&&hi.isMap,gi=hi&&hi.isRegExp,vi=hi&&hi.isSet,yi=hi&&hi.isTypedArray;function bi(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function wi(t,e,i,n){var s=-1,a=null==t?0:t.length;while(++s<a){var r=t[s];e(n,r,i(r),t)}return n}function _i(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(!1===e(t[i],i,t))break;return t}function ki(t,e){var i=null==t?0:t.length;while(i--)if(!1===e(t[i],i,t))break;return t}function Ci(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(!e(t[i],i,t))return!1;return!0}function Ti(t,e){var i=-1,n=null==t?0:t.length,s=0,a=[];while(++i<n){var r=t[i];e(r,i,t)&&(a[s++]=r)}return a}function Ai(t,e){var i=null==t?0:t.length;return!!i&&Ri(t,e,0)>-1}function xi(t,e,i){var n=-1,s=null==t?0:t.length;while(++n<s)if(i(e,t[n]))return!0;return!1}function Ei(t,e){var i=-1,n=null==t?0:t.length,s=Array(n);while(++i<n)s[i]=e(t[i],i,t);return s}function Pi(t,e){var i=-1,n=e.length,s=t.length;while(++i<n)t[s+i]=e[i];return t}function Si(t,e,i,n){var s=-1,a=null==t?0:t.length;n&&a&&(i=t[++s]);while(++s<a)i=e(i,t[s],s,t);return i}function Mi(t,e,i,n){var s=null==t?0:t.length;n&&s&&(i=t[--s]);while(s--)i=e(i,t[s],s,t);return i}function Ii(t,e){var i=-1,n=null==t?0:t.length;while(++i<n)if(e(t[i],i,t))return!0;return!1}var Li=Fi("length");function Oi(t){return t.split("")}function Ni(t){return t.match(zt)||[]}function Di(t,e,i){var n;return i(t,(function(t,i,s){if(e(t,i,s))return n=i,!1})),n}function ji(t,e,i,n){var s=t.length,a=i+(n?1:-1);while(n?a--:++a<s)if(e(t[a],a,t))return a;return-1}function Ri(t,e,i){return e===e?fn(t,e,i):ji(t,Ui,i)}function $i(t,e,i,n){var s=i-1,a=t.length;while(++s<a)if(n(t[s],e))return s;return-1}function Ui(t){return t!==t}function Bi(t,e){var i=null==t?0:t.length;return i?Hi(t,e)/i:U}function Fi(t){return function(e){return null==e?a:e[t]}}function Vi(t){return function(e){return null==t?a:t[e]}}function zi(t,e,i,n,s){return s(t,(function(t,s,a){i=n?(n=!1,t):e(i,t,s,a)})),i}function qi(t,e){var i=t.length;t.sort(e);while(i--)t[i]=t[i].value;return t}function Hi(t,e){var i,n=-1,s=t.length;while(++n<s){var r=e(t[n]);r!==a&&(i=i===a?r:i+r)}return i}function Wi(t,e){var i=-1,n=Array(t);while(++i<t)n[i]=e(i);return n}function Ki(t,e){return Ei(e,(function(e){return[e,t[e]]}))}function Yi(t){return t?t.slice(0,yn(t)+1).replace($t,""):t}function Qi(t){return function(e){return t(e)}}function Ji(t,e){return Ei(e,(function(e){return t[e]}))}function Gi(t,e){return t.has(e)}function Zi(t,e){var i=-1,n=t.length;while(++i<n&&Ri(e,t[i],0)>-1);return i}function Xi(t,e){var i=t.length;while(i--&&Ri(e,t[i],0)>-1);return i}function tn(t,e){var i=t.length,n=0;while(i--)t[i]===e&&++n;return n}var en=Vi(Xe),nn=Vi(ti);function sn(t){return"\\"+ii[t]}function an(t,e){return null==t?a:t[e]}function rn(t){return Ke.test(t)}function on(t){return Ye.test(t)}function ln(t){var e,i=[];while(!(e=t.next()).done)i.push(e.value);return i}function cn(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function un(t,e){return function(i){return t(e(i))}}function dn(t,e){var i=-1,n=t.length,s=0,a=[];while(++i<n){var r=t[i];r!==e&&r!==p||(t[i]=p,a[s++]=i)}return a}function hn(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function pn(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function fn(t,e,i){var n=i-1,s=t.length;while(++n<s)if(t[n]===e)return n;return-1}function mn(t,e,i){var n=i+1;while(n--)if(t[n]===e)return n;return n}function gn(t){return rn(t)?wn(t):Li(t)}function vn(t){return rn(t)?_n(t):Oi(t)}function yn(t){var e=t.length;while(e--&&Ut.test(t.charAt(e)));return e}var bn=Vi(ei);function wn(t){var e=He.lastIndex=0;while(He.test(t))++e;return e}function _n(t){return t.match(He)||[]}function kn(t){return t.match(We)||[]}var Cn=function t(e){e=null==e?oi:Tn.defaults(oi.Object(),e,Tn.pick(oi,Qe));var i=e.Array,n=e.Date,s=e.Error,Ut=e.Function,zt=e.Math,ie=e.Object,ne=e.RegExp,se=e.String,ae=e.TypeError,re=i.prototype,oe=Ut.prototype,le=ie.prototype,ce=e["__core-js_shared__"],ue=oe.toString,de=le.hasOwnProperty,he=0,pe=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fe=le.toString,me=ue.call(ie),ge=oi._,ve=ne("^"+ue.call(de).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=ui?e.Buffer:a,be=e.Symbol,we=e.Uint8Array,_e=ye?ye.allocUnsafe:a,ke=un(ie.getPrototypeOf,ie),Ce=ie.create,Te=le.propertyIsEnumerable,Ae=re.splice,xe=be?be.isConcatSpreadable:a,Ee=be?be.iterator:a,Pe=be?be.toStringTag:a,Se=function(){try{var t=Wr(ie,"defineProperty");return t({},"",{}),t}catch(e){}}(),Me=e.clearTimeout!==oi.clearTimeout&&e.clearTimeout,Ie=n&&n.now!==oi.Date.now&&n.now,Le=e.setTimeout!==oi.setTimeout&&e.setTimeout,Oe=zt.ceil,Ne=zt.floor,De=ie.getOwnPropertySymbols,je=ye?ye.isBuffer:a,Re=e.isFinite,$e=re.join,Ue=un(ie.keys,ie),Be=zt.max,Fe=zt.min,Ve=n.now,He=e.parseInt,We=zt.random,Ke=re.reverse,Ye=Wr(e,"DataView"),Xe=Wr(e,"Map"),ti=Wr(e,"Promise"),ei=Wr(e,"Set"),ii=Wr(e,"WeakMap"),ai=Wr(ie,"create"),ri=ii&&new ii,li={},ci=Lo(Ye),di=Lo(Xe),hi=Lo(ti),Li=Lo(ei),Oi=Lo(ii),Vi=be?be.prototype:a,fn=Vi?Vi.valueOf:a,wn=Vi?Vi.toString:a;function _n(t){if(Au(t)&&!lu(t)&&!(t instanceof En)){if(t instanceof xn)return t;if(de.call(t,"__wrapped__"))return No(t)}return new xn(t)}var Cn=function(){function t(){}return function(e){if(!Tu(e))return{};if(Ce)return Ce(e);t.prototype=e;var i=new t;return t.prototype=a,i}}();function An(){}function xn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=a}function En(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Pn(){var t=new En(this.__wrapped__);return t.__actions__=nr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=nr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=nr(this.__views__),t}function Sn(){if(this.__filtered__){var t=new En(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Mn(){var t=this.__wrapped__.value(),e=this.__dir__,i=lu(t),n=e<0,s=i?t.length:0,a=Gr(0,s,this.__views__),r=a.start,o=a.end,l=o-r,c=n?o:r-1,u=this.__iteratees__,d=u.length,h=0,p=Fe(l,this.__takeCount__);if(!i||!n&&s==l&&p==l)return $a(t,this.__actions__);var f=[];t:while(l--&&h<p){c+=e;var m=-1,g=t[c];while(++m<d){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(b==N)g=w;else if(!w){if(b==O)continue t;break t}}f[h++]=g}return f}function In(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Ln(){this.__data__=ai?ai(null):{},this.size=0}function On(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Nn(t){var e=this.__data__;if(ai){var i=e[t];return i===d?a:i}return de.call(e,t)?e[t]:a}function Dn(t){var e=this.__data__;return ai?e[t]!==a:de.call(e,t)}function jn(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ai&&e===a?d:e,this}function Rn(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function $n(){this.__data__=[],this.size=0}function Un(t){var e=this.__data__,i=us(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Ae.call(e,i,1),--this.size,!0}function Bn(t){var e=this.__data__,i=us(e,t);return i<0?a:e[i][1]}function Fn(t){return us(this.__data__,t)>-1}function Vn(t,e){var i=this.__data__,n=us(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function zn(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function qn(){this.size=0,this.__data__={hash:new In,map:new(Xe||Rn),string:new In}}function Hn(t){var e=qr(this,t)["delete"](t);return this.size-=e?1:0,e}function Wn(t){return qr(this,t).get(t)}function Kn(t){return qr(this,t).has(t)}function Yn(t,e){var i=qr(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function Qn(t){var e=-1,i=null==t?0:t.length;this.__data__=new zn;while(++e<i)this.add(t[e])}function Jn(t){return this.__data__.set(t,d),this}function Gn(t){return this.__data__.has(t)}function Zn(t){var e=this.__data__=new Rn(t);this.size=e.size}function Xn(){this.__data__=new Rn,this.size=0}function ts(t){var e=this.__data__,i=e["delete"](t);return this.size=e.size,i}function es(t){return this.__data__.get(t)}function is(t){return this.__data__.has(t)}function ns(t,e){var i=this.__data__;if(i instanceof Rn){var n=i.__data__;if(!Xe||n.length<o-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new zn(n)}return i.set(t,e),this.size=i.size,this}function ss(t,e){var i=lu(t),n=!i&&ou(t),s=!i&&!n&&pu(t),a=!i&&!n&&!s&&Bu(t),r=i||n||s||a,o=r?Wi(t.length,se):[],l=o.length;for(var c in t)!e&&!de.call(t,c)||r&&("length"==c||s&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,l))||o.push(c);return o}function as(t){var e=t.length;return e?t[va(0,e-1)]:a}function rs(t,e){return So(nr(t),gs(e,0,t.length))}function os(t){return So(nr(t))}function ls(t,e,i){(i!==a&&!su(t[e],i)||i===a&&!(e in t))&&fs(t,e,i)}function cs(t,e,i){var n=t[e];de.call(t,e)&&su(n,i)&&(i!==a||e in t)||fs(t,e,i)}function us(t,e){var i=t.length;while(i--)if(su(t[i][0],e))return i;return-1}function ds(t,e,i,n){return ks(t,(function(t,s,a){e(n,t,i(t),a)})),n}function hs(t,e){return t&&sr(e,kd(e),t)}function ps(t,e){return t&&sr(e,Cd(e),t)}function fs(t,e,i){"__proto__"==e&&Se?Se(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function ms(t,e){var n=-1,s=e.length,r=i(s),o=null==t;while(++n<s)r[n]=o?a:gd(t,e[n]);return r}function gs(t,e,i){return t===t&&(i!==a&&(t=t<=i?t:i),e!==a&&(t=t>=e?t:e)),t}function vs(t,e,i,n,s,r){var o,l=e&f,c=e&m,u=e&g;if(i&&(o=s?i(t,n,s,r):i(t)),o!==a)return o;if(!Tu(t))return t;var d=lu(t);if(d){if(o=to(t),!l)return nr(t,o)}else{var h=Jr(t),p=h==G||h==Z;if(pu(t))return Ka(t,l);if(h==it||h==q||p&&!s){if(o=c||p?{}:eo(t),!l)return c?rr(t,ps(o,t)):ar(t,hs(o,t))}else{if(!Ze[h])return s?t:{};o=io(t,h,l)}}r||(r=new Zn);var v=r.get(t);if(v)return v;r.set(t,o),Ru(t)?t.forEach((function(n){o.add(vs(n,e,i,n,t,r))})):xu(t)&&t.forEach((function(n,s){o.set(s,vs(n,e,i,s,t,r))}));var y=u?c?Ur:$r:c?Cd:kd,b=d?a:y(t);return _i(b||t,(function(n,s){b&&(s=n,n=t[s]),cs(o,s,vs(n,e,i,s,t,r))})),o}function ys(t){var e=kd(t);return function(i){return bs(i,t,e)}}function bs(t,e,i){var n=i.length;if(null==t)return!n;t=ie(t);while(n--){var s=i[n],r=e[s],o=t[s];if(o===a&&!(s in t)||!r(o))return!1}return!0}function ws(t,e,i){if("function"!=typeof t)throw new ae(c);return Ao((function(){t.apply(a,i)}),e)}function _s(t,e,i,n){var s=-1,a=Ai,r=!0,l=t.length,c=[],u=e.length;if(!l)return c;i&&(e=Ei(e,Qi(i))),n?(a=xi,r=!1):e.length>=o&&(a=Gi,r=!1,e=new Qn(e));t:while(++s<l){var d=t[s],h=null==i?d:i(d);if(d=n||0!==d?d:0,r&&h===h){var p=u;while(p--)if(e[p]===h)continue t;c.push(d)}else a(e,h,n)||c.push(d)}return c}_n.templateSettings={escape:Mt,evaluate:It,interpolate:Lt,variable:"",imports:{_:_n}},_n.prototype=An.prototype,_n.prototype.constructor=_n,xn.prototype=Cn(An.prototype),xn.prototype.constructor=xn,En.prototype=Cn(An.prototype),En.prototype.constructor=En,In.prototype.clear=Ln,In.prototype["delete"]=On,In.prototype.get=Nn,In.prototype.has=Dn,In.prototype.set=jn,Rn.prototype.clear=$n,Rn.prototype["delete"]=Un,Rn.prototype.get=Bn,Rn.prototype.has=Fn,Rn.prototype.set=Vn,zn.prototype.clear=qn,zn.prototype["delete"]=Hn,zn.prototype.get=Wn,zn.prototype.has=Kn,zn.prototype.set=Yn,Qn.prototype.add=Qn.prototype.push=Jn,Qn.prototype.has=Gn,Zn.prototype.clear=Xn,Zn.prototype["delete"]=ts,Zn.prototype.get=es,Zn.prototype.has=is,Zn.prototype.set=ns;var ks=cr(Is),Cs=cr(Ls,!0);function Ts(t,e){var i=!0;return ks(t,(function(t,n,s){return i=!!e(t,n,s),i})),i}function As(t,e,i){var n=-1,s=t.length;while(++n<s){var r=t[n],o=e(r);if(null!=o&&(l===a?o===o&&!Uu(o):i(o,l)))var l=o,c=r}return c}function xs(t,e,i,n){var s=t.length;i=Yu(i),i<0&&(i=-i>s?0:s+i),n=n===a||n>s?s:Yu(n),n<0&&(n+=s),n=i>n?0:Qu(n);while(i<n)t[i++]=e;return t}function Es(t,e){var i=[];return ks(t,(function(t,n,s){e(t,n,s)&&i.push(t)})),i}function Ps(t,e,i,n,s){var a=-1,r=t.length;i||(i=so),s||(s=[]);while(++a<r){var o=t[a];e>0&&i(o)?e>1?Ps(o,e-1,i,n,s):Pi(s,o):n||(s[s.length]=o)}return s}var Ss=ur(),Ms=ur(!0);function Is(t,e){return t&&Ss(t,e,kd)}function Ls(t,e){return t&&Ms(t,e,kd)}function Os(t,e){return Ti(e,(function(e){return _u(t[e])}))}function Ns(t,e){e=za(e,t);var i=0,n=e.length;while(null!=t&&i<n)t=t[Io(e[i++])];return i&&i==n?t:a}function Ds(t,e,i){var n=e(t);return lu(t)?n:Pi(n,i(t))}function js(t){return null==t?t===a?ct:et:Pe&&Pe in ie(t)?Kr(t):bo(t)}function Rs(t,e){return t>e}function $s(t,e){return null!=t&&de.call(t,e)}function Us(t,e){return null!=t&&e in ie(t)}function Bs(t,e,i){return t>=Fe(e,i)&&t<Be(e,i)}function Fs(t,e,n){var s=n?xi:Ai,r=t[0].length,o=t.length,l=o,c=i(o),u=1/0,d=[];while(l--){var h=t[l];l&&e&&(h=Ei(h,Qi(e))),u=Fe(h.length,u),c[l]=!n&&(e||r>=120&&h.length>=120)?new Qn(l&&h):a}h=t[0];var p=-1,f=c[0];t:while(++p<r&&d.length<u){var m=h[p],g=e?e(m):m;if(m=n||0!==m?m:0,!(f?Gi(f,g):s(d,g,n))){l=o;while(--l){var v=c[l];if(!(v?Gi(v,g):s(t[l],g,n)))continue t}f&&f.push(g),d.push(m)}}return d}function Vs(t,e,i,n){return Is(t,(function(t,s,a){e(n,i(t),s,a)})),n}function zs(t,e,i){e=za(e,t),t=_o(t,e);var n=null==t?t:t[Io(al(e))];return null==n?a:bi(n,t,i)}function qs(t){return Au(t)&&js(t)==q}function Hs(t){return Au(t)&&js(t)==ht}function Ws(t){return Au(t)&&js(t)==Y}function Ks(t,e,i,n,s){return t===e||(null==t||null==e||!Au(t)&&!Au(e)?t!==t&&e!==e:Ys(t,e,i,n,Ks,s))}function Ys(t,e,i,n,s,a){var r=lu(t),o=lu(e),l=r?H:Jr(t),c=o?H:Jr(e);l=l==q?it:l,c=c==q?it:c;var u=l==it,d=c==it,h=l==c;if(h&&pu(t)){if(!pu(e))return!1;r=!0,u=!1}if(h&&!u)return a||(a=new Zn),r||Bu(t)?Nr(t,e,i,n,s,a):Dr(t,e,l,i,n,s,a);if(!(i&v)){var p=u&&de.call(t,"__wrapped__"),f=d&&de.call(e,"__wrapped__");if(p||f){var m=p?t.value():t,g=f?e.value():e;return a||(a=new Zn),s(m,g,i,n,a)}}return!!h&&(a||(a=new Zn),jr(t,e,i,n,s,a))}function Qs(t){return Au(t)&&Jr(t)==X}function Js(t,e,i,n){var s=i.length,r=s,o=!n;if(null==t)return!r;t=ie(t);while(s--){var l=i[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++s<r){l=i[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===a&&!(c in t))return!1}else{var h=new Zn;if(n)var p=n(u,d,c,t,e,h);if(!(p===a?Ks(d,u,v|y,n,h):p))return!1}}return!0}function Gs(t){if(!Tu(t)||uo(t))return!1;var e=_u(t)?ve:Jt;return e.test(Lo(t))}function Zs(t){return Au(t)&&js(t)==at}function Xs(t){return Au(t)&&Jr(t)==rt}function ta(t){return Au(t)&&Cu(t.length)&&!!Ge[js(t)]}function ea(t){return"function"==typeof t?t:null==t?Mh:"object"==typeof t?lu(t)?oa(t[0],t[1]):ra(t):zh(t)}function ia(t){if(!po(t))return Ue(t);var e=[];for(var i in ie(t))de.call(t,i)&&"constructor"!=i&&e.push(i);return e}function na(t){if(!Tu(t))return yo(t);var e=po(t),i=[];for(var n in t)("constructor"!=n||!e&&de.call(t,n))&&i.push(n);return i}function sa(t,e){return t<e}function aa(t,e){var n=-1,s=uu(t)?i(t.length):[];return ks(t,(function(t,i,a){s[++n]=e(t,i,a)})),s}function ra(t){var e=Hr(t);return 1==e.length&&e[0][2]?mo(e[0][0],e[0][1]):function(i){return i===t||Js(i,t,e)}}function oa(t,e){return oo(t)&&fo(e)?mo(Io(t),e):function(i){var n=gd(i,t);return n===a&&n===e?yd(i,t):Ks(e,n,v|y)}}function la(t,e,i,n,s){t!==e&&Ss(e,(function(r,o){if(s||(s=new Zn),Tu(r))ca(t,e,o,i,la,n,s);else{var l=n?n(Co(t,o),r,o+"",t,e,s):a;l===a&&(l=r),ls(t,o,l)}}),Cd)}function ca(t,e,i,n,s,r,o){var l=Co(t,i),c=Co(e,i),u=o.get(c);if(u)ls(t,i,u);else{var d=r?r(l,c,i+"",t,e,o):a,h=d===a;if(h){var p=lu(c),f=!p&&pu(c),m=!p&&!f&&Bu(c);d=c,p||f||m?lu(l)?d=l:du(l)?d=nr(l):f?(h=!1,d=Ka(c,!0)):m?(h=!1,d=Za(c,!0)):d=[]:Nu(c)||ou(c)?(d=l,ou(l)?d=Gu(l):Tu(l)&&!_u(l)||(d=eo(c))):h=!1}h&&(o.set(c,d),s(d,c,n,r,o),o["delete"](c)),ls(t,i,d)}}function ua(t,e){var i=t.length;if(i)return e+=e<0?i:0,ao(e,i)?t[e]:a}function da(t,e,i){e=e.length?Ei(e,(function(t){return lu(t)?function(e){return Ns(e,1===t.length?t[0]:t)}:t})):[Mh];var n=-1;e=Ei(e,Qi(zr()));var s=aa(t,(function(t,i,s){var a=Ei(e,(function(e){return e(t)}));return{criteria:a,index:++n,value:t}}));return qi(s,(function(t,e){return tr(t,e,i)}))}function ha(t,e){return pa(t,e,(function(e,i){return yd(t,i)}))}function pa(t,e,i){var n=-1,s=e.length,a={};while(++n<s){var r=e[n],o=Ns(t,r);i(o,r)&&Ca(a,za(r,t),o)}return a}function fa(t){return function(e){return Ns(e,t)}}function ma(t,e,i,n){var s=n?$i:Ri,a=-1,r=e.length,o=t;t===e&&(e=nr(e)),i&&(o=Ei(t,Qi(i)));while(++a<r){var l=0,c=e[a],u=i?i(c):c;while((l=s(o,u,l,n))>-1)o!==t&&Ae.call(o,l,1),Ae.call(t,l,1)}return t}function ga(t,e){var i=t?e.length:0,n=i-1;while(i--){var s=e[i];if(i==n||s!==a){var a=s;ao(s)?Ae.call(t,s,1):Da(t,s)}}return t}function va(t,e){return t+Ne(We()*(e-t+1))}function ya(t,e,n,s){var a=-1,r=Be(Oe((e-t)/(n||1)),0),o=i(r);while(r--)o[s?r:++a]=t,t+=n;return o}function ba(t,e){var i="";if(!t||e<1||e>R)return i;do{e%2&&(i+=t),e=Ne(e/2),e&&(t+=t)}while(e);return i}function wa(t,e){return xo(wo(t,e,Mh),t+"")}function _a(t){return as(Fd(t))}function ka(t,e){var i=Fd(t);return So(i,gs(e,0,i.length))}function Ca(t,e,i,n){if(!Tu(t))return t;e=za(e,t);var s=-1,r=e.length,o=r-1,l=t;while(null!=l&&++s<r){var c=Io(e[s]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=o){var d=l[c];u=n?n(d,c,l):a,u===a&&(u=Tu(d)?d:ao(e[s+1])?[]:{})}cs(l,c,u),l=l[c]}return t}var Ta=ri?function(t,e){return ri.set(t,e),t}:Mh,Aa=Se?function(t,e){return Se(t,"toString",{configurable:!0,enumerable:!1,value:xh(e),writable:!0})}:Mh;function xa(t){return So(Fd(t))}function Ea(t,e,n){var s=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;var r=i(a);while(++s<a)r[s]=t[s+e];return r}function Pa(t,e){var i;return ks(t,(function(t,n,s){return i=e(t,n,s),!i})),!!i}function Sa(t,e,i){var n=0,s=null==t?n:t.length;if("number"==typeof e&&e===e&&s<=V){while(n<s){var a=n+s>>>1,r=t[a];null!==r&&!Uu(r)&&(i?r<=e:r<e)?n=a+1:s=a}return s}return Ma(t,e,Mh,i)}function Ma(t,e,i,n){var s=0,r=null==t?0:t.length;if(0===r)return 0;e=i(e);var o=e!==e,l=null===e,c=Uu(e),u=e===a;while(s<r){var d=Ne((s+r)/2),h=i(t[d]),p=h!==a,f=null===h,m=h===h,g=Uu(h);if(o)var v=n||m;else v=u?m&&(n||p):l?m&&p&&(n||!f):c?m&&p&&!f&&(n||!g):!f&&!g&&(n?h<=e:h<e);v?s=d+1:r=d}return Fe(r,F)}function Ia(t,e){var i=-1,n=t.length,s=0,a=[];while(++i<n){var r=t[i],o=e?e(r):r;if(!i||!su(o,l)){var l=o;a[s++]=0===r?0:r}}return a}function La(t){return"number"==typeof t?t:Uu(t)?U:+t}function Oa(t){if("string"==typeof t)return t;if(lu(t))return Ei(t,Oa)+"";if(Uu(t))return wn?wn.call(t):"";var e=t+"";return"0"==e&&1/t==-j?"-0":e}function Na(t,e,i){var n=-1,s=Ai,a=t.length,r=!0,l=[],c=l;if(i)r=!1,s=xi;else if(a>=o){var u=e?null:Pr(t);if(u)return hn(u);r=!1,s=Gi,c=new Qn}else c=e?[]:l;t:while(++n<a){var d=t[n],h=e?e(d):d;if(d=i||0!==d?d:0,r&&h===h){var p=c.length;while(p--)if(c[p]===h)continue t;e&&c.push(h),l.push(d)}else s(c,h,i)||(c!==l&&c.push(h),l.push(d))}return l}function Da(t,e){return e=za(e,t),t=_o(t,e),null==t||delete t[Io(al(e))]}function ja(t,e,i,n){return Ca(t,e,i(Ns(t,e)),n)}function Ra(t,e,i,n){var s=t.length,a=n?s:-1;while((n?a--:++a<s)&&e(t[a],a,t));return i?Ea(t,n?0:a,n?a+1:s):Ea(t,n?a+1:0,n?s:a)}function $a(t,e){var i=t;return i instanceof En&&(i=i.value()),Si(e,(function(t,e){return e.func.apply(e.thisArg,Pi([t],e.args))}),i)}function Ua(t,e,n){var s=t.length;if(s<2)return s?Na(t[0]):[];var a=-1,r=i(s);while(++a<s){var o=t[a],l=-1;while(++l<s)l!=a&&(r[a]=_s(r[a]||o,t[l],e,n))}return Na(Ps(r,1),e,n)}function Ba(t,e,i){var n=-1,s=t.length,r=e.length,o={};while(++n<s){var l=n<r?e[n]:a;i(o,t[n],l)}return o}function Fa(t){return du(t)?t:[]}function Va(t){return"function"==typeof t?t:Mh}function za(t,e){return lu(t)?t:oo(t,e)?[t]:Mo(Xu(t))}var qa=wa;function Ha(t,e,i){var n=t.length;return i=i===a?n:i,!e&&i>=n?t:Ea(t,e,i)}var Wa=Me||function(t){return oi.clearTimeout(t)};function Ka(t,e){if(e)return t.slice();var i=t.length,n=_e?_e(i):new t.constructor(i);return t.copy(n),n}function Ya(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function Qa(t,e){var i=e?Ya(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function Ja(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}function Ga(t){return fn?ie(fn.call(t)):{}}function Za(t,e){var i=e?Ya(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Xa(t,e){if(t!==e){var i=t!==a,n=null===t,s=t===t,r=Uu(t),o=e!==a,l=null===e,c=e===e,u=Uu(e);if(!l&&!u&&!r&&t>e||r&&o&&c&&!l&&!u||n&&o&&c||!i&&c||!s)return 1;if(!n&&!r&&!u&&t<e||u&&i&&s&&!n&&!r||l&&i&&s||!o&&s||!c)return-1}return 0}function tr(t,e,i){var n=-1,s=t.criteria,a=e.criteria,r=s.length,o=i.length;while(++n<r){var l=Xa(s[n],a[n]);if(l){if(n>=o)return l;var c=i[n];return l*("desc"==c?-1:1)}}return t.index-e.index}function er(t,e,n,s){var a=-1,r=t.length,o=n.length,l=-1,c=e.length,u=Be(r-o,0),d=i(c+u),h=!s;while(++l<c)d[l]=e[l];while(++a<o)(h||a<r)&&(d[n[a]]=t[a]);while(u--)d[l++]=t[a++];return d}function ir(t,e,n,s){var a=-1,r=t.length,o=-1,l=n.length,c=-1,u=e.length,d=Be(r-l,0),h=i(d+u),p=!s;while(++a<d)h[a]=t[a];var f=a;while(++c<u)h[f+c]=e[c];while(++o<l)(p||a<r)&&(h[f+n[o]]=t[a++]);return h}function nr(t,e){var n=-1,s=t.length;e||(e=i(s));while(++n<s)e[n]=t[n];return e}function sr(t,e,i,n){var s=!i;i||(i={});var r=-1,o=e.length;while(++r<o){var l=e[r],c=n?n(i[l],t[l],l,i,t):a;c===a&&(c=t[l]),s?fs(i,l,c):cs(i,l,c)}return i}function ar(t,e){return sr(t,Yr(t),e)}function rr(t,e){return sr(t,Qr(t),e)}function or(t,e){return function(i,n){var s=lu(i)?wi:ds,a=e?e():{};return s(i,t,zr(n,2),a)}}function lr(t){return wa((function(e,i){var n=-1,s=i.length,r=s>1?i[s-1]:a,o=s>2?i[2]:a;r=t.length>3&&"function"==typeof r?(s--,r):a,o&&ro(i[0],i[1],o)&&(r=s<3?a:r,s=1),e=ie(e);while(++n<s){var l=i[n];l&&t(e,l,n,r)}return e}))}function cr(t,e){return function(i,n){if(null==i)return i;if(!uu(i))return t(i,n);var s=i.length,a=e?s:-1,r=ie(i);while(e?a--:++a<s)if(!1===n(r[a],a,r))break;return i}}function ur(t){return function(e,i,n){var s=-1,a=ie(e),r=n(e),o=r.length;while(o--){var l=r[t?o:++s];if(!1===i(a[l],l,a))break}return e}}function dr(t,e,i){var n=e&b,s=fr(t);function a(){var e=this&&this!==oi&&this instanceof a?s:t;return e.apply(n?i:this,arguments)}return a}function hr(t){return function(e){e=Xu(e);var i=rn(e)?vn(e):a,n=i?i[0]:e.charAt(0),s=i?Ha(i,1).join(""):e.slice(1);return n[t]()+s}}function pr(t){return function(e){return Si(_h(Yd(e).replace(ze,"")),t,"")}}function fr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Cn(t.prototype),n=t.apply(i,e);return Tu(n)?n:i}}function mr(t,e,n){var s=fr(t);function r(){var o=arguments.length,l=i(o),c=o,u=Vr(r);while(c--)l[c]=arguments[c];var d=o<3&&l[0]!==u&&l[o-1]!==u?[]:dn(l,u);if(o-=d.length,o<n)return xr(t,e,yr,r.placeholder,a,l,d,a,a,n-o);var h=this&&this!==oi&&this instanceof r?s:t;return bi(h,this,l)}return r}function gr(t){return function(e,i,n){var s=ie(e);if(!uu(e)){var r=zr(i,3);e=kd(e),i=function(t){return r(s[t],t,s)}}var o=t(e,i,n);return o>-1?s[r?e[o]:o]:a}}function vr(t){return Rr((function(e){var i=e.length,n=i,s=xn.prototype.thru;t&&e.reverse();while(n--){var r=e[n];if("function"!=typeof r)throw new ae(c);if(s&&!o&&"wrapper"==Fr(r))var o=new xn([],!0)}n=o?n:i;while(++n<i){r=e[n];var l=Fr(r),u="wrapper"==l?Br(r):a;o=u&&co(u[0])&&u[1]==(x|k|T|E)&&!u[4].length&&1==u[9]?o[Fr(u[0])].apply(o,u[3]):1==r.length&&co(r)?o[l]():o.thru(r)}return function(){var t=arguments,n=t[0];if(o&&1==t.length&&lu(n))return o.plant(n).value();var s=0,a=i?e[s].apply(this,t):n;while(++s<i)a=e[s].call(this,a);return a}}))}function yr(t,e,n,s,r,o,l,c,u,d){var h=e&x,p=e&b,f=e&w,m=e&(k|C),g=e&P,v=f?a:fr(t);function y(){var a=arguments.length,b=i(a),w=a;while(w--)b[w]=arguments[w];if(m)var _=Vr(y),k=tn(b,_);if(s&&(b=er(b,s,r,m)),o&&(b=ir(b,o,l,m)),a-=k,m&&a<d){var C=dn(b,_);return xr(t,e,yr,y.placeholder,n,b,C,c,u,d-a)}var T=p?n:this,A=f?T[t]:t;return a=b.length,c?b=ko(b,c):g&&a>1&&b.reverse(),h&&u<a&&(b.length=u),this&&this!==oi&&this instanceof y&&(A=v||fr(A)),A.apply(T,b)}return y}function br(t,e){return function(i,n){return Vs(i,t,e(n),{})}}function wr(t,e){return function(i,n){var s;if(i===a&&n===a)return e;if(i!==a&&(s=i),n!==a){if(s===a)return n;"string"==typeof i||"string"==typeof n?(i=Oa(i),n=Oa(n)):(i=La(i),n=La(n)),s=t(i,n)}return s}}function _r(t){return Rr((function(e){return e=Ei(e,Qi(zr())),wa((function(i){var n=this;return t(e,(function(t){return bi(t,n,i)}))}))}))}function kr(t,e){e=e===a?" ":Oa(e);var i=e.length;if(i<2)return i?ba(e,t):e;var n=ba(e,Oe(t/gn(e)));return rn(e)?Ha(vn(n),0,t).join(""):n.slice(0,t)}function Cr(t,e,n,s){var a=e&b,r=fr(t);function o(){var e=-1,l=arguments.length,c=-1,u=s.length,d=i(u+l),h=this&&this!==oi&&this instanceof o?r:t;while(++c<u)d[c]=s[c];while(l--)d[c++]=arguments[++e];return bi(h,a?n:this,d)}return o}function Tr(t){return function(e,i,n){return n&&"number"!=typeof n&&ro(e,i,n)&&(i=n=a),e=Ku(e),i===a?(i=e,e=0):i=Ku(i),n=n===a?e<i?1:-1:Ku(n),ya(e,i,n,t)}}function Ar(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=Ju(e),i=Ju(i)),t(e,i)}}function xr(t,e,i,n,s,r,o,l,c,u){var d=e&k,h=d?o:a,p=d?a:o,f=d?r:a,m=d?a:r;e|=d?T:A,e&=~(d?A:T),e&_||(e&=~(b|w));var g=[t,e,s,f,h,m,p,l,c,u],v=i.apply(a,g);return co(t)&&To(v,g),v.placeholder=n,Eo(v,t,e)}function Er(t){var e=zt[t];return function(t,i){if(t=Ju(t),i=null==i?0:Fe(Yu(i),292),i&&Re(t)){var n=(Xu(t)+"e").split("e"),s=e(n[0]+"e"+(+n[1]+i));return n=(Xu(s)+"e").split("e"),+(n[0]+"e"+(+n[1]-i))}return e(t)}}var Pr=ei&&1/hn(new ei([,-0]))[1]==j?function(t){return new ei(t)}:$h;function Sr(t){return function(e){var i=Jr(e);return i==X?cn(e):i==rt?pn(e):Ki(e,t(e))}}function Mr(t,e,i,n,s,r,o,l){var u=e&w;if(!u&&"function"!=typeof t)throw new ae(c);var d=n?n.length:0;if(d||(e&=~(T|A),n=s=a),o=o===a?o:Be(Yu(o),0),l=l===a?l:Yu(l),d-=s?s.length:0,e&A){var h=n,p=s;n=s=a}var f=u?a:Br(t),m=[t,e,i,n,s,h,p,r,o,l];if(f&&vo(m,f),t=m[0],e=m[1],i=m[2],n=m[3],s=m[4],l=m[9]=m[9]===a?u?0:t.length:Be(m[9]-d,0),!l&&e&(k|C)&&(e&=~(k|C)),e&&e!=b)g=e==k||e==C?mr(t,e,l):e!=T&&e!=(b|T)||s.length?yr.apply(a,m):Cr(t,e,i,n);else var g=dr(t,e,i);var v=f?Ta:To;return Eo(v(g,m),t,e)}function Ir(t,e,i,n){return t===a||su(t,le[i])&&!de.call(n,i)?e:t}function Lr(t,e,i,n,s,r){return Tu(t)&&Tu(e)&&(r.set(e,t),la(t,e,a,Lr,r),r["delete"](e)),t}function Or(t){return Nu(t)?a:t}function Nr(t,e,i,n,s,r){var o=i&v,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=r.get(t),d=r.get(e);if(u&&d)return u==e&&d==t;var h=-1,p=!0,f=i&y?new Qn:a;r.set(t,e),r.set(e,t);while(++h<l){var m=t[h],g=e[h];if(n)var b=o?n(g,m,h,e,t,r):n(m,g,h,t,e,r);if(b!==a){if(b)continue;p=!1;break}if(f){if(!Ii(e,(function(t,e){if(!Gi(f,e)&&(m===t||s(m,t,i,n,r)))return f.push(e)}))){p=!1;break}}else if(m!==g&&!s(m,g,i,n,r)){p=!1;break}}return r["delete"](t),r["delete"](e),p}function Dr(t,e,i,n,s,a,r){switch(i){case pt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!a(new we(t),new we(e)));case K:case Y:case tt:return su(+t,+e);case J:return t.name==e.name&&t.message==e.message;case at:case ot:return t==e+"";case X:var o=cn;case rt:var l=n&v;if(o||(o=hn),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;n|=y,r.set(t,e);var u=Nr(o(t),o(e),n,s,a,r);return r["delete"](t),u;case lt:if(fn)return fn.call(t)==fn.call(e)}return!1}function jr(t,e,i,n,s,r){var o=i&v,l=$r(t),c=l.length,u=$r(e),d=u.length;if(c!=d&&!o)return!1;var h=c;while(h--){var p=l[h];if(!(o?p in e:de.call(e,p)))return!1}var f=r.get(t),m=r.get(e);if(f&&m)return f==e&&m==t;var g=!0;r.set(t,e),r.set(e,t);var y=o;while(++h<c){p=l[h];var b=t[p],w=e[p];if(n)var _=o?n(w,b,p,e,t,r):n(b,w,p,t,e,r);if(!(_===a?b===w||s(b,w,i,n,r):_)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var k=t.constructor,C=e.constructor;k==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof C&&C instanceof C||(g=!1)}return r["delete"](t),r["delete"](e),g}function Rr(t){return xo(wo(t,a,Yo),t+"")}function $r(t){return Ds(t,kd,Yr)}function Ur(t){return Ds(t,Cd,Qr)}var Br=ri?function(t){return ri.get(t)}:$h;function Fr(t){var e=t.name+"",i=li[e],n=de.call(li,e)?i.length:0;while(n--){var s=i[n],a=s.func;if(null==a||a==t)return s.name}return e}function Vr(t){var e=de.call(_n,"placeholder")?_n:t;return e.placeholder}function zr(){var t=_n.iteratee||Ih;return t=t===Ih?ea:t,arguments.length?t(arguments[0],arguments[1]):t}function qr(t,e){var i=t.__data__;return lo(e)?i["string"==typeof e?"string":"hash"]:i.map}function Hr(t){var e=kd(t),i=e.length;while(i--){var n=e[i],s=t[n];e[i]=[n,s,fo(s)]}return e}function Wr(t,e){var i=an(t,e);return Gs(i)?i:a}function Kr(t){var e=de.call(t,Pe),i=t[Pe];try{t[Pe]=a;var n=!0}catch(r){}var s=fe.call(t);return n&&(e?t[Pe]=i:delete t[Pe]),s}var Yr=De?function(t){return null==t?[]:(t=ie(t),Ti(De(t),(function(e){return Te.call(t,e)})))}:Kh,Qr=De?function(t){var e=[];while(t)Pi(e,Yr(t)),t=ke(t);return e}:Kh,Jr=js;function Gr(t,e,i){var n=-1,s=i.length;while(++n<s){var a=i[n],r=a.size;switch(a.type){case"drop":t+=r;break;case"dropRight":e-=r;break;case"take":e=Fe(e,t+r);break;case"takeRight":t=Be(t,e-r);break}}return{start:t,end:e}}function Zr(t){var e=t.match(Ft);return e?e[1].split(Vt):[]}function Xr(t,e,i){e=za(e,t);var n=-1,s=e.length,a=!1;while(++n<s){var r=Io(e[n]);if(!(a=null!=t&&i(t,r)))break;t=t[r]}return a||++n!=s?a:(s=null==t?0:t.length,!!s&&Cu(s)&&ao(r,s)&&(lu(t)||ou(t)))}function to(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&de.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function eo(t){return"function"!=typeof t.constructor||po(t)?{}:Cn(ke(t))}function io(t,e,i){var n=t.constructor;switch(e){case ht:return Ya(t);case K:case Y:return new n(+t);case pt:return Qa(t,i);case ft:case mt:case gt:case vt:case yt:case bt:case wt:case _t:case kt:return Za(t,i);case X:return new n;case tt:case ot:return new n(t);case at:return Ja(t);case rt:return new n;case lt:return Ga(t)}}function no(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}function so(t){return lu(t)||ou(t)||!!(xe&&t&&t[xe])}function ao(t,e){var i=typeof t;return e=null==e?R:e,!!e&&("number"==i||"symbol"!=i&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function ro(t,e,i){if(!Tu(i))return!1;var n=typeof e;return!!("number"==n?uu(i)&&ao(e,i.length):"string"==n&&e in i)&&su(i[e],t)}function oo(t,e){if(lu(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Uu(t))||(Nt.test(t)||!Ot.test(t)||null!=e&&t in ie(e))}function lo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function co(t){var e=Fr(t),i=_n[e];if("function"!=typeof i||!(e in En.prototype))return!1;if(t===i)return!0;var n=Br(i);return!!n&&t===n[0]}function uo(t){return!!pe&&pe in t}(Ye&&Jr(new Ye(new ArrayBuffer(1)))!=pt||Xe&&Jr(new Xe)!=X||ti&&Jr(ti.resolve())!=nt||ei&&Jr(new ei)!=rt||ii&&Jr(new ii)!=ut)&&(Jr=function(t){var e=js(t),i=e==it?t.constructor:a,n=i?Lo(i):"";if(n)switch(n){case ci:return pt;case di:return X;case hi:return nt;case Li:return rt;case Oi:return ut}return e});var ho=ce?_u:Yh;function po(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||le;return t===i}function fo(t){return t===t&&!Tu(t)}function mo(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==a||t in ie(i)))}}function go(t){var e=Bc(t,(function(t){return i.size===h&&i.clear(),t})),i=e.cache;return e}function vo(t,e){var i=t[1],n=e[1],s=i|n,a=s<(b|w|x),r=n==x&&i==k||n==x&&i==E&&t[7].length<=e[8]||n==(x|E)&&e[7].length<=e[8]&&i==k;if(!a&&!r)return t;n&b&&(t[2]=e[2],s|=i&b?0:_);var o=e[3];if(o){var l=t[3];t[3]=l?er(l,o,e[4]):o,t[4]=l?dn(t[3],p):e[4]}return o=e[5],o&&(l=t[5],t[5]=l?ir(l,o,e[6]):o,t[6]=l?dn(t[5],p):e[6]),o=e[7],o&&(t[7]=o),n&x&&(t[8]=null==t[8]?e[8]:Fe(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s,t}function yo(t){var e=[];if(null!=t)for(var i in ie(t))e.push(i);return e}function bo(t){return fe.call(t)}function wo(t,e,n){return e=Be(e===a?t.length-1:e,0),function(){var s=arguments,a=-1,r=Be(s.length-e,0),o=i(r);while(++a<r)o[a]=s[e+a];a=-1;var l=i(e+1);while(++a<e)l[a]=s[a];return l[e]=n(o),bi(t,this,l)}}function _o(t,e){return e.length<2?t:Ns(t,Ea(e,0,-1))}function ko(t,e){var i=t.length,n=Fe(e.length,i),s=nr(t);while(n--){var r=e[n];t[n]=ao(r,i)?s[r]:a}return t}function Co(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var To=Po(Ta),Ao=Le||function(t,e){return oi.setTimeout(t,e)},xo=Po(Aa);function Eo(t,e,i){var n=e+"";return xo(t,no(n,Oo(Zr(n),i)))}function Po(t){var e=0,i=0;return function(){var n=Ve(),s=L-(n-i);if(i=n,s>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(a,arguments)}}function So(t,e){var i=-1,n=t.length,s=n-1;e=e===a?n:e;while(++i<e){var r=va(i,s),o=t[r];t[r]=t[i],t[i]=o}return t.length=e,t}var Mo=go((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Dt,(function(t,i,n,s){e.push(n?s.replace(Ht,"$1"):i||t)})),e}));function Io(t){if("string"==typeof t||Uu(t))return t;var e=t+"";return"0"==e&&1/t==-j?"-0":e}function Lo(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Oo(t,e){return _i(z,(function(i){var n="_."+i[0];e&i[1]&&!Ai(t,n)&&t.push(n)})),t.sort()}function No(t){if(t instanceof En)return t.clone();var e=new xn(t.__wrapped__,t.__chain__);return e.__actions__=nr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Do(t,e,n){e=(n?ro(t,e,n):e===a)?1:Be(Yu(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];var r=0,o=0,l=i(Oe(s/e));while(r<s)l[o++]=Ea(t,r,r+=e);return l}function jo(t){var e=-1,i=null==t?0:t.length,n=0,s=[];while(++e<i){var a=t[e];a&&(s[n++]=a)}return s}function Ro(){var t=arguments.length;if(!t)return[];var e=i(t-1),n=arguments[0],s=t;while(s--)e[s-1]=arguments[s];return Pi(lu(n)?nr(n):[n],Ps(e,1))}var $o=wa((function(t,e){return du(t)?_s(t,Ps(e,1,du,!0)):[]})),Uo=wa((function(t,e){var i=al(e);return du(i)&&(i=a),du(t)?_s(t,Ps(e,1,du,!0),zr(i,2)):[]})),Bo=wa((function(t,e){var i=al(e);return du(i)&&(i=a),du(t)?_s(t,Ps(e,1,du,!0),a,i):[]}));function Fo(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===a?1:Yu(e),Ea(t,e<0?0:e,n)):[]}function Vo(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===a?1:Yu(e),e=n-e,Ea(t,0,e<0?0:e)):[]}function zo(t,e){return t&&t.length?Ra(t,zr(e,3),!0,!0):[]}function qo(t,e){return t&&t.length?Ra(t,zr(e,3),!0):[]}function Ho(t,e,i,n){var s=null==t?0:t.length;return s?(i&&"number"!=typeof i&&ro(t,e,i)&&(i=0,n=s),xs(t,e,i,n)):[]}function Wo(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:Yu(i);return s<0&&(s=Be(n+s,0)),ji(t,zr(e,3),s)}function Ko(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=n-1;return i!==a&&(s=Yu(i),s=i<0?Be(n+s,0):Fe(s,n-1)),ji(t,zr(e,3),s,!0)}function Yo(t){var e=null==t?0:t.length;return e?Ps(t,1):[]}function Qo(t){var e=null==t?0:t.length;return e?Ps(t,j):[]}function Jo(t,e){var i=null==t?0:t.length;return i?(e=e===a?1:Yu(e),Ps(t,e)):[]}function Go(t){var e=-1,i=null==t?0:t.length,n={};while(++e<i){var s=t[e];n[s[0]]=s[1]}return n}function Zo(t){return t&&t.length?t[0]:a}function Xo(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:Yu(i);return s<0&&(s=Be(n+s,0)),Ri(t,e,s)}function tl(t){var e=null==t?0:t.length;return e?Ea(t,0,-1):[]}var el=wa((function(t){var e=Ei(t,Fa);return e.length&&e[0]===t[0]?Fs(e):[]})),il=wa((function(t){var e=al(t),i=Ei(t,Fa);return e===al(i)?e=a:i.pop(),i.length&&i[0]===t[0]?Fs(i,zr(e,2)):[]})),nl=wa((function(t){var e=al(t),i=Ei(t,Fa);return e="function"==typeof e?e:a,e&&i.pop(),i.length&&i[0]===t[0]?Fs(i,a,e):[]}));function sl(t,e){return null==t?"":$e.call(t,e)}function al(t){var e=null==t?0:t.length;return e?t[e-1]:a}function rl(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=n;return i!==a&&(s=Yu(i),s=s<0?Be(n+s,0):Fe(s,n-1)),e===e?mn(t,e,s):ji(t,Ui,s,!0)}function ol(t,e){return t&&t.length?ua(t,Yu(e)):a}var ll=wa(cl);function cl(t,e){return t&&t.length&&e&&e.length?ma(t,e):t}function ul(t,e,i){return t&&t.length&&e&&e.length?ma(t,e,zr(i,2)):t}function dl(t,e,i){return t&&t.length&&e&&e.length?ma(t,e,a,i):t}var hl=Rr((function(t,e){var i=null==t?0:t.length,n=ms(t,e);return ga(t,Ei(e,(function(t){return ao(t,i)?+t:t})).sort(Xa)),n}));function pl(t,e){var i=[];if(!t||!t.length)return i;var n=-1,s=[],a=t.length;e=zr(e,3);while(++n<a){var r=t[n];e(r,n,t)&&(i.push(r),s.push(n))}return ga(t,s),i}function fl(t){return null==t?t:Ke.call(t)}function ml(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&ro(t,e,i)?(e=0,i=n):(e=null==e?0:Yu(e),i=i===a?n:Yu(i)),Ea(t,e,i)):[]}function gl(t,e){return Sa(t,e)}function vl(t,e,i){return Ma(t,e,zr(i,2))}function yl(t,e){var i=null==t?0:t.length;if(i){var n=Sa(t,e);if(n<i&&su(t[n],e))return n}return-1}function bl(t,e){return Sa(t,e,!0)}function wl(t,e,i){return Ma(t,e,zr(i,2),!0)}function _l(t,e){var i=null==t?0:t.length;if(i){var n=Sa(t,e,!0)-1;if(su(t[n],e))return n}return-1}function kl(t){return t&&t.length?Ia(t):[]}function Cl(t,e){return t&&t.length?Ia(t,zr(e,2)):[]}function Tl(t){var e=null==t?0:t.length;return e?Ea(t,1,e):[]}function Al(t,e,i){return t&&t.length?(e=i||e===a?1:Yu(e),Ea(t,0,e<0?0:e)):[]}function xl(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===a?1:Yu(e),e=n-e,Ea(t,e<0?0:e,n)):[]}function El(t,e){return t&&t.length?Ra(t,zr(e,3),!1,!0):[]}function Pl(t,e){return t&&t.length?Ra(t,zr(e,3)):[]}var Sl=wa((function(t){return Na(Ps(t,1,du,!0))})),Ml=wa((function(t){var e=al(t);return du(e)&&(e=a),Na(Ps(t,1,du,!0),zr(e,2))})),Il=wa((function(t){var e=al(t);return e="function"==typeof e?e:a,Na(Ps(t,1,du,!0),a,e)}));function Ll(t){return t&&t.length?Na(t):[]}function Ol(t,e){return t&&t.length?Na(t,zr(e,2)):[]}function Nl(t,e){return e="function"==typeof e?e:a,t&&t.length?Na(t,a,e):[]}function Dl(t){if(!t||!t.length)return[];var e=0;return t=Ti(t,(function(t){if(du(t))return e=Be(t.length,e),!0})),Wi(e,(function(e){return Ei(t,Fi(e))}))}function jl(t,e){if(!t||!t.length)return[];var i=Dl(t);return null==e?i:Ei(i,(function(t){return bi(e,a,t)}))}var Rl=wa((function(t,e){return du(t)?_s(t,e):[]})),$l=wa((function(t){return Ua(Ti(t,du))})),Ul=wa((function(t){var e=al(t);return du(e)&&(e=a),Ua(Ti(t,du),zr(e,2))})),Bl=wa((function(t){var e=al(t);return e="function"==typeof e?e:a,Ua(Ti(t,du),a,e)})),Fl=wa(Dl);function Vl(t,e){return Ba(t||[],e||[],cs)}function zl(t,e){return Ba(t||[],e||[],Ca)}var ql=wa((function(t){var e=t.length,i=e>1?t[e-1]:a;return i="function"==typeof i?(t.pop(),i):a,jl(t,i)}));function Hl(t){var e=_n(t);return e.__chain__=!0,e}function Wl(t,e){return e(t),t}function Kl(t,e){return e(t)}var Yl=Rr((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,s=function(e){return ms(e,t)};return!(e>1||this.__actions__.length)&&n instanceof En&&ao(i)?(n=n.slice(i,+i+(e?1:0)),n.__actions__.push({func:Kl,args:[s],thisArg:a}),new xn(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(a),t}))):this.thru(s)}));function Ql(){return Hl(this)}function Jl(){return new xn(this.value(),this.__chain__)}function Gl(){this.__values__===a&&(this.__values__=Wu(this.value()));var t=this.__index__>=this.__values__.length,e=t?a:this.__values__[this.__index__++];return{done:t,value:e}}function Zl(){return this}function Xl(t){var e,i=this;while(i instanceof An){var n=No(i);n.__index__=0,n.__values__=a,e?s.__wrapped__=n:e=n;var s=n;i=i.__wrapped__}return s.__wrapped__=t,e}function tc(){var t=this.__wrapped__;if(t instanceof En){var e=t;return this.__actions__.length&&(e=new En(this)),e=e.reverse(),e.__actions__.push({func:Kl,args:[fl],thisArg:a}),new xn(e,this.__chain__)}return this.thru(fl)}function ec(){return $a(this.__wrapped__,this.__actions__)}var ic=or((function(t,e,i){de.call(t,i)?++t[i]:fs(t,i,1)}));function nc(t,e,i){var n=lu(t)?Ci:Ts;return i&&ro(t,e,i)&&(e=a),n(t,zr(e,3))}function sc(t,e){var i=lu(t)?Ti:Es;return i(t,zr(e,3))}var ac=gr(Wo),rc=gr(Ko);function oc(t,e){return Ps(gc(t,e),1)}function lc(t,e){return Ps(gc(t,e),j)}function cc(t,e,i){return i=i===a?1:Yu(i),Ps(gc(t,e),i)}function uc(t,e){var i=lu(t)?_i:ks;return i(t,zr(e,3))}function dc(t,e){var i=lu(t)?ki:Cs;return i(t,zr(e,3))}var hc=or((function(t,e,i){de.call(t,i)?t[i].push(e):fs(t,i,[e])}));function pc(t,e,i,n){t=uu(t)?t:Fd(t),i=i&&!n?Yu(i):0;var s=t.length;return i<0&&(i=Be(s+i,0)),$u(t)?i<=s&&t.indexOf(e,i)>-1:!!s&&Ri(t,e,i)>-1}var fc=wa((function(t,e,n){var s=-1,a="function"==typeof e,r=uu(t)?i(t.length):[];return ks(t,(function(t){r[++s]=a?bi(e,t,n):zs(t,e,n)})),r})),mc=or((function(t,e,i){fs(t,i,e)}));function gc(t,e){var i=lu(t)?Ei:aa;return i(t,zr(e,3))}function vc(t,e,i,n){return null==t?[]:(lu(e)||(e=null==e?[]:[e]),i=n?a:i,lu(i)||(i=null==i?[]:[i]),da(t,e,i))}var yc=or((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));function bc(t,e,i){var n=lu(t)?Si:zi,s=arguments.length<3;return n(t,zr(e,4),i,s,ks)}function wc(t,e,i){var n=lu(t)?Mi:zi,s=arguments.length<3;return n(t,zr(e,4),i,s,Cs)}function _c(t,e){var i=lu(t)?Ti:Es;return i(t,Fc(zr(e,3)))}function kc(t){var e=lu(t)?as:_a;return e(t)}function Cc(t,e,i){e=(i?ro(t,e,i):e===a)?1:Yu(e);var n=lu(t)?rs:ka;return n(t,e)}function Tc(t){var e=lu(t)?os:xa;return e(t)}function Ac(t){if(null==t)return 0;if(uu(t))return $u(t)?gn(t):t.length;var e=Jr(t);return e==X||e==rt?t.size:ia(t).length}function xc(t,e,i){var n=lu(t)?Ii:Pa;return i&&ro(t,e,i)&&(e=a),n(t,zr(e,3))}var Ec=wa((function(t,e){if(null==t)return[];var i=e.length;return i>1&&ro(t,e[0],e[1])?e=[]:i>2&&ro(e[0],e[1],e[2])&&(e=[e[0]]),da(t,Ps(e,1),[])})),Pc=Ie||function(){return oi.Date.now()};function Sc(t,e){if("function"!=typeof e)throw new ae(c);return t=Yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Mc(t,e,i){return e=i?a:e,e=t&&null==e?t.length:e,Mr(t,x,a,a,a,a,e)}function Ic(t,e){var i;if("function"!=typeof e)throw new ae(c);return t=Yu(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=a),i}}var Lc=wa((function(t,e,i){var n=b;if(i.length){var s=dn(i,Vr(Lc));n|=T}return Mr(t,n,e,i,s)})),Oc=wa((function(t,e,i){var n=b|w;if(i.length){var s=dn(i,Vr(Oc));n|=T}return Mr(e,n,t,i,s)}));function Nc(t,e,i){e=i?a:e;var n=Mr(t,k,a,a,a,a,a,e);return n.placeholder=Nc.placeholder,n}function Dc(t,e,i){e=i?a:e;var n=Mr(t,C,a,a,a,a,a,e);return n.placeholder=Dc.placeholder,n}function jc(t,e,i){var n,s,r,o,l,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof t)throw new ae(c);function m(e){var i=n,r=s;return n=s=a,d=e,o=t.apply(r,i),o}function g(t){return d=t,l=Ao(b,e),h?m(t):o}function v(t){var i=t-u,n=t-d,s=e-i;return p?Fe(s,r-n):s}function y(t){var i=t-u,n=t-d;return u===a||i>=e||i<0||p&&n>=r}function b(){var t=Pc();if(y(t))return w(t);l=Ao(b,v(t))}function w(t){return l=a,f&&n?m(t):(n=s=a,o)}function _(){l!==a&&Wa(l),d=0,n=u=s=l=a}function k(){return l===a?o:w(Pc())}function C(){var t=Pc(),i=y(t);if(n=arguments,s=this,u=t,i){if(l===a)return g(u);if(p)return Wa(l),l=Ao(b,e),m(u)}return l===a&&(l=Ao(b,e)),o}return e=Ju(e)||0,Tu(i)&&(h=!!i.leading,p="maxWait"in i,r=p?Be(Ju(i.maxWait)||0,e):r,f="trailing"in i?!!i.trailing:f),C.cancel=_,C.flush=k,C}var Rc=wa((function(t,e){return ws(t,1,e)})),$c=wa((function(t,e,i){return ws(t,Ju(e)||0,i)}));function Uc(t){return Mr(t,P)}function Bc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(c);var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=i.cache;if(a.has(s))return a.get(s);var r=t.apply(this,n);return i.cache=a.set(s,r)||a,r};return i.cache=new(Bc.Cache||zn),i}function Fc(t){if("function"!=typeof t)throw new ae(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Vc(t){return Ic(2,t)}Bc.Cache=zn;var zc=qa((function(t,e){e=1==e.length&&lu(e[0])?Ei(e[0],Qi(zr())):Ei(Ps(e,1),Qi(zr()));var i=e.length;return wa((function(n){var s=-1,a=Fe(n.length,i);while(++s<a)n[s]=e[s].call(this,n[s]);return bi(t,this,n)}))})),qc=wa((function(t,e){var i=dn(e,Vr(qc));return Mr(t,T,a,e,i)})),Hc=wa((function(t,e){var i=dn(e,Vr(Hc));return Mr(t,A,a,e,i)})),Wc=Rr((function(t,e){return Mr(t,E,a,a,a,e)}));function Kc(t,e){if("function"!=typeof t)throw new ae(c);return e=e===a?e:Yu(e),wa(t,e)}function Yc(t,e){if("function"!=typeof t)throw new ae(c);return e=null==e?0:Be(Yu(e),0),wa((function(i){var n=i[e],s=Ha(i,0,e);return n&&Pi(s,n),bi(t,this,s)}))}function Qc(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new ae(c);return Tu(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),jc(t,e,{leading:n,maxWait:e,trailing:s})}function Jc(t){return Mc(t,1)}function Gc(t,e){return qc(Va(e),t)}function Zc(){if(!arguments.length)return[];var t=arguments[0];return lu(t)?t:[t]}function Xc(t){return vs(t,g)}function tu(t,e){return e="function"==typeof e?e:a,vs(t,g,e)}function eu(t){return vs(t,f|g)}function iu(t,e){return e="function"==typeof e?e:a,vs(t,f|g,e)}function nu(t,e){return null==e||bs(t,e,kd(e))}function su(t,e){return t===e||t!==t&&e!==e}var au=Ar(Rs),ru=Ar((function(t,e){return t>=e})),ou=qs(function(){return arguments}())?qs:function(t){return Au(t)&&de.call(t,"callee")&&!Te.call(t,"callee")},lu=i.isArray,cu=pi?Qi(pi):Hs;function uu(t){return null!=t&&Cu(t.length)&&!_u(t)}function du(t){return Au(t)&&uu(t)}function hu(t){return!0===t||!1===t||Au(t)&&js(t)==K}var pu=je||Yh,fu=fi?Qi(fi):Ws;function mu(t){return Au(t)&&1===t.nodeType&&!Nu(t)}function gu(t){if(null==t)return!0;if(uu(t)&&(lu(t)||"string"==typeof t||"function"==typeof t.splice||pu(t)||Bu(t)||ou(t)))return!t.length;var e=Jr(t);if(e==X||e==rt)return!t.size;if(po(t))return!ia(t).length;for(var i in t)if(de.call(t,i))return!1;return!0}function vu(t,e){return Ks(t,e)}function yu(t,e,i){i="function"==typeof i?i:a;var n=i?i(t,e):a;return n===a?Ks(t,e,a,i):!!n}function bu(t){if(!Au(t))return!1;var e=js(t);return e==J||e==Q||"string"==typeof t.message&&"string"==typeof t.name&&!Nu(t)}function wu(t){return"number"==typeof t&&Re(t)}function _u(t){if(!Tu(t))return!1;var e=js(t);return e==G||e==Z||e==W||e==st}function ku(t){return"number"==typeof t&&t==Yu(t)}function Cu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=R}function Tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Au(t){return null!=t&&"object"==typeof t}var xu=mi?Qi(mi):Qs;function Eu(t,e){return t===e||Js(t,e,Hr(e))}function Pu(t,e,i){return i="function"==typeof i?i:a,Js(t,e,Hr(e),i)}function Su(t){return Ou(t)&&t!=+t}function Mu(t){if(ho(t))throw new s(l);return Gs(t)}function Iu(t){return null===t}function Lu(t){return null==t}function Ou(t){return"number"==typeof t||Au(t)&&js(t)==tt}function Nu(t){if(!Au(t)||js(t)!=it)return!1;var e=ke(t);if(null===e)return!0;var i=de.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&ue.call(i)==me}var Du=gi?Qi(gi):Zs;function ju(t){return ku(t)&&t>=-R&&t<=R}var Ru=vi?Qi(vi):Xs;function $u(t){return"string"==typeof t||!lu(t)&&Au(t)&&js(t)==ot}function Uu(t){return"symbol"==typeof t||Au(t)&&js(t)==lt}var Bu=yi?Qi(yi):ta;function Fu(t){return t===a}function Vu(t){return Au(t)&&Jr(t)==ut}function zu(t){return Au(t)&&js(t)==dt}var qu=Ar(sa),Hu=Ar((function(t,e){return t<=e}));function Wu(t){if(!t)return[];if(uu(t))return $u(t)?vn(t):nr(t);if(Ee&&t[Ee])return ln(t[Ee]());var e=Jr(t),i=e==X?cn:e==rt?hn:Fd;return i(t)}function Ku(t){if(!t)return 0===t?t:0;if(t=Ju(t),t===j||t===-j){var e=t<0?-1:1;return e*$}return t===t?t:0}function Yu(t){var e=Ku(t),i=e%1;return e===e?i?e-i:e:0}function Qu(t){return t?gs(Yu(t),0,B):0}function Ju(t){if("number"==typeof t)return t;if(Uu(t))return U;if(Tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Yi(t);var i=Qt.test(t);return i||Gt.test(t)?si(t.slice(2),i?2:8):Yt.test(t)?U:+t}function Gu(t){return sr(t,Cd(t))}function Zu(t){return t?gs(Yu(t),-R,R):0===t?t:0}function Xu(t){return null==t?"":Oa(t)}var td=lr((function(t,e){if(po(e)||uu(e))sr(e,kd(e),t);else for(var i in e)de.call(e,i)&&cs(t,i,e[i])})),ed=lr((function(t,e){sr(e,Cd(e),t)})),id=lr((function(t,e,i,n){sr(e,Cd(e),t,n)})),nd=lr((function(t,e,i,n){sr(e,kd(e),t,n)})),sd=Rr(ms);function ad(t,e){var i=Cn(t);return null==e?i:hs(i,e)}var rd=wa((function(t,e){t=ie(t);var i=-1,n=e.length,s=n>2?e[2]:a;s&&ro(e[0],e[1],s)&&(n=1);while(++i<n){var r=e[i],o=Cd(r),l=-1,c=o.length;while(++l<c){var u=o[l],d=t[u];(d===a||su(d,le[u])&&!de.call(t,u))&&(t[u]=r[u])}}return t})),od=wa((function(t){return t.push(a,Lr),bi(Ed,a,t)}));function ld(t,e){return Di(t,zr(e,3),Is)}function cd(t,e){return Di(t,zr(e,3),Ls)}function ud(t,e){return null==t?t:Ss(t,zr(e,3),Cd)}function dd(t,e){return null==t?t:Ms(t,zr(e,3),Cd)}function hd(t,e){return t&&Is(t,zr(e,3))}function pd(t,e){return t&&Ls(t,zr(e,3))}function fd(t){return null==t?[]:Os(t,kd(t))}function md(t){return null==t?[]:Os(t,Cd(t))}function gd(t,e,i){var n=null==t?a:Ns(t,e);return n===a?i:n}function vd(t,e){return null!=t&&Xr(t,e,$s)}function yd(t,e){return null!=t&&Xr(t,e,Us)}var bd=br((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=i}),xh(Mh)),wd=br((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),de.call(t,e)?t[e].push(i):t[e]=[i]}),zr),_d=wa(zs);function kd(t){return uu(t)?ss(t):ia(t)}function Cd(t){return uu(t)?ss(t,!0):na(t)}function Td(t,e){var i={};return e=zr(e,3),Is(t,(function(t,n,s){fs(i,e(t,n,s),t)})),i}function Ad(t,e){var i={};return e=zr(e,3),Is(t,(function(t,n,s){fs(i,n,e(t,n,s))})),i}var xd=lr((function(t,e,i){la(t,e,i)})),Ed=lr((function(t,e,i,n){la(t,e,i,n)})),Pd=Rr((function(t,e){var i={};if(null==t)return i;var n=!1;e=Ei(e,(function(e){return e=za(e,t),n||(n=e.length>1),e})),sr(t,Ur(t),i),n&&(i=vs(i,f|m|g,Or));var s=e.length;while(s--)Da(i,e[s]);return i}));function Sd(t,e){return Id(t,Fc(zr(e)))}var Md=Rr((function(t,e){return null==t?{}:ha(t,e)}));function Id(t,e){if(null==t)return{};var i=Ei(Ur(t),(function(t){return[t]}));return e=zr(e),pa(t,i,(function(t,i){return e(t,i[0])}))}function Ld(t,e,i){e=za(e,t);var n=-1,s=e.length;s||(s=1,t=a);while(++n<s){var r=null==t?a:t[Io(e[n])];r===a&&(n=s,r=i),t=_u(r)?r.call(t):r}return t}function Od(t,e,i){return null==t?t:Ca(t,e,i)}function Nd(t,e,i,n){return n="function"==typeof n?n:a,null==t?t:Ca(t,e,i,n)}var Dd=Sr(kd),jd=Sr(Cd);function Rd(t,e,i){var n=lu(t),s=n||pu(t)||Bu(t);if(e=zr(e,4),null==i){var a=t&&t.constructor;i=s?n?new a:[]:Tu(t)&&_u(a)?Cn(ke(t)):{}}return(s?_i:Is)(t,(function(t,n,s){return e(i,t,n,s)})),i}function $d(t,e){return null==t||Da(t,e)}function Ud(t,e,i){return null==t?t:ja(t,e,Va(i))}function Bd(t,e,i,n){return n="function"==typeof n?n:a,null==t?t:ja(t,e,Va(i),n)}function Fd(t){return null==t?[]:Ji(t,kd(t))}function Vd(t){return null==t?[]:Ji(t,Cd(t))}function zd(t,e,i){return i===a&&(i=e,e=a),i!==a&&(i=Ju(i),i=i===i?i:0),e!==a&&(e=Ju(e),e=e===e?e:0),gs(Ju(t),e,i)}function qd(t,e,i){return e=Ku(e),i===a?(i=e,e=0):i=Ku(i),t=Ju(t),Bs(t,e,i)}function Hd(t,e,i){if(i&&"boolean"!=typeof i&&ro(t,e,i)&&(e=i=a),i===a&&("boolean"==typeof e?(i=e,e=a):"boolean"==typeof t&&(i=t,t=a)),t===a&&e===a?(t=0,e=1):(t=Ku(t),e===a?(e=t,t=0):e=Ku(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var s=We();return Fe(t+s*(e-t+ni("1e-"+((s+"").length-1))),e)}return va(t,e)}var Wd=pr((function(t,e,i){return e=e.toLowerCase(),t+(i?Kd(e):e)}));function Kd(t){return wh(Xu(t).toLowerCase())}function Yd(t){return t=Xu(t),t&&t.replace(Xt,en).replace(qe,"")}function Qd(t,e,i){t=Xu(t),e=Oa(e);var n=t.length;i=i===a?n:gs(Yu(i),0,n);var s=i;return i-=e.length,i>=0&&t.slice(i,s)==e}function Jd(t){return t=Xu(t),t&&St.test(t)?t.replace(Et,nn):t}function Gd(t){return t=Xu(t),t&&Rt.test(t)?t.replace(jt,"\\$&"):t}var Zd=pr((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Xd=pr((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),th=hr("toLowerCase");function eh(t,e,i){t=Xu(t),e=Yu(e);var n=e?gn(t):0;if(!e||n>=e)return t;var s=(e-n)/2;return kr(Ne(s),i)+t+kr(Oe(s),i)}function ih(t,e,i){t=Xu(t),e=Yu(e);var n=e?gn(t):0;return e&&n<e?t+kr(e-n,i):t}function nh(t,e,i){t=Xu(t),e=Yu(e);var n=e?gn(t):0;return e&&n<e?kr(e-n,i)+t:t}function sh(t,e,i){return i||null==e?e=0:e&&(e=+e),He(Xu(t).replace($t,""),e||0)}function ah(t,e,i){return e=(i?ro(t,e,i):e===a)?1:Yu(e),ba(Xu(t),e)}function rh(){var t=arguments,e=Xu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var oh=pr((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));function lh(t,e,i){return i&&"number"!=typeof i&&ro(t,e,i)&&(e=i=a),i=i===a?B:i>>>0,i?(t=Xu(t),t&&("string"==typeof e||null!=e&&!Du(e))&&(e=Oa(e),!e&&rn(t))?Ha(vn(t),0,i):t.split(e,i)):[]}var ch=pr((function(t,e,i){return t+(i?" ":"")+wh(e)}));function uh(t,e,i){return t=Xu(t),i=null==i?0:gs(Yu(i),0,t.length),e=Oa(e),t.slice(i,i+e.length)==e}function dh(t,e,i){var n=_n.templateSettings;i&&ro(t,e,i)&&(e=a),t=Xu(t),e=id({},e,n,Ir);var r,o,l=id({},e.imports,n.imports,Ir),c=kd(l),d=Ji(l,c),h=0,p=e.interpolate||te,f="__p += '",m=ne((e.escape||te).source+"|"+p.source+"|"+(p===Lt?Wt:te).source+"|"+(e.evaluate||te).source+"|$","g"),g="//# sourceURL="+(de.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";t.replace(m,(function(e,i,n,s,a,l){return n||(n=s),f+=t.slice(h,l).replace(ee,sn),i&&(r=!0,f+="' +\n__e("+i+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),f+="';\n";var v=de.call(e,"variable")&&e.variable;if(v){if(qt.test(v))throw new s(u)}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(Ct,""):f).replace(Tt,"$1").replace(At,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=kh((function(){return Ut(c,g+"return "+f).apply(a,d)}));if(y.source=f,bu(y))throw y;return y}function hh(t){return Xu(t).toLowerCase()}function ph(t){return Xu(t).toUpperCase()}function fh(t,e,i){if(t=Xu(t),t&&(i||e===a))return Yi(t);if(!t||!(e=Oa(e)))return t;var n=vn(t),s=vn(e),r=Zi(n,s),o=Xi(n,s)+1;return Ha(n,r,o).join("")}function mh(t,e,i){if(t=Xu(t),t&&(i||e===a))return t.slice(0,yn(t)+1);if(!t||!(e=Oa(e)))return t;var n=vn(t),s=Xi(n,vn(e))+1;return Ha(n,0,s).join("")}function gh(t,e,i){if(t=Xu(t),t&&(i||e===a))return t.replace($t,"");if(!t||!(e=Oa(e)))return t;var n=vn(t),s=Zi(n,vn(e));return Ha(n,s).join("")}function vh(t,e){var i=S,n=M;if(Tu(e)){var s="separator"in e?e.separator:s;i="length"in e?Yu(e.length):i,n="omission"in e?Oa(e.omission):n}t=Xu(t);var r=t.length;if(rn(t)){var o=vn(t);r=o.length}if(i>=r)return t;var l=i-gn(n);if(l<1)return n;var c=o?Ha(o,0,l).join(""):t.slice(0,l);if(s===a)return c+n;if(o&&(l+=c.length-l),Du(s)){if(t.slice(l).search(s)){var u,d=c;s.global||(s=ne(s.source,Xu(Kt.exec(s))+"g")),s.lastIndex=0;while(u=s.exec(d))var h=u.index;c=c.slice(0,h===a?l:h)}}else if(t.indexOf(Oa(s),l)!=l){var p=c.lastIndexOf(s);p>-1&&(c=c.slice(0,p))}return c+n}function yh(t){return t=Xu(t),t&&Pt.test(t)?t.replace(xt,bn):t}var bh=pr((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),wh=hr("toUpperCase");function _h(t,e,i){return t=Xu(t),e=i?a:e,e===a?on(t)?kn(t):Ni(t):t.match(e)||[]}var kh=wa((function(t,e){try{return bi(t,a,e)}catch(i){return bu(i)?i:new s(i)}})),Ch=Rr((function(t,e){return _i(e,(function(e){e=Io(e),fs(t,e,Lc(t[e],t))})),t}));function Th(t){var e=null==t?0:t.length,i=zr();return t=e?Ei(t,(function(t){if("function"!=typeof t[1])throw new ae(c);return[i(t[0]),t[1]]})):[],wa((function(i){var n=-1;while(++n<e){var s=t[n];if(bi(s[0],this,i))return bi(s[1],this,i)}}))}function Ah(t){return ys(vs(t,f))}function xh(t){return function(){return t}}function Eh(t,e){return null==t||t!==t?e:t}var Ph=vr(),Sh=vr(!0);function Mh(t){return t}function Ih(t){return ea("function"==typeof t?t:vs(t,f))}function Lh(t){return ra(vs(t,f))}function Oh(t,e){return oa(t,vs(e,f))}var Nh=wa((function(t,e){return function(i){return zs(i,t,e)}})),Dh=wa((function(t,e){return function(i){return zs(t,i,e)}}));function jh(t,e,i){var n=kd(e),s=Os(e,n);null!=i||Tu(e)&&(s.length||!n.length)||(i=e,e=t,t=this,s=Os(e,kd(e)));var a=!(Tu(i)&&"chain"in i)||!!i.chain,r=_u(t);return _i(s,(function(i){var n=e[i];t[i]=n,r&&(t.prototype[i]=function(){var e=this.__chain__;if(a||e){var i=t(this.__wrapped__),s=i.__actions__=nr(this.__actions__);return s.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,Pi([this.value()],arguments))})})),t}function Rh(){return oi._===this&&(oi._=ge),this}function $h(){}function Uh(t){return t=Yu(t),wa((function(e){return ua(e,t)}))}var Bh=_r(Ei),Fh=_r(Ci),Vh=_r(Ii);function zh(t){return oo(t)?Fi(Io(t)):fa(t)}function qh(t){return function(e){return null==t?a:Ns(t,e)}}var Hh=Tr(),Wh=Tr(!0);function Kh(){return[]}function Yh(){return!1}function Qh(){return{}}function Jh(){return""}function Gh(){return!0}function Zh(t,e){if(t=Yu(t),t<1||t>R)return[];var i=B,n=Fe(t,B);e=zr(e),t-=B;var s=Wi(n,e);while(++i<t)e(i);return s}function Xh(t){return lu(t)?Ei(t,Io):Uu(t)?[t]:nr(Mo(Xu(t)))}function tp(t){var e=++he;return Xu(t)+e}var ep=wr((function(t,e){return t+e}),0),ip=Er("ceil"),np=wr((function(t,e){return t/e}),1),sp=Er("floor");function ap(t){return t&&t.length?As(t,Mh,Rs):a}function rp(t,e){return t&&t.length?As(t,zr(e,2),Rs):a}function op(t){return Bi(t,Mh)}function lp(t,e){return Bi(t,zr(e,2))}function cp(t){return t&&t.length?As(t,Mh,sa):a}function up(t,e){return t&&t.length?As(t,zr(e,2),sa):a}var dp=wr((function(t,e){return t*e}),1),hp=Er("round"),pp=wr((function(t,e){return t-e}),0);function fp(t){return t&&t.length?Hi(t,Mh):0}function mp(t,e){return t&&t.length?Hi(t,zr(e,2)):0}return _n.after=Sc,_n.ary=Mc,_n.assign=td,_n.assignIn=ed,_n.assignInWith=id,_n.assignWith=nd,_n.at=sd,_n.before=Ic,_n.bind=Lc,_n.bindAll=Ch,_n.bindKey=Oc,_n.castArray=Zc,_n.chain=Hl,_n.chunk=Do,_n.compact=jo,_n.concat=Ro,_n.cond=Th,_n.conforms=Ah,_n.constant=xh,_n.countBy=ic,_n.create=ad,_n.curry=Nc,_n.curryRight=Dc,_n.debounce=jc,_n.defaults=rd,_n.defaultsDeep=od,_n.defer=Rc,_n.delay=$c,_n.difference=$o,_n.differenceBy=Uo,_n.differenceWith=Bo,_n.drop=Fo,_n.dropRight=Vo,_n.dropRightWhile=zo,_n.dropWhile=qo,_n.fill=Ho,_n.filter=sc,_n.flatMap=oc,_n.flatMapDeep=lc,_n.flatMapDepth=cc,_n.flatten=Yo,_n.flattenDeep=Qo,_n.flattenDepth=Jo,_n.flip=Uc,_n.flow=Ph,_n.flowRight=Sh,_n.fromPairs=Go,_n.functions=fd,_n.functionsIn=md,_n.groupBy=hc,_n.initial=tl,_n.intersection=el,_n.intersectionBy=il,_n.intersectionWith=nl,_n.invert=bd,_n.invertBy=wd,_n.invokeMap=fc,_n.iteratee=Ih,_n.keyBy=mc,_n.keys=kd,_n.keysIn=Cd,_n.map=gc,_n.mapKeys=Td,_n.mapValues=Ad,_n.matches=Lh,_n.matchesProperty=Oh,_n.memoize=Bc,_n.merge=xd,_n.mergeWith=Ed,_n.method=Nh,_n.methodOf=Dh,_n.mixin=jh,_n.negate=Fc,_n.nthArg=Uh,_n.omit=Pd,_n.omitBy=Sd,_n.once=Vc,_n.orderBy=vc,_n.over=Bh,_n.overArgs=zc,_n.overEvery=Fh,_n.overSome=Vh,_n.partial=qc,_n.partialRight=Hc,_n.partition=yc,_n.pick=Md,_n.pickBy=Id,_n.property=zh,_n.propertyOf=qh,_n.pull=ll,_n.pullAll=cl,_n.pullAllBy=ul,_n.pullAllWith=dl,_n.pullAt=hl,_n.range=Hh,_n.rangeRight=Wh,_n.rearg=Wc,_n.reject=_c,_n.remove=pl,_n.rest=Kc,_n.reverse=fl,_n.sampleSize=Cc,_n.set=Od,_n.setWith=Nd,_n.shuffle=Tc,_n.slice=ml,_n.sortBy=Ec,_n.sortedUniq=kl,_n.sortedUniqBy=Cl,_n.split=lh,_n.spread=Yc,_n.tail=Tl,_n.take=Al,_n.takeRight=xl,_n.takeRightWhile=El,_n.takeWhile=Pl,_n.tap=Wl,_n.throttle=Qc,_n.thru=Kl,_n.toArray=Wu,_n.toPairs=Dd,_n.toPairsIn=jd,_n.toPath=Xh,_n.toPlainObject=Gu,_n.transform=Rd,_n.unary=Jc,_n.union=Sl,_n.unionBy=Ml,_n.unionWith=Il,_n.uniq=Ll,_n.uniqBy=Ol,_n.uniqWith=Nl,_n.unset=$d,_n.unzip=Dl,_n.unzipWith=jl,_n.update=Ud,_n.updateWith=Bd,_n.values=Fd,_n.valuesIn=Vd,_n.without=Rl,_n.words=_h,_n.wrap=Gc,_n.xor=$l,_n.xorBy=Ul,_n.xorWith=Bl,_n.zip=Fl,_n.zipObject=Vl,_n.zipObjectDeep=zl,_n.zipWith=ql,_n.entries=Dd,_n.entriesIn=jd,_n.extend=ed,_n.extendWith=id,jh(_n,_n),_n.add=ep,_n.attempt=kh,_n.camelCase=Wd,_n.capitalize=Kd,_n.ceil=ip,_n.clamp=zd,_n.clone=Xc,_n.cloneDeep=eu,_n.cloneDeepWith=iu,_n.cloneWith=tu,_n.conformsTo=nu,_n.deburr=Yd,_n.defaultTo=Eh,_n.divide=np,_n.endsWith=Qd,_n.eq=su,_n.escape=Jd,_n.escapeRegExp=Gd,_n.every=nc,_n.find=ac,_n.findIndex=Wo,_n.findKey=ld,_n.findLast=rc,_n.findLastIndex=Ko,_n.findLastKey=cd,_n.floor=sp,_n.forEach=uc,_n.forEachRight=dc,_n.forIn=ud,_n.forInRight=dd,_n.forOwn=hd,_n.forOwnRight=pd,_n.get=gd,_n.gt=au,_n.gte=ru,_n.has=vd,_n.hasIn=yd,_n.head=Zo,_n.identity=Mh,_n.includes=pc,_n.indexOf=Xo,_n.inRange=qd,_n.invoke=_d,_n.isArguments=ou,_n.isArray=lu,_n.isArrayBuffer=cu,_n.isArrayLike=uu,_n.isArrayLikeObject=du,_n.isBoolean=hu,_n.isBuffer=pu,_n.isDate=fu,_n.isElement=mu,_n.isEmpty=gu,_n.isEqual=vu,_n.isEqualWith=yu,_n.isError=bu,_n.isFinite=wu,_n.isFunction=_u,_n.isInteger=ku,_n.isLength=Cu,_n.isMap=xu,_n.isMatch=Eu,_n.isMatchWith=Pu,_n.isNaN=Su,_n.isNative=Mu,_n.isNil=Lu,_n.isNull=Iu,_n.isNumber=Ou,_n.isObject=Tu,_n.isObjectLike=Au,_n.isPlainObject=Nu,_n.isRegExp=Du,_n.isSafeInteger=ju,_n.isSet=Ru,_n.isString=$u,_n.isSymbol=Uu,_n.isTypedArray=Bu,_n.isUndefined=Fu,_n.isWeakMap=Vu,_n.isWeakSet=zu,_n.join=sl,_n.kebabCase=Zd,_n.last=al,_n.lastIndexOf=rl,_n.lowerCase=Xd,_n.lowerFirst=th,_n.lt=qu,_n.lte=Hu,_n.max=ap,_n.maxBy=rp,_n.mean=op,_n.meanBy=lp,_n.min=cp,_n.minBy=up,_n.stubArray=Kh,_n.stubFalse=Yh,_n.stubObject=Qh,_n.stubString=Jh,_n.stubTrue=Gh,_n.multiply=dp,_n.nth=ol,_n.noConflict=Rh,_n.noop=$h,_n.now=Pc,_n.pad=eh,_n.padEnd=ih,_n.padStart=nh,_n.parseInt=sh,_n.random=Hd,_n.reduce=bc,_n.reduceRight=wc,_n.repeat=ah,_n.replace=rh,_n.result=Ld,_n.round=hp,_n.runInContext=t,_n.sample=kc,_n.size=Ac,_n.snakeCase=oh,_n.some=xc,_n.sortedIndex=gl,_n.sortedIndexBy=vl,_n.sortedIndexOf=yl,_n.sortedLastIndex=bl,_n.sortedLastIndexBy=wl,_n.sortedLastIndexOf=_l,_n.startCase=ch,_n.startsWith=uh,_n.subtract=pp,_n.sum=fp,_n.sumBy=mp,_n.template=dh,_n.times=Zh,_n.toFinite=Ku,_n.toInteger=Yu,_n.toLength=Qu,_n.toLower=hh,_n.toNumber=Ju,_n.toSafeInteger=Zu,_n.toString=Xu,_n.toUpper=ph,_n.trim=fh,_n.trimEnd=mh,_n.trimStart=gh,_n.truncate=vh,_n.unescape=yh,_n.uniqueId=tp,_n.upperCase=bh,_n.upperFirst=wh,_n.each=uc,_n.eachRight=dc,_n.first=Zo,jh(_n,function(){var t={};return Is(_n,(function(e,i){de.call(_n.prototype,i)||(t[i]=e)})),t}(),{chain:!1}),_n.VERSION=r,_i(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){_n[t].placeholder=_n})),_i(["drop","take"],(function(t,e){En.prototype[t]=function(i){i=i===a?1:Be(Yu(i),0);var n=this.__filtered__&&!e?new En(this):this.clone();return n.__filtered__?n.__takeCount__=Fe(i,n.__takeCount__):n.__views__.push({size:Fe(i,B),type:t+(n.__dir__<0?"Right":"")}),n},En.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_i(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=i==O||i==D;En.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:zr(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),_i(["head","last"],(function(t,e){var i="take"+(e?"Right":"");En.prototype[t]=function(){return this[i](1).value()[0]}})),_i(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");En.prototype[t]=function(){return this.__filtered__?new En(this):this[i](1)}})),En.prototype.compact=function(){return this.filter(Mh)},En.prototype.find=function(t){return this.filter(t).head()},En.prototype.findLast=function(t){return this.reverse().find(t)},En.prototype.invokeMap=wa((function(t,e){return"function"==typeof t?new En(this):this.map((function(i){return zs(i,t,e)}))})),En.prototype.reject=function(t){return this.filter(Fc(zr(t)))},En.prototype.slice=function(t,e){t=Yu(t);var i=this;return i.__filtered__&&(t>0||e<0)?new En(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==a&&(e=Yu(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},En.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},En.prototype.toArray=function(){return this.take(B)},Is(En.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),s=_n[n?"take"+("last"==e?"Right":""):e],r=n||/^find/.test(e);s&&(_n.prototype[e]=function(){var e=this.__wrapped__,o=n?[1]:arguments,l=e instanceof En,c=o[0],u=l||lu(e),d=function(t){var e=s.apply(_n,Pi([t],o));return n&&h?e[0]:e};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=r&&!h,m=l&&!p;if(!r&&u){e=m?e:new En(this);var g=t.apply(e,o);return g.__actions__.push({func:Kl,args:[d],thisArg:a}),new xn(g,h)}return f&&m?t.apply(this,o):(g=this.thru(d),f?n?g.value()[0]:g.value():g)})})),_i(["pop","push","shift","sort","splice","unshift"],(function(t){var e=re[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);_n.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var s=this.value();return e.apply(lu(s)?s:[],t)}return this[i]((function(i){return e.apply(lu(i)?i:[],t)}))}})),Is(En.prototype,(function(t,e){var i=_n[e];if(i){var n=i.name+"";de.call(li,n)||(li[n]=[]),li[n].push({name:e,func:i})}})),li[yr(a,w).name]=[{name:"wrapper",func:a}],En.prototype.clone=Pn,En.prototype.reverse=Sn,En.prototype.value=Mn,_n.prototype.at=Yl,_n.prototype.chain=Ql,_n.prototype.commit=Jl,_n.prototype.next=Gl,_n.prototype.plant=Xl,_n.prototype.reverse=tc,_n.prototype.toJSON=_n.prototype.valueOf=_n.prototype.value=ec,_n.prototype.first=_n.prototype.head,Ee&&(_n.prototype[Ee]=Zl),_n},Tn=Cn();oi._=Tn,s=function(){return Tn}.call(e,i,e,n),s===a||(n.exports=s)}).call(this)}).call(this,i("c8ba"),i("62e4")(t))},"2f3a":function(t,e,i){const n=i("bbf0"),s=i("7bf0");function a(t){this.mode=n.KANJI,this.data=t}a.getBitsLength=function(t){return 13*t},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=s.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13)}},t.exports=a},"2fb2":function(t,e,i){},3020:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover",class:{"cover-hover":t.coverHover},on:{mouseover:function(e){t.focus=!0},mouseleave:function(e){t.focus=!1},click:function(e){t.clickCoverToPlay?t.play():t.goTo()}}},[i("div",{staticClass:"cover-container"},[i("div",{staticClass:"shade"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.focus,expression:"focus"}],staticClass:"play-button",style:t.playButtonStyles,on:{click:function(e){return e.stopPropagation(),t.play()}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)]),i("img",{style:t.imageStyles,attrs:{src:t.imageUrl,loading:"lazy"}}),t.coverHover||t.alwaysShowShadow?i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.focus||t.alwaysShowShadow,expression:"focus || alwaysShowShadow"}],staticClass:"shadow",style:t.shadowStyles})]):t._e()],1)])},s=[],a=(i("a9e3"),{props:{id:{type:Number,required:!0},type:{type:String,required:!0},imageUrl:{type:String,required:!0},fixedSize:{type:Number,default:0},playButtonSize:{type:Number,default:22},coverHover:{type:Boolean,default:!0},alwaysShowPlayButton:{type:Boolean,default:!0},alwaysShowShadow:{type:Boolean,default:!1},clickCoverToPlay:{type:Boolean,default:!1},shadowMargin:{type:Number,default:12},radius:{type:Number,default:12}},data:function(){return{focus:!1}},computed:{imageStyles:function(){var t={};return 0!==this.fixedSize&&(t.width=this.fixedSize+"px",t.height=this.fixedSize+"px"),"artist"===this.type&&(t.borderRadius="50%"),t},playButtonStyles:function(){var t={};return t.width=this.playButtonSize+"%",t.height=this.playButtonSize+"%",t},shadowStyles:function(){var t={};return t.backgroundImage="url(".concat(this.imageUrl,")"),"artist"===this.type&&(t.borderRadius="50%"),t}},methods:{play:function(){var t=this.$store.state.player,e={album:t.playAlbumByID,playlist:t.playPlaylistByID,artist:t.playArtistByID};e[this.type].bind(t)(this.id)},goTo:function(){this.$router.push({name:this.type,params:{id:this.id}})}}}),r=a,o=(i("5fe8"),i("2877")),l=Object(o["a"])(r,n,s,!1,null,"402f8e43",null);e["a"]=l.exports},"30cd":function(t,e,i){},"34fc":function(t,e,i){const n=i("7a43"),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return s[4*(t-1)+0];case n.M:return s[4*(t-1)+1];case n.Q:return s[4*(t-1)+2];case n.H:return s[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return a[4*(t-1)+0];case n.M:return a[4*(t-1)+1];case n.Q:return a[4*(t-1)+2];case n.H:return a[4*(t-1)+3];default:return}}},"35aa":function(t,e,i){"use strict";i("f1e5")},"37c1":function(t,e,i){},3835:function(t,e,i){},"3b62":function(t,e,i){"use strict";i("8d9b")},"3e8f":function(t,e){},4006:function(t,e,i){const n=i("45be");function s(t,e){const i=t.a/255,n=e+'="'+t.hex+'"';return i<1?n+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function a(t,e,i){let n=t+e;return"undefined"!==typeof i&&(n+=" "+i),n}function r(t,e,i){let n="",s=0,r=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);c||r||(r=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=r?a("M",c+i,.5+u+i):a("m",s,0),s=0,r=!1),c+1<e&&t[l+1]||(n+=a("h",o),o=0)):s++}return n}e.render=function(t,e,i){const a=n.getOptions(e),o=t.modules.size,l=t.modules.data,c=o+2*a.margin,u=a.color.light.a?"<path "+s(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+s(a.color.dark,"stroke")+' d="'+r(l,o,a.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',p=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",f='<svg xmlns="http://www.w3.org/2000/svg" '+p+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"===typeof i&&i(null,f),f}},4146:function(t,e,i){const n=i("45be");function s(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}function a(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}e.render=function(t,e,i){let r=i,o=e;"undefined"!==typeof r||e&&e.getContext||(r=e,e=void 0),e||(o=a()),r=n.getOptions(r);const l=n.getImageWidth(t.modules.size,r),c=o.getContext("2d"),u=c.createImageData(l,l);return n.qrToImageData(u.data,t,r),s(c,o,l),c.putImageData(u,0,0),o},e.renderToDataURL=function(t,i,n){let s=n;"undefined"!==typeof s||i&&i.getContext||(s=i,i=void 0),s||(s={});const a=e.render(t,i,s),r=s.type||"image/png",o=s.rendererOpts||{};return a.toDataURL(r,o.quality)}},"443b":function(t,e,i){"use strict";i("f910")},"45be":function(t,e){function i(t){if("number"===typeof t&&(t=t.toString()),"string"!==typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e="undefined"===typeof t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:n,scale:n?4:s,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,i){const n=e.getScale(t,i);return Math.floor((t+2*i.margin)*n)},e.qrToImageData=function(t,i,n){const s=i.modules.size,a=i.modules.data,r=e.getScale(s,n),o=Math.floor((s+2*n.margin)*r),l=n.margin*r,c=[n.color.light,n.color.dark];for(let e=0;e<o;e++)for(let i=0;i<o;i++){let u=4*(e*o+i),d=n.color.light;if(e>=l&&i>=l&&e<o-l&&i<o-l){const t=Math.floor((e-l)/r),n=Math.floor((i-l)/r);d=c[a[t*s+n]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}},"4e22":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-page"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0||t.albums.length>0,expression:"artists.length > 0 || albums.length > 0"}],staticClass:"row"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"artists"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.artists.length>0,expression:"artists.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.artist"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/artists"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"artist","column-number":3,items:t.artists.slice(0,3),gap:"34px 24px"}})],1),i("div",{staticClass:"albums"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.albums.length>0,expression:"albums.length > 0"}],staticClass:"section-title"},[t._v(t._s(t.$t("search.album"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/albums"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"album",items:t.albums.slice(0,3),"sub-text":"artist","column-number":3,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tracks.length>0,expression:"tracks.length > 0"}],staticClass:"tracks"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.song"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/tracks"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("TrackList",{attrs:{tracks:t.tracks,type:"tracklist"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.musicVideos.length>0,expression:"musicVideos.length > 0"}],staticClass:"music-videos"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.mv"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/music-videos"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("MvRow",{attrs:{mvs:t.musicVideos.slice(0,5)}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.playlists.length>0,expression:"playlists.length > 0"}],staticClass:"playlists"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("search.playlist"))),i("router-link",{attrs:{to:"/search/"+t.keywords+"/playlists"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.playlists.slice(0,12),"sub-text":"title","column-number":6,"sub-text-font-size":"14px",gap:"34px 24px","play-button-size":26}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.haveResult,expression:"!haveResult"}],staticClass:"no-results"},[i("div",[i("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" "+t._s(0===t.keywords.length?"输入关键字搜索":t.$t("search.noResult")))],1)])])},s=[],a=i("f3f3"),r=(i("7db0"),i("d3b7"),i("3ca3"),i("ddb0"),i("d81d"),i("ac1f"),i("841c"),i("a15b"),i("2f62")),o=i("fefb"),l=i("dad3"),c=i("323e"),u=i.n(c),d=i("a1a1"),h=i("d4e3"),p=i("2726"),f={name:"Search",components:{TrackList:d["a"],MvRow:h["a"],CoverRow:p["a"]},data:function(){return{show:!1,tracks:[],artists:[],albums:[],playlists:[],musicVideos:[]}},computed:{keywords:function(){var t;return null!==(t=this.$route.params.keywords)&&void 0!==t?t:""},haveResult:function(){return this.tracks.length+this.artists.length+this.albums.length+this.playlists.length+this.musicVideos.length>0}},watch:{keywords:function(t){0!==t.length&&this.getData()}},created:function(){this.getData()},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["showToast"])),{},{playTrackInSearchResult:function(t){var e=this.tracks.find((function(e){return e.id===t}));this.$store.state.player.appendTrackToPlayerList(e,!0)},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=this.showToast,i={all:1018,musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(l["c"])({keywords:this.keywords,type:i[t],limit:16}).then((function(e){return{result:e.result,type:t}})).catch((function(t){e(t.response.data.msg||t.response.data.message)}))},getData:function(){var t=this;setTimeout((function(){t.show||u.a.start()}),1e3),this.show=!1;var e=function(e){var i=t.keywords;Promise.all(e).then((function(e){i==t.keywords&&(e.map((function(e){var i,n,s,a,r,o=e.type;if(void 0!==e.result)switch(e=e.result,o){case"all":t.result=e;break;case"musicVideos":t.musicVideos=null!==(i=e.mvs)&&void 0!==i?i:[];break;case"artists":t.artists=null!==(n=e.artists)&&void 0!==n?n:[];break;case"albums":t.albums=null!==(s=e.albums)&&void 0!==s?s:[];break;case"tracks":t.tracks=null!==(a=e.songs)&&void 0!==a?a:[],t.getTracksDetail();break;case"playlists":t.playlists=null!==(r=e.playlists)&&void 0!==r?r:[];break}})),u.a.done(),t.show=!0)}))},i=[this.search("artists"),this.search("albums"),this.search("tracks")],n=[this.search("musicVideos"),this.search("playlists")];e(i),e(n)},getTracksDetail:function(){var t=this,e=this.tracks.map((function(t){return t.id}));0!==e.length&&Object(o["c"])(e.join(",")).then((function(e){t.tracks=e.songs}))}})},m=f,g=(i("9369"),i("2877")),v=Object(g["a"])(m,n,s,!1,null,"67ed526a",null);e["default"]=v.exports},"4fb8":function(t,e,i){(function(e){"object"==typeof navigator&&function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={addCSS:!0,thumbWidth:15,watch:!0};function o(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}var l=function(t){return null!=t?t.constructor:null},c=function(t,e){return!!(t&&e&&t instanceof e)},u=function(t){return null==t},d=function(t){return l(t)===Object},h=function(t){return l(t)===String},p=function(t){return Array.isArray(t)},f=function(t){return c(t,NodeList)},m=h,g=p,v=f,y=function(t){return c(t,Element)},b=function(t){return c(t,Event)},w=function(t){return u(t)||(h(t)||p(t)||f(t))&&!t.length||d(t)&&!Object.keys(t).length};function _(t,e){if(1>e){var i=function(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);return parseFloat(t.toFixed(i))}return Math.round(t/e)*e}var k=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),y(e)?this.element=e:m(e)&&(this.element=document.querySelector(e)),y(this.element)&&w(this.element.rangeTouch)&&(this.config=a({},r,{},i),this.init())}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,i=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(t){e.element[i](t,(function(t){return e.set(t)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!b(e))return null;var i,n=e.target,s=e.changedTouches[0],a=parseFloat(n.getAttribute("min"))||0,r=parseFloat(n.getAttribute("max"))||100,o=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(s.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),a+_(i/100*(r-a),o)}},{key:"set",value:function(e){t.enabled&&b(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(t,e){if(t&&e){var i=new Event(e,{bubbles:!0});t.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(w(e)||m(e)?n=Array.from(document.querySelectorAll(m(e)?e:'input[type="range"]')):y(e)?n=[e]:v(e)?n=Array.from(e):g(e)&&(n=e.filter(y)),w(n))return null;var s=a({},r,{},i);if(m(e)&&s.watch){var l=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){y(i)&&o(i,e)&&new t(i,s)}))}))}));l.observe(document.body,{childList:!0,subtree:!0})}return n.map((function(e){return new t(e,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const C=t=>null!=t?t.constructor:null,T=(t,e)=>Boolean(t&&e&&t instanceof e),A=t=>null==t,x=t=>C(t)===Object,E=t=>C(t)===String,P=t=>C(t)===Function,S=t=>Array.isArray(t),M=t=>T(t,NodeList),I=t=>A(t)||(E(t)||S(t)||M(t))&&!t.length||x(t)&&!Object.keys(t).length;var L=A,O=x,N=t=>C(t)===Number&&!Number.isNaN(t),D=E,j=t=>C(t)===Boolean,R=P,$=S,U=M,B=t=>null!==t&&"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument,F=t=>T(t,Event),V=t=>T(t,KeyboardEvent),z=t=>T(t,TextTrack)||!A(t)&&E(t.kind),q=t=>T(t,Promise)&&P(t.then),H=t=>{if(T(t,window.URL))return!0;if(!E(t))return!1;let e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://"+t);try{return!I(new URL(e).hostname)}catch(t){return!1}},W=I;const K=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(e=>void 0!==t.style[e]);return!!D(i)&&e[i]})();function Y(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch(t){}},e)}const Q={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function J(t,e){return e.split(".").reduce((t,e)=>t&&t[e],t)}function G(t={},...e){if(!e.length)return t;const i=e.shift();return O(i)?(Object.keys(i).forEach(e=>{O(i[e])?(Object.keys(t).includes(e)||Object.assign(t,{[e]:{}}),G(t[e],i[e])):Object.assign(t,{[e]:i[e]})}),G(t,...e)):t}function Z(t,e){const i=t.length?t:[t];Array.from(i).reverse().forEach((t,i)=>{const n=i>0?e.cloneNode(!0):e,s=t.parentNode,a=t.nextSibling;n.appendChild(t),a?s.insertBefore(n,a):s.appendChild(n)})}function X(t,e){B(t)&&!W(e)&&Object.entries(e).filter(([,t])=>!L(t)).forEach(([e,i])=>t.setAttribute(e,i))}function tt(t,e,i){const n=document.createElement(t);return O(e)&&X(n,e),D(i)&&(n.innerText=i),n}function et(t,e,i,n){B(e)&&e.appendChild(tt(t,i,n))}function it(t){U(t)||$(t)?Array.from(t).forEach(it):B(t)&&B(t.parentNode)&&t.parentNode.removeChild(t)}function nt(t){if(!B(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function st(t,e){return B(e)&&B(e.parentNode)&&B(t)?(e.parentNode.replaceChild(t,e),t):null}function at(t,e){if(!D(t)||W(t))return{};const i={},n=G({},e);return t.split(",").forEach(t=>{const e=t.trim(),s=e.replace(".",""),a=e.replace(/[[\]]/g,"").split("="),[r]=a,o=a.length>1?a[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":D(n.class)?i.class=`${n.class} ${s}`:i.class=s;break;case"#":i.id=e.replace("#","");break;case"[":i[r]=o}}),G(n,i)}function rt(t,e){if(!B(t))return;let i=e;j(i)||(i=!t.hidden),t.hidden=i}function ot(t,e,i){if(U(t))return Array.from(t).map(t=>ot(t,e,i));if(B(t)){let n="toggle";return void 0!==i&&(n=i?"add":"remove"),t.classList[n](e),t.classList.contains(e)}return!1}function lt(t,e){return B(t)&&t.classList.contains(e)}function ct(t,e){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function ut(t){return this.elements.container.querySelectorAll(t)}function dt(t){return this.elements.container.querySelector(t)}function ht(t=null,e=!1){B(t)&&(t.focus({preventScroll:!0}),e&&ot(t,this.config.classNames.tabFocus))}const pt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ft={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e,i){const n=Q.isIPhone&&i&&ft.playsinline,s=ft[t]||"html5"!==e;return{api:s,ui:s&&ft.rangeInput&&("video"!==t||!Q.isIPhone||n)}},pip:!(Q.isIPhone||!R(tt("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||tt("video").disablePictureInPicture)),airplay:R(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(W(t))return!1;const[e]=t.split("/");let i=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(pt).includes(i)&&(i+=`; codecs="${pt[t]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range","range"===t.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==K,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},mt=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t})();function gt(t,e,i,n=!1,s=!0,a=!1){if(!t||!("addEventListener"in t)||W(e)||!R(i))return;const r=e.split(" ");let o=a;mt&&(o={passive:s,capture:a}),r.forEach(e=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:t,type:e,callback:i,options:o}),t[n?"addEventListener":"removeEventListener"](e,i,o)})}function vt(t,e="",i,n=!0,s=!1){gt.call(this,t,e,i,!0,n,s)}function yt(t,e="",i,n=!0,s=!1){gt.call(this,t,e,i,!1,n,s)}function bt(t,e="",i,n=!0,s=!1){const a=(...r)=>{yt(t,e,a,n,s),i.apply(this,r)};gt.call(this,t,e,a,!0,n,s)}function wt(t,e="",i=!1,n={}){if(!B(t)||W(e))return;const s=new CustomEvent(e,{bubbles:i,detail:{...n,plyr:this}});t.dispatchEvent(s)}function _t(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:i,callback:n,options:s}=t;e.removeEventListener(i,n,s)}),this.eventListeners=[])}function kt(){return new Promise(t=>this.ready?setTimeout(t,0):vt.call(this,this.elements.container,"ready",t)).then(()=>{})}function Ct(t){q(t)&&t.then(null,()=>{})}function Tt(t){return $(t)?t.filter((e,i)=>t.indexOf(e)===i):t}function At(t,e){return $(t)&&t.length?t.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}function xt(t){return!(!window||!window.CSS)&&window.CSS.supports(t)}const Et=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,i])=>({...t,[e/i]:[e,i]}),{});function Pt(t){return!!($(t)||D(t)&&t.includes(":"))&&($(t)?t:t.split(":")).map(Number).every(N)}function St(t){if(!$(t)||!t.every(N))return null;const[e,i]=t,n=(t,e)=>0===e?t:n(e,t%e),s=n(e,i);return[e/s,i/s]}function Mt(t){const e=t=>Pt(t)?t.split(":").map(Number):null;let i=e(t);if(null===i&&(i=e(this.config.ratio)),null===i&&!W(this.embed)&&$(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:t,videoHeight:e}=this.media;i=[t,e]}return St(i)}function It(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,i=Mt.call(this,t);if(!$(i))return{};const[n,s]=St(i),a=100/n*s;if(xt(`aspect-ratio: ${n}/${s}`)?e.style.aspectRatio=`${n}/${s}`:e.style.paddingBottom=a+"%",this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const t=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(t-a)/(t/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:i}}function Lt(t,e,i=.05){const n=t/e,s=At(Object.keys(Et),n);return Math.abs(s-n)<=i?Et[s]:[t,e]}const Ot={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(t=>{const e=t.getAttribute("type");return!!W(e)||ft.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Ot.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,W(this.config.ratio)||It.call(t),Object.defineProperty(t.media,"quality",{get(){const e=Ot.getSources.call(t).find(e=>e.getAttribute("src")===t.source);return e&&Number(e.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&R(t.config.quality.onChange))t.config.quality.onChange(e);else{const i=Ot.getSources.call(t).find(t=>Number(t.getAttribute("size"))===e);if(!i)return;const{currentTime:n,paused:s,preload:a,readyState:r,playbackRate:o}=t.media;t.media.src=i.getAttribute("src"),("none"!==a||r)&&(t.once("loadedmetadata",()=>{t.speed=o,t.currentTime=n,s||Ct(t.play())}),t.media.load())}wt.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(it(Ot.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Nt(t,...e){return W(t)?t:t.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}const Dt=(t="",e="",i="")=>t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),jt=(t="")=>t.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function Rt(t=""){let e=t.toString();return e=function(t=""){let e=t.toString();return e=Dt(e,"-"," "),e=Dt(e,"_"," "),e=jt(e),Dt(e," ","")}(e),e.charAt(0).toLowerCase()+e.slice(1)}function $t(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const Ut={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Bt={get(t="",e={}){if(W(t)||W(e))return"";let i=J(e.i18n,t);if(W(i))return Object.keys(Ut).includes(t)?Ut[t]:"";const n={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(n).forEach(([t,e])=>{i=Dt(i,t,e)}),i}};class Ft{constructor(e){t(this,"get",t=>{if(!Ft.supported||!this.enabled)return null;const e=window.localStorage.getItem(this.key);if(W(e))return null;const i=JSON.parse(e);return D(t)&&t.length?i[t]:i}),t(this,"set",t=>{if(!Ft.supported||!this.enabled)return;if(!O(t))return;let e=this.get();W(e)&&(e={}),G(e,t);try{window.localStorage.setItem(this.key,JSON.stringify(e))}catch(t){}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}function Vt(t,e="text"){return new Promise((i,n)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if("text"===e)try{i(JSON.parse(n.responseText))}catch(t){i(n.responseText)}else i(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",t,!0),n.responseType=e,n.send()}catch(t){n(t)}})}function zt(t,e){if(!D(t))return;const i=D(e);let n=!1;const s=()=>null!==document.getElementById(e),a=(t,e)=>{t.innerHTML=e,i&&s()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!s()){const s=Ft.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),i&&r.setAttribute("id",e),s){const t=window.localStorage.getItem("cache-"+e);if(n=null!==t,n){const e=JSON.parse(t);a(r,e.content)}}Vt(t).then(t=>{if(!W(t)){if(s)try{window.localStorage.setItem("cache-"+e,JSON.stringify({content:t}))}catch(t){}a(r,t)}}).catch(()=>{})}}const qt=t=>Math.trunc(t/60/60%60,10);function Ht(t=0,e=!1,i=!1){if(!N(t))return Ht(void 0,e,i);const n=t=>("0"+t).slice(-2);let s=qt(t);const a=(r=t,Math.trunc(r/60%60,10));var r;const o=(t=>Math.trunc(t%60,10))(t);return s=e||s>0?s+":":"",`${i&&t>0?"-":""}${s}${n(a)}:${n(o)}`}const Wt={getIconUrl(){const t=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,i=t.host!==e||Q.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=dt.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ut.call(this,this.config.selectors.buttons.play),pause:dt.call(this,this.config.selectors.buttons.pause),restart:dt.call(this,this.config.selectors.buttons.restart),rewind:dt.call(this,this.config.selectors.buttons.rewind),fastForward:dt.call(this,this.config.selectors.buttons.fastForward),mute:dt.call(this,this.config.selectors.buttons.mute),pip:dt.call(this,this.config.selectors.buttons.pip),airplay:dt.call(this,this.config.selectors.buttons.airplay),settings:dt.call(this,this.config.selectors.buttons.settings),captions:dt.call(this,this.config.selectors.buttons.captions),fullscreen:dt.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=dt.call(this,this.config.selectors.progress),this.elements.inputs={seek:dt.call(this,this.config.selectors.inputs.seek),volume:dt.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:dt.call(this,this.config.selectors.display.buffer),currentTime:dt.call(this,this.config.selectors.display.currentTime),duration:dt.call(this,this.config.selectors.display.duration)},B(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const i="http://www.w3.org/2000/svg",n=Wt.getIconUrl.call(this),s=`${n.cors?"":n.url}#${this.config.iconPrefix}`,a=document.createElementNS(i,"svg");X(a,G(e,{"aria-hidden":"true",focusable:"false"}));const r=document.createElementNS(i,"use"),o=`${s}-${t}`;return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",o),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(r),a},createLabel(t,e={}){const i=Bt.get(t,this.config);return tt("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(t){if(W(t))return null;const e=tt("span",{class:this.config.classNames.menu.value});return e.appendChild(tt("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const i=G({},e);let n=Rt(t);const s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(t=>{Object.keys(i).includes(t)&&(s[t]=i[t],delete i[t])}),"button"!==s.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(t=>t===this.config.classNames.control)||G(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,t){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,n="play",s.label="play",s.icon="play";break;default:W(s.label)&&(s.label=n),W(s.icon)&&(s.icon=t)}const a=tt(s.element);return s.toggle?(a.appendChild(Wt.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),a.appendChild(Wt.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),a.appendChild(Wt.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),a.appendChild(Wt.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(a.appendChild(Wt.createIcon.call(this,s.icon)),a.appendChild(Wt.createLabel.call(this,s.label))),G(i,at(this.config.selectors.buttons[n],i)),X(a,i),"play"===n?($(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(a)):this.elements.buttons[n]=a,a},createRange(t,e){const i=tt("input",G(at(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Bt.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=i,Wt.updateRangeFill.call(this,i),k.setup(i),i},createProgress(t,e){const i=tt("progress",G(at(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if("volume"!==t){i.appendChild(tt("span",null,"0"));const e={played:"played",buffer:"buffered"}[t],n=e?Bt.get(e,this.config):"";i.innerText="% "+n.toLowerCase()}return this.elements.display[t]=i,i},createTime(t,e){const i=at(this.config.selectors.display[t],e),n=tt("div",G(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Bt.get(t,this.config)}),"00:00");return this.elements.display[t]=n,n},bindMenuItemShortcuts(t,e){vt.call(this,t,"keydown keyup",i=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const n=ct(t,'[role="menuitemradio"]');if(!n&&["Space","ArrowRight"].includes(i.key))Wt.showMenuPanel.call(this,e,!0);else{let e;"Space"!==i.key&&("ArrowDown"===i.key||n&&"ArrowRight"===i.key?(e=t.nextElementSibling,B(e)||(e=t.parentNode.firstElementChild)):(e=t.previousElementSibling,B(e)||(e=t.parentNode.lastElementChild)),ht.call(this,e,!0))}},!1),vt.call(this,t,"keyup",t=>{"Return"===t.key&&Wt.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:i,title:n,badge:s=null,checked:a=!1}){const r=at(this.config.selectors.inputs[i]),o=tt("button",G(r,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${r.class?r.class:""}`.trim(),"aria-checked":a,value:t})),l=tt("span");l.innerHTML=n,B(s)&&l.appendChild(s),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(t){t&&Array.from(o.parentNode.children).filter(t=>ct(t,'[role="menuitemradio"]')).forEach(t=>t.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(o,"click keyup",e=>{if(!V(e)||"Space"===e.key){switch(e.preventDefault(),e.stopPropagation(),o.checked=!0,i){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=parseFloat(t)}Wt.showMenuPanel.call(this,"home",V(e))}},i,!1),Wt.bindMenuItemShortcuts.call(this,o,i),e.appendChild(o)},formatTime(t=0,e=!1){return N(t)?Ht(t,qt(this.duration)>0,e):t},updateTimeDisplay(t=null,e=0,i=!1){B(t)&&N(e)&&(t.innerText=Wt.formatTime(e,i))},updateVolume(){this.supported.ui&&(B(this.elements.inputs.volume)&&Wt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),B(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(t,e=0){B(t)&&(t.value=e,Wt.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!F(t))return;let e=0;const i=(t,e)=>{const i=N(e)?e:0,n=B(t)?t:this.elements.display.buffer;if(B(n)){n.value=i;const t=n.getElementsByTagName("span")[0];B(t)&&(t.childNodes[0].nodeValue=i)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,s=this.duration,e=0===n||0===s||Number.isNaN(n)||Number.isNaN(s)?0:(n/s*100).toFixed(2),"timeupdate"===t.type&&Wt.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var n,s},updateRangeFill(t){const e=F(t)?t.target:t;if(B(e)&&"range"===e.getAttribute("type")){if(ct(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=Wt.formatTime(this.currentTime),i=Wt.formatTime(this.duration),n=Bt.get("seekLabel",this.config);e.setAttribute("aria-valuetext",n.replace("{currentTime}",t).replace("{duration}",i))}else if(ct(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",t.toFixed(1)+"%")}else e.setAttribute("aria-valuenow",e.value);Q.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(t){var e,i;if(!this.config.tooltips.seek||!B(this.elements.inputs.seek)||!B(this.elements.display.seekTooltip)||0===this.duration)return;const n=this.elements.display.seekTooltip,s=this.config.classNames.tooltip+"--visible",a=t=>ot(n,s,t);if(this.touch)return void a(!1);let r=0;const o=this.elements.progress.getBoundingClientRect();if(F(t))r=100/o.width*(t.pageX-o.left);else{if(!lt(n,s))return;r=parseFloat(n.style.left,10)}r<0?r=0:r>100&&(r=100);const l=this.duration/100*r;n.innerText=Wt.formatTime(l);const c=null===(e=this.config.markers)||void 0===e||null===(i=e.points)||void 0===i?void 0:i.find(({time:t})=>t===Math.round(l));c&&n.insertAdjacentHTML("afterbegin",c.label+"<br>"),n.style.left=r+"%",F(t)&&["mouseenter","mouseleave"].includes(t.type)&&a("mouseenter"===t.type)},timeUpdate(t){const e=!B(this.elements.display.duration)&&this.config.invertTime;Wt.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||Wt.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return rt(this.elements.display.currentTime,!0),void rt(this.elements.progress,!0);B(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=B(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Wt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Wt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Wt.setMarkers.call(this),Wt.updateSeekTooltip.call(this)},toggleMenuButton(t,e){rt(this.elements.settings.buttons[t],!e)},updateSetting(t,e,i){const n=this.elements.settings.panels[t];let s=null,a=e;if("captions"===t)s=this.currentTrack;else{if(s=W(i)?this[t]:i,W(s)&&(s=this.config[t].default),!W(this.options[t])&&!this.options[t].includes(s))return void this.debug.warn(`Unsupported value of '${s}' for ${t}`);if(!this.config[t].options.includes(s))return void this.debug.warn(`Disabled value of '${s}' for ${t}`)}if(B(a)||(a=n&&n.querySelector('[role="menu"]')),!B(a))return;this.elements.settings.buttons[t].querySelector("."+this.config.classNames.menu.value).innerHTML=Wt.getLabel.call(this,t,s);const r=a&&a.querySelector(`[value="${s}"]`);B(r)&&(r.checked=!0)},getLabel(t,e){switch(t){case"speed":return 1===e?Bt.get("normal",this.config):e+"&times;";case"quality":if(N(e)){const t=Bt.get("qualityLabel."+e,this.config);return t.length?t:e+"p"}return jt(e);case"captions":return Qt.getLabel.call(this);default:return null}},setQualityMenu(t){if(!B(this.elements.settings.panels.quality))return;const e="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');$(t)&&(this.options.quality=Tt(t).filter(t=>this.config.quality.options.includes(t)));const n=!W(this.options.quality)&&this.options.quality.length>1;if(Wt.toggleMenuButton.call(this,e,n),nt(i),Wt.checkMenu.call(this),!n)return;const s=t=>{const e=Bt.get("qualityBadge."+t,this.config);return e.length?Wt.createBadge.call(this,e):null};this.options.quality.sort((t,e)=>{const i=this.config.quality.options;return i.indexOf(t)>i.indexOf(e)?1:-1}).forEach(t=>{Wt.createMenuItem.call(this,{value:t,list:i,type:e,title:Wt.getLabel.call(this,"quality",t),badge:s(t)})}),Wt.updateSetting.call(this,e,i)},setCaptionsMenu(){if(!B(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=Qt.getTracks.call(this),n=Boolean(i.length);if(Wt.toggleMenuButton.call(this,t,n),nt(e),Wt.checkMenu.call(this),!n)return;const s=i.map((t,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:Qt.getLabel.call(this,t),badge:t.language&&Wt.createBadge.call(this,t.language.toUpperCase()),list:e,type:"language"}));s.unshift({value:-1,checked:!this.captions.toggled,title:Bt.get("disabled",this.config),list:e,type:"language"}),s.forEach(Wt.createMenuItem.bind(this)),Wt.updateSetting.call(this,t,e)},setSpeedMenu(){if(!B(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(t=>t>=this.minimumSpeed&&t<=this.maximumSpeed);const i=!W(this.options.speed)&&this.options.speed.length>1;Wt.toggleMenuButton.call(this,t,i),nt(e),Wt.checkMenu.call(this),i&&(this.options.speed.forEach(i=>{Wt.createMenuItem.call(this,{value:i,list:e,type:t,title:Wt.getLabel.call(this,"speed",i)})}),Wt.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!W(t)&&Object.values(t).some(t=>!t.hidden);rt(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let i=t;B(i)||(i=Object.values(this.elements.settings.panels).find(t=>!t.hidden));const n=i.querySelector('[role^="menuitem"]');ht.call(this,n,e)},toggleMenu(t){const{popup:e}=this.elements.settings,i=this.elements.buttons.settings;if(!B(e)||!B(i))return;const{hidden:n}=e;let s=n;if(j(t))s=t;else if(V(t)&&"Escape"===t.key)s=!1;else if(F(t)){const n=R(t.composedPath)?t.composedPath()[0]:t.target,a=e.contains(n);if(a||!a&&t.target!==i&&s)return}i.setAttribute("aria-expanded",s),rt(e,!s),ot(this.elements.container,this.config.classNames.menu.open,s),s&&V(t)?Wt.focusFirstMenuItem.call(this,null,!0):s||n||ht.call(this,i,V(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const i=e.scrollWidth,n=e.scrollHeight;return it(e),{width:i,height:n}},showMenuPanel(t="",e=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!B(i))return;const n=i.parentNode,s=Array.from(n.children).find(t=>!t.hidden);if(ft.transitions&&!ft.reducedMotion){n.style.width=s.scrollWidth+"px",n.style.height=s.scrollHeight+"px";const t=Wt.getMenuSize.call(this,i),e=t=>{t.target===n&&["width","height"].includes(t.propertyName)&&(n.style.width="",n.style.height="",yt.call(this,n,K,e))};vt.call(this,n,K,e),n.style.width=t.width+"px",n.style.height=t.height+"px"}rt(s,!0),rt(i,!1),Wt.focusFirstMenuItem.call(this,i,e)},setDownloadUrl(){const t=this.elements.buttons.download;B(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:i,createProgress:n,createRange:s,createTime:a,setQualityMenu:r,setSpeedMenu:o,showMenuPanel:l}=Wt;this.elements.controls=null,$(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=tt("div",at(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return Tt($(this.config.controls)?this.config.controls:[]).forEach(r=>{if("restart"===r&&c.appendChild(i.call(this,"restart",u)),"rewind"===r&&c.appendChild(i.call(this,"rewind",u)),"play"===r&&c.appendChild(i.call(this,"play",u)),"fast-forward"===r&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===r){const e=tt("div",{class:u.class+" plyr__progress__container"}),i=tt("div",at(this.config.selectors.progress));if(i.appendChild(s.call(this,"seek",{id:"plyr-seek-"+t.id})),i.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const t=tt("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(t),this.elements.display.seekTooltip=t}this.elements.progress=i,e.appendChild(this.elements.progress),c.appendChild(e)}if("current-time"===r&&c.appendChild(a.call(this,"currentTime",u)),"duration"===r&&c.appendChild(a.call(this,"duration",u)),"mute"===r||"volume"===r){let{volume:e}=this.elements;if(B(e)&&c.contains(e)||(e=tt("div",G({},u,{class:(u.class+" plyr__volume").trim()})),this.elements.volume=e,c.appendChild(e)),"mute"===r&&e.appendChild(i.call(this,"mute")),"volume"===r&&!Q.isIos){const i={max:1,step:.05,value:this.config.volume};e.appendChild(s.call(this,"volume",G(i,{id:"plyr-volume-"+t.id})))}}if("captions"===r&&c.appendChild(i.call(this,"captions",u)),"settings"===r&&!W(this.config.settings)){const n=tt("div",G({},u,{class:(u.class+" plyr__menu").trim(),hidden:""}));n.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id,"aria-expanded":!1}));const s=tt("div",{class:"plyr__menu__container",id:"plyr-settings-"+t.id,hidden:""}),a=tt("div"),r=tt("div",{id:`plyr-settings-${t.id}-home`}),o=tt("div",{role:"menu"});r.appendChild(o),a.appendChild(r),this.elements.settings.panels.home=r,this.config.settings.forEach(i=>{const n=tt("button",G(at(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,n,i),vt.call(this,n,"click",()=>{l.call(this,i,!1)});const s=tt("span",null,Bt.get(i,this.config)),r=tt("span",{class:this.config.classNames.menu.value});r.innerHTML=t[i],s.appendChild(r),n.appendChild(s),o.appendChild(n);const c=tt("div",{id:`plyr-settings-${t.id}-${i}`,hidden:""}),u=tt("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(tt("span",{"aria-hidden":!0},Bt.get(i,this.config))),u.appendChild(tt("span",{class:this.config.classNames.hidden},Bt.get("menuBack",this.config))),vt.call(this,c,"keydown",t=>{"ArrowLeft"===t.key&&(t.preventDefault(),t.stopPropagation(),l.call(this,"home",!0))},!1),vt.call(this,u,"click",()=>{l.call(this,"home",!1)}),c.appendChild(u),c.appendChild(tt("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[i]=n,this.elements.settings.panels[i]=c}),s.appendChild(a),n.appendChild(s),c.appendChild(n),this.elements.settings.popup=s,this.elements.settings.menu=n}if("pip"===r&&ft.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===r&&ft.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===r){const t=G({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(t.download="");const{download:e}=this.config.urls;!H(e)&&this.isEmbed&&G(t,{icon:"logo-"+this.provider,label:this.provider}),c.appendChild(i.call(this,"download",t))}"fullscreen"===r&&c.appendChild(i.call(this,"fullscreen",u))}),this.isHTML5&&r.call(this,Ot.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const t=Wt.getIconUrl.call(this);t.cors&&zt(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,n=!0;if(R(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),B(this.config.controls)||D(this.config.controls)?t=this.config.controls:(t=Wt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Qt.getLabel.call(this)}),n=!1),n&&D(this.config.controls)&&(t=(t=>{let i=t;return Object.entries(e).forEach(([t,e])=>{i=Dt(i,`{${t}}`,e)}),i})(t)),D(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),B(i)||(i=this.elements.container),i[B(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),B(this.elements.controls)||Wt.findElements.call(this),!W(this.elements.buttons)){const t=t=>{const e=this.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:()=>lt(t,e),set(i=!1){ot(t,e,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{$(e)||U(e)?Array.from(e).filter(Boolean).forEach(t):t(e)})}if(Q.isEdge&&Y(i),this.config.tooltips.controls){const{classNames:t,selectors:e}=this.config,i=`${e.controls.wrapper} ${e.labels} .${t.hidden}`,n=ut.call(this,i);Array.from(n).forEach(t=>{ot(t,this.config.classNames.hidden,!1),ot(t,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(t){}},setMarkers(){var t,e;if(!this.duration||this.elements.markers)return;const i=null===(t=this.config.markers)||void 0===t||null===(e=t.points)||void 0===e?void 0:e.filter(({time:t})=>t>0&&t<this.duration);if(null==i||!i.length)return;const n=document.createDocumentFragment(),s=document.createDocumentFragment();let a=null;const r=this.config.classNames.tooltip+"--visible",o=t=>ot(a,r,t);i.forEach(t=>{const e=tt("span",{class:this.config.classNames.marker},""),i=t.time/this.duration*100+"%";a&&(e.addEventListener("mouseenter",()=>{t.label||(a.style.left=i,a.innerHTML=t.label,o(!0))}),e.addEventListener("mouseleave",()=>{o(!1)})),e.addEventListener("click",()=>{this.currentTime=t.time}),e.style.left=i,s.appendChild(e)}),n.appendChild(s),this.config.tooltips.seek||(a=tt("span",{class:this.config.classNames.tooltip},""),n.appendChild(a)),this.elements.markers={points:s,tip:a},this.elements.progress.appendChild(n)}};function Kt(t,e=!0){let i=t;if(e){const t=document.createElement("a");t.href=i,i=t.href}try{return new URL(i)}catch(t){return null}}function Yt(t){const e=new URLSearchParams;return O(t)&&Object.entries(t).forEach(([t,i])=>{e.set(t,i)}),e}const Qt={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ft.textTracks)return void($(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this));var t,e;if(B(this.elements.captions)||(this.elements.captions=tt("div",at(this.config.selectors.captions)),t=this.elements.captions,e=this.elements.wrapper,B(t)&&B(e)&&e.parentNode.insertBefore(t,e.nextSibling)),Q.isIE&&window.URL){const t=this.media.querySelectorAll("track");Array.from(t).forEach(t=>{const e=t.getAttribute("src"),i=Kt(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Vt(e,"blob").then(e=>{t.setAttribute("src",window.URL.createObjectURL(e))}).catch(()=>{it(t)})})}const i=Tt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(t=>t.split("-")[0]));let n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&([n]=i);let s=this.storage.get("captions");if(j(s)||({active:s}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:s,language:n,languages:i}),this.isHTML5){const t=this.config.captions.update?"addtrack removetrack":"removetrack";vt.call(this,this.media.textTracks,t,Qt.update.bind(this))}setTimeout(Qt.update.bind(this),0)},update(){const t=Qt.getTracks.call(this,!0),{active:e,language:i,meta:n,currentTrackNode:s}=this.captions,a=Boolean(t.find(t=>t.language===i));this.isHTML5&&this.isVideo&&t.filter(t=>!n.get(t)).forEach(t=>{this.debug.log("Track added",t),n.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),vt.call(this,t,"cuechange",()=>Qt.updateCues.call(this))}),(a&&this.language!==i||!t.includes(s))&&(Qt.setLanguage.call(this,i),Qt.toggle.call(this,e&&a)),this.elements&&ot(this.elements.container,this.config.classNames.captions.enabled,!W(t)),$(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Wt.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,n=this.config.classNames.captions.active,s=L(t)?!i:t;if(s!==i){if(e||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!e){const t=Qt.getTracks.call(this),e=Qt.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=e.language,void Qt.set.call(this,t.indexOf(e))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),ot(this.elements.container,n,s),this.captions.toggled=s,Wt.updateSetting.call(this,"captions"),wt.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout(()=>{s&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const i=Qt.getTracks.call(this);if(-1!==t)if(N(t))if(t in i){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const n=i[t],{language:s}=n||{};this.captions.currentTrackNode=n,Wt.updateSetting.call(this,"captions"),e||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),wt.call(this,this.media,"languagechange")}Qt.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&Qt.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else Qt.toggle.call(this,!1,e)},setLanguage(t,e=!0){if(!D(t))return void this.debug.warn("Invalid language argument",t);const i=t.toLowerCase();this.captions.language=i;const n=Qt.getTracks.call(this),s=Qt.findTrack.call(this,[i]);Qt.set.call(this,n.indexOf(s),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||t||this.captions.meta.has(e)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(t,e=!1){const i=Qt.getTracks.call(this),n=t=>Number((this.captions.meta.get(t)||{}).default),s=Array.from(i).sort((t,e)=>n(e)-n(t));let a;return t.every(t=>(a=s.find(e=>e.language===t),!a)),a||(e?s[0]:void 0)},getCurrentTrack(){return Qt.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!z(e)&&ft.textTracks&&this.captions.toggled&&(e=Qt.getCurrentTrack.call(this)),z(e)?W(e.label)?W(e.language)?Bt.get("enabled",this.config):t.language.toUpperCase():e.label:Bt.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!B(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!L(t)&&!Array.isArray(t))return void this.debug.warn("updateCues: Invalid input",t);let e=t;if(!e){const t=Qt.getCurrentTrack.call(this);e=Array.from((t||{}).activeCues||[]).map(t=>t.getCueAsHTML()).map($t)}const i=e.map(t=>t.trim()).join("\n");if(i!==this.elements.captions.innerHTML){nt(this.elements.captions);const t=tt("span",at(this.config.selectors.caption));t.innerHTML=i,this.elements.captions.appendChild(t),wt.call(this,this.media,"cuechange")}}},Jt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Gt="picture-in-picture",Zt="inline",Xt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},te="audio",ee="video",ie=()=>{};class ne{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):ie}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):ie}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):ie}}class se{constructor(e){t(this,"onChange",()=>{if(!this.enabled)return;const t=this.player.elements.buttons.fullscreen;B(t)&&(t.pressed=this.active);const e=this.target===this.player.media?this.target:this.player.elements.container;wt.call(this.player,e,this.active?"enterfullscreen":"exitfullscreen",!0)}),t(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",ot(this.target,this.player.config.classNames.fullscreen.fallback,t),Q.isIos){let e=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";e||(e=document.createElement("meta"),e.setAttribute("name","viewport"));const n=D(e.content)&&e.content.includes(i);t?(this.cleanupViewport=!n,n||(e.content+=","+i)):this.cleanupViewport&&(e.content=e.content.split(",").filter(t=>t.trim()!==i).join(","))}this.onChange()}),t(this,"trapFocus",t=>{if(Q.isIos||!this.active||"Tab"!==t.key)return;const e=document.activeElement,i=ut.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=i,s=i[i.length-1];e!==s||t.shiftKey?e===n&&t.shiftKey&&(s.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}),t(this,"update",()=>{if(this.enabled){let t;t=this.forceFallback?"Fallback (forced)":se.native?"Native":"Fallback",this.player.debug.log(t+" fullscreen enabled")}else this.player.debug.log("Fullscreen not supported and fallback disabled");ot(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),t(this,"enter",()=>{this.enabled&&(Q.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!se.native||this.forceFallback?this.toggleFallback(!0):this.prefix?W(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),t(this,"exit",()=>{if(this.enabled)if(Q.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Ct(this.player.play());else if(!se.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!W(this.prefix)){const t="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),t(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=se.prefix,this.property=se.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(t,e){const{prototype:i}=Element;return(i.closest||function(){let t=this;do{if(ct.matches(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}).call(t,e)}(this.player.elements.container,e.config.fullscreen.container),vt.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",()=>{this.onChange()}),vt.call(this.player,this.player.elements.container,"dblclick",t=>{B(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),vt.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return se.native&&!this.forceFallback}static get prefix(){if(R(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(e=>!(!R(document[e+"ExitFullscreen"])&&!R(document[e+"CancelFullScreen"]))&&(t=e,!0)),t}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(se.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!se.native||this.forceFallback)return lt(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Q.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function ae(t,e=1){return new Promise((i,n)=>{const s=new Image,a=()=>{delete s.onload,delete s.onerror,(s.naturalWidth>=e?i:n)(s)};Object.assign(s,{onload:a,onerror:a,src:t})})}const re={addStyleHook(){ot(this.elements.container,this.config.selectors.container.replace(".",""),!0),ot(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void re.toggleNativeControls.call(this,!0);B(this.elements.controls)||(Wt.inject.call(this),this.listeners.controls()),re.toggleNativeControls.call(this),this.isHTML5&&Qt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Wt.updateVolume.call(this),Wt.timeUpdate.call(this),Wt.durationUpdate.call(this),re.checkPlaying.call(this),ot(this.elements.container,this.config.classNames.pip.supported,ft.pip&&this.isHTML5&&this.isVideo),ot(this.elements.container,this.config.classNames.airplay.supported,ft.airplay&&this.isHTML5),ot(this.elements.container,this.config.classNames.isIos,Q.isIos),ot(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{wt.call(this,this.media,"ready")},0),re.setTitle.call(this),this.poster&&re.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Wt.durationUpdate.call(this),this.config.mediaMetadata&&Wt.setMediaMetadata.call(this)},setTitle(){let t=Bt.get("play",this.config);if(D(this.config.title)&&!W(this.config.title)&&(t+=", "+this.config.title),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const t=dt.call(this,"iframe");if(!B(t))return;const e=W(this.config.title)?"video":this.config.title,i=Bt.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",e))}},togglePoster(t){ot(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),kt.call(this).then(()=>ae(t)).catch(e=>{throw t===this.poster&&re.togglePoster.call(this,!1),e}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),re.togglePoster.call(this,!0),t)))},checkPlaying(t){ot(this.elements.container,this.config.classNames.playing,this.playing),ot(this.elements.container,this.config.classNames.paused,this.paused),ot(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Bt.get(this.playing?"pause":"play",this.config))}),F(t)&&"timeupdate"===t.type||re.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{ot(this.elements.container,this.config.classNames.loading,this.loading),re.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!W(t)&&D(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),W(this.media.style)&&this.media.removeAttribute("style")}};class oe{constructor(e){t(this,"firstTouch",()=>{const{player:t}=this,{elements:e}=t;t.touch=!0,ot(e.container,t.config.classNames.isTouch,!0)}),t(this,"setTabFocus",t=>{const{player:e}=this,{elements:i}=e,{key:n,type:s,timeStamp:a}=t;if(clearTimeout(this.focusTimer),"keydown"===s&&"Tab"!==n)return;"keydown"===s&&(this.lastKeyDown=a);const r=a-this.lastKeyDown<=20;("focus"!==s||r)&&((()=>{const t=e.config.classNames.tabFocus;ot(ut.call(e,"."+t),t,!1)})(),"focusout"!==s&&(this.focusTimer=setTimeout(()=>{const t=document.activeElement;i.container.contains(t)&&ot(document.activeElement,e.config.classNames.tabFocus,!0)},10)))}),t(this,"global",(t=!0)=>{const{player:e}=this;e.config.keyboard.global&&gt.call(e,window,"keydown keyup",this.handleKey,t,!1),gt.call(e,document.body,"click",this.toggleMenu,t),bt.call(e,document.body,"touchstart",this.firstTouch),gt.call(e,document.body,"keydown focus blur focusout",this.setTabFocus,t,!1,!0)}),t(this,"container",()=>{const{player:t}=this,{config:e,elements:i,timers:n}=t;!e.keyboard.global&&e.keyboard.focused&&vt.call(t,i.container,"keydown keyup",this.handleKey,!1),vt.call(t,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",e=>{const{controls:s}=i;s&&"enterfullscreen"===e.type&&(s.pressed=!1,s.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(re.toggleControls.call(t,!0),a=t.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(()=>re.toggleControls.call(t,!1),a)});const s=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const e=i.wrapper,{active:n}=t.fullscreen,[s,a]=Mt.call(t),r=xt(`aspect-ratio: ${s} / ${a}`);if(!n)return void(r?(e.style.width=null,e.style.height=null):(e.style.maxWidth=null,e.style.margin=null));const[o,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=o/l>s/a;r?(e.style.width=c?"auto":"100%",e.style.height=c?"100%":"auto"):(e.style.maxWidth=c?l/a*s+"px":null,e.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(n.resized),n.resized=setTimeout(s,50)};vt.call(t,i.container,"enterfullscreen exitfullscreen",e=>{const{target:n}=t.fullscreen;n===i.container&&(!t.isEmbed&&W(t.config.ratio)||(s(),("enterfullscreen"===e.type?vt:yt).call(t,window,"resize",a)))})}),t(this,"media",()=>{const{player:t}=this,{elements:e}=t;if(vt.call(t,t.media,"timeupdate seeking seeked",e=>Wt.timeUpdate.call(t,e)),vt.call(t,t.media,"durationchange loadeddata loadedmetadata",e=>Wt.durationUpdate.call(t,e)),vt.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),vt.call(t,t.media,"progress playing seeking seeked",e=>Wt.updateProgress.call(t,e)),vt.call(t,t.media,"volumechange",e=>Wt.updateVolume.call(t,e)),vt.call(t,t.media,"playing play pause ended emptied timeupdate",e=>re.checkPlaying.call(t,e)),vt.call(t,t.media,"waiting canplay seeked playing",e=>re.checkLoading.call(t,e)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const i=dt.call(t,"."+t.config.classNames.video);if(!B(i))return;vt.call(t,e.container,"click",n=>{([e.container,i].includes(n.target)||i.contains(n.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(n,t.restart,"restart"),this.proxy(n,()=>{Ct(t.play())},"play")):this.proxy(n,()=>{Ct(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&vt.call(t,e.wrapper,"contextmenu",t=>{t.preventDefault()},!1),vt.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),vt.call(t,t.media,"ratechange",()=>{Wt.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),vt.call(t,t.media,"qualitychange",e=>{Wt.updateSetting.call(t,"quality",null,e.detail.quality)}),vt.call(t,t.media,"ready qualitychange",()=>{Wt.setDownloadUrl.call(t)});const i=t.config.events.concat(["keyup","keydown"]).join(" ");vt.call(t,t.media,i,i=>{let{detail:n={}}=i;"error"===i.type&&(n=t.media.error),wt.call(t,e.container,i.type,!0,n)})}),t(this,"proxy",(t,e,i)=>{const{player:n}=this,s=n.config.listeners[i];let a=!0;R(s)&&(a=s.call(n,t)),!1!==a&&R(e)&&e.call(n,t)}),t(this,"bind",(t,e,i,n,s=!0)=>{const{player:a}=this,r=a.config.listeners[n],o=R(r);vt.call(a,t,e,t=>this.proxy(t,i,n),s&&!o)}),t(this,"controls",()=>{const{player:t}=this,{elements:e}=t,i=Q.isIE?"change":"input";if(e.buttons.play&&Array.from(e.buttons.play).forEach(e=>{this.bind(e,"click",()=>{Ct(t.togglePlay())},"play")}),this.bind(e.buttons.restart,"click",t.restart,"restart"),this.bind(e.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(e.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(e.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(e.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(e.buttons.download,"click",()=>{wt.call(t,t.media,"download")},"download"),this.bind(e.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(e.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(e.buttons.airplay,"click",t.airplay,"airplay"),this.bind(e.buttons.settings,"click",e=>{e.stopPropagation(),e.preventDefault(),Wt.toggleMenu.call(t,e)},null,!1),this.bind(e.buttons.settings,"keyup",e=>{["Space","Enter"].includes(e.key)&&("Enter"!==e.key?(e.preventDefault(),e.stopPropagation(),Wt.toggleMenu.call(t,e)):Wt.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(e.settings.menu,"keydown",e=>{"Escape"===e.key&&Wt.toggleMenu.call(t,e)}),this.bind(e.inputs.seek,"mousedown mousemove",t=>{const i=e.progress.getBoundingClientRect(),n=100/i.width*(t.pageX-i.left);t.currentTarget.setAttribute("seek-value",n)}),this.bind(e.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",e=>{const i=e.currentTarget,n="play-on-seeked";if(V(e)&&!["ArrowLeft","ArrowRight"].includes(e.key))return;t.lastSeekTime=Date.now();const s=i.hasAttribute(n),a=["mouseup","touchend","keyup"].includes(e.type);s&&a?(i.removeAttribute(n),Ct(t.play())):!a&&t.playing&&(i.setAttribute(n,""),t.pause())}),Q.isIos){const e=ut.call(t,'input[type="range"]');Array.from(e).forEach(t=>this.bind(t,i,t=>Y(t.target)))}this.bind(e.inputs.seek,i,e=>{const i=e.currentTarget;let n=i.getAttribute("seek-value");W(n)&&(n=i.value),i.removeAttribute("seek-value"),t.currentTime=n/i.max*t.duration},"seek"),this.bind(e.progress,"mouseenter mouseleave mousemove",e=>Wt.updateSeekTooltip.call(t,e)),this.bind(e.progress,"mousemove touchmove",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startMove(e)}),this.bind(e.progress,"mouseleave touchend click",()=>{const{previewThumbnails:e}=t;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(e.progress,"mousedown touchstart",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startScrubbing(e)}),this.bind(e.progress,"mouseup touchend",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.endScrubbing(e)}),Q.isWebkit&&Array.from(ut.call(t,'input[type="range"]')).forEach(e=>{this.bind(e,"input",e=>Wt.updateRangeFill.call(t,e.target))}),t.config.toggleInvert&&!B(e.display.duration)&&this.bind(e.display.currentTime,"click",()=>{0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Wt.timeUpdate.call(t))}),this.bind(e.inputs.volume,i,e=>{t.volume=e.target.value},"volume"),this.bind(e.controls,"mouseenter mouseleave",i=>{e.controls.hover=!t.touch&&"mouseenter"===i.type}),e.fullscreen&&Array.from(e.fullscreen.children).filter(t=>!t.contains(e.container)).forEach(i=>{this.bind(i,"mouseenter mouseleave",i=>{e.controls&&(e.controls.hover=!t.touch&&"mouseenter"===i.type)})}),this.bind(e.controls,"mousedown mouseup touchstart touchend touchcancel",t=>{e.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(e.controls,"focusin",()=>{const{config:i,timers:n}=t;ot(e.controls,i.classNames.noTransition,!0),re.toggleControls.call(t,!0),setTimeout(()=>{ot(e.controls,i.classNames.noTransition,!1)},0);const s=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout(()=>re.toggleControls.call(t,!1),s)}),this.bind(e.inputs.volume,"wheel",e=>{const i=e.webkitDirectionInvertedFromDevice,[n,s]=[e.deltaX,-e.deltaY].map(t=>i?-t:t),a=Math.sign(Math.abs(n)>Math.abs(s)?n:s);t.increaseVolume(a/50);const{volume:r}=t.media;(1===a&&r<1||-1===a&&r>0)&&e.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:e}=this,{elements:i}=e,{key:n,type:s,altKey:a,ctrlKey:r,metaKey:o,shiftKey:l}=t,c="keydown"===s,u=c&&n===this.lastKey;var d;if(!(a||r||o||l)&&n)if(c){const s=document.activeElement;if(B(s)){const{editable:n}=e.config.selectors,{seek:a}=i.inputs;if(s!==a&&ct(s,n))return;if("Space"===t.key&&ct(s,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(t.preventDefault(),t.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(d=parseInt(n,10),e.currentTime=e.duration/10*d);break;case"Space":case"k":u||Ct(e.togglePlay());break;case"ArrowUp":e.increaseVolume(.1);break;case"ArrowDown":e.decreaseVolume(.1);break;case"m":u||(e.muted=!e.muted);break;case"ArrowRight":e.forward();break;case"ArrowLeft":e.rewind();break;case"f":e.fullscreen.toggle();break;case"c":u||e.toggleCaptions();break;case"l":e.loop=!e.loop}"Escape"===n&&!e.fullscreen.usingNative&&e.fullscreen.active&&e.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(t){Wt.toggleMenu.call(this.player,t)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var le=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(){},e={},i={},n={};function s(t,e){t=t.push?t:[t];var s,a,r,o=[],l=t.length,c=l;for(s=function(t,i){i.length&&o.push(t),--c||e(o)};l--;)a=t[l],(r=i[a])?s(a,r):(n[a]=n[a]||[]).push(s)}function a(t,e){if(t){var s=n[t];if(i[t]=e,s)for(;s.length;)s[0](t,e),s.splice(0,1)}}function r(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function o(e,i,n,s){var a,r,l=document,c=n.async,u=(n.numRetries||0)+1,d=n.before||t,h=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(h)?((r=l.createElement("link")).rel="stylesheet",r.href=p,(a="hideFocus"in r)&&r.relList&&(a=0,r.rel="preload",r.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(r=l.createElement("img")).src=p:((r=l.createElement("script")).src=e,r.async=void 0===c||c),r.onload=r.onerror=r.onbeforeload=function(t){var l=t.type[0];if(a)try{r.sheet.cssText.length||(l="e")}catch(t){18!=t.code&&(l="e")}if("e"==l){if((s+=1)<u)return o(e,i,n,s)}else if("preload"==r.rel&&"style"==r.as)return r.rel="stylesheet";i(e,l,t.defaultPrevented)},!1!==d(e,r)&&l.head.appendChild(r)}function l(t,e,i){var n,s,a=(t=t.push?t:[t]).length,r=a,l=[];for(n=function(t,i,n){if("e"==i&&l.push(t),"b"==i){if(!n)return;l.push(t)}--a||e(l)},s=0;s<r;s++)o(t[s],n,i)}function c(t,i,n){var s,o;if(i&&i.trim&&(s=i),o=(s?n:i)||{},s){if(s in e)throw"LoadJS";e[s]=!0}function c(e,i){l(t,(function(t){r(o,t),e&&r({success:e,error:i},t),a(s,t)}),o)}if(o.returnPromise)return new Promise(c);c()}return c.ready=function(t,e){return s(t,(function(t){r(e,t)})),c},c.done=function(t){a(t,[])},c.reset=function(){e={},i={},n={}},c.isDefined=function(t){return t in e},c}()}));function ce(t){return new Promise((e,i)=>{le(t,{success:e,error:i})})}function ue(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,wt.call(this,this.media,t?"play":"pause"))}const de={setup(){const t=this;ot(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,It.call(t),O(window.Vimeo)?de.ready.call(t):ce(t.config.urls.vimeo.sdk).then(()=>{de.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:i,referrerPolicy:n,...s}=e;let a=t.media.getAttribute("src"),r="";W(a)?(a=t.media.getAttribute(t.config.attributes.embed.id),r=t.media.getAttribute(t.config.attributes.embed.hash)):r=function(t){const e=t.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&5===e.length?e[4]:null}(a);const o=r?{h:r}:{};i&&Object.assign(s,{controls:!1,sidedock:!1});const l=Yt({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...o,...s}),c=W(u=a)?null:N(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u;var u;const d=tt("iframe"),h=Nt(t.config.urls.vimeo.iframe,c,l);if(d.setAttribute("src",h),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),W(n)||d.setAttribute("referrerPolicy",n),i||!e.customControls)d.setAttribute("data-poster",t.poster),t.media=st(d,t.media);else{const e=tt("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});e.appendChild(d),t.media=st(e,t.media)}e.customControls||Vt(Nt(t.config.urls.vimeo.api,h)).then(e=>{!W(e)&&e.thumbnail_url&&re.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(d,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(ue.call(t,!0),t.embed.play()),t.media.pause=()=>(ue.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:p}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>p,set(e){const{embed:i,media:n,paused:s,volume:a}=t,r=s&&!i.hasPlayed;n.seeking=!0,wt.call(t,n,"seeking"),Promise.resolve(r&&i.setVolume(0)).then(()=>i.setCurrentTime(e)).then(()=>r&&i.pause()).then(()=>r&&i.setVolume(a)).catch(()=>{})}});let f=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>f,set(e){t.embed.setPlaybackRate(e).then(()=>{f=e,wt.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:m}=t.config;Object.defineProperty(t.media,"volume",{get:()=>m,set(e){t.embed.setVolume(e).then(()=>{m=e,wt.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get:()=>g,set(e){const i=!!j(e)&&e;t.embed.setVolume(i?0:t.config.volume).then(()=>{g=i,wt.call(t,t.media,"volumechange")})}});let v,{loop:y}=t.config;Object.defineProperty(t.media,"loop",{get:()=>y,set(e){const i=j(e)?e:t.config.loop.active;t.embed.setLoop(i).then(()=>{y=i})}}),t.embed.getVideoUrl().then(e=>{v=e,Wt.setDownloadUrl.call(t)}).catch(t=>{this.debug.warn(t)}),Object.defineProperty(t.media,"currentSrc",{get:()=>v}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{const[i,n]=e;t.embed.ratio=Lt(i,n),It.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,re.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{p=e,wt.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,wt.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,Qt.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{const i=e.map(t=>function(t){const e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText}(t.text));Qt.updateCues.call(t,i)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{ue.call(t,!e),e||wt.call(t,t.media,"playing")}),B(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{wt.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{wt.call(t,t.media,"playing")}),t.embed.on("play",()=>{ue.call(t,!0),wt.call(t,t.media,"playing")}),t.embed.on("pause",()=>{ue.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,p=e.seconds,wt.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,wt.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&wt.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,wt.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,wt.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,wt.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,wt.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>re.build.call(t),0)}};function he(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,wt.call(this,this.media,t?"play":"pause"))}function pe(t){return t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const fe={setup(){if(ot(this.elements.wrapper,this.config.classNames.embed,!0),O(window.YT)&&R(window.YT.Player))fe.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{R(t)&&t(),fe.ready.call(this)},ce(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(t){Vt(Nt(this.config.urls.youtube.api,t)).then(t=>{if(O(t)){const{title:e,height:i,width:n}=t;this.config.title=e,re.setTitle.call(this),this.embed.ratio=Lt(n,i)}It.call(this)}).catch(()=>{It.call(this)})},ready(){const t=this,e=t.config.youtube,i=t.media&&t.media.getAttribute("id");if(!W(i)&&i.startsWith("youtube-"))return;let n=t.media.getAttribute("src");W(n)&&(n=t.media.getAttribute(this.config.attributes.embed.id));const s=W(a=n)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a;var a;const r=tt("div",{id:`${t.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":e.customControls?t.poster:void 0});if(t.media=st(r,t.media),e.customControls){const e=t=>`https://i.ytimg.com/vi/${s}/${t}default.jpg`;ae(e("maxres"),121).catch(()=>ae(e("sd"),121)).catch(()=>ae(e("hq"))).then(e=>re.setPoster.call(t,e.src)).then(e=>{e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:s,host:pe(e),playerVars:G({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(e){if(!t.media.error){const i=e.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";t.media.error={code:i,message:n},wt.call(t,t.media,"error")}},onPlaybackRateChange(e){const i=e.target;t.media.playbackRate=i.getPlaybackRate(),wt.call(t,t.media,"ratechange")},onReady(i){if(R(t.media.play))return;const n=i.target;fe.getTitle.call(t,s),t.media.play=()=>{he.call(t,!0),n.playVideo()},t.media.pause=()=>{he.call(t,!1),n.pauseVideo()},t.media.stop=()=>{n.stopVideo()},t.media.duration=n.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,wt.call(t,t.media,"seeking"),n.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(t){n.setPlaybackRate(t)}});let{volume:a}=t.config;Object.defineProperty(t.media,"volume",{get:()=>a,set(e){a=e,n.setVolume(100*a),wt.call(t,t.media,"volumechange")}});let{muted:r}=t.config;Object.defineProperty(t.media,"muted",{get:()=>r,set(e){const i=j(e)?e:r;r=i,n[i?"mute":"unMute"](),n.setVolume(100*a),wt.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});const o=n.getAvailablePlaybackRates();t.options.speed=o.filter(e=>t.config.speed.options.includes(e)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),wt.call(t,t.media,"timeupdate"),wt.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=n.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&wt.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),wt.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>re.build.call(t),50)},onStateChange(i){const n=i.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(i.data)&&(t.media.seeking=!1,wt.call(t,t.media,"seeked")),i.data){case-1:wt.call(t,t.media,"timeupdate"),t.media.buffered=n.getVideoLoadedFraction(),wt.call(t,t.media,"progress");break;case 0:he.call(t,!1),t.media.loop?(n.stopVideo(),n.playVideo()):wt.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(he.call(t,!0),wt.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{wt.call(t,t.media,"timeupdate")},50),t.media.duration!==n.getDuration()&&(t.media.duration=n.getDuration(),wt.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),he.call(t,!1);break;case 3:wt.call(t,t.media,"waiting")}wt.call(t,t.elements.container,"statechange",!1,{code:i.data})}}})}},me={setup(){this.media?(ot(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ot(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ot(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=tt("div",{class:this.config.classNames.video}),Z(this.media,this.elements.wrapper),this.elements.poster=tt("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Ot.setup.call(this):this.isYouTube?fe.setup.call(this):this.isVimeo&&de.setup.call(this)):this.debug.warn("No media element found!")}};class ge{constructor(e){t(this,"load",()=>{this.enabled&&(O(window.google)&&O(window.google.ima)?this.ready():ce(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),t(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),t(this,"setupIMA",()=>{this.elements.container=tt("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),t(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const e=new google.ima.AdsRequest;e.adTagUrl=this.tagUrl,e.linearAdSlotWidth=t.offsetWidth,e.linearAdSlotHeight=t.offsetHeight,e.nonLinearAdSlotWidth=t.offsetWidth,e.nonLinearAdSlotHeight=t.offsetHeight,e.forceNonLinearFullSlot=!1,e.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(e)}catch(t){this.onAdError(t)}}),t(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const t=Ht(Math.max(this.manager.getRemainingTime(),0)),e=`${Bt.get("advertisement",this.player.config)} - ${t}`;this.elements.container.setAttribute("data-badge-text",e)},100)}),t(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.manager=t.getAdsManager(this.player,e),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t)),Object.keys(google.ima.AdEvent.Type).forEach(t=>{this.manager.addEventListener(google.ima.AdEvent.Type[t],t=>this.onAdEvent(t))}),this.trigger("loaded")}),t(this,"addCuePoints",()=>{W(this.cuePoints)||this.cuePoints.forEach(t=>{if(0!==t&&-1!==t&&t<this.player.duration){const e=this.player.elements.progress;if(B(e)){const i=100/this.player.duration*t,n=tt("span",{class:this.player.config.classNames.cues});n.style.left=i.toString()+"%",e.appendChild(n)}}})}),t(this,"onAdEvent",t=>{const{container:e}=this.player.elements,i=t.getAd(),n=t.getAdData();switch((t=>{wt.call(this.player,this.player.media,"ads"+t.replace(/_/g,"").toLowerCase())})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=e.offsetWidth,i.height=e.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn("Non-fatal ad error: "+n.adError.getMessage())}}),t(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),t(this,"listeners",()=>{const{container:t}=this.player.elements;let e;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{const t=this.player.currentTime;W(this.cuePoints)||this.cuePoints.forEach((i,n)=>{e<i&&i<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),t(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(t){this.onAdError(t)}}).catch(()=>{})}),t(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Ct(this.player.media.play())}),t(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),t(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),t(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),t(this,"trigger",(t,...e)=>{const i=this.events[t];$(i)&&i.forEach(t=>{R(t)&&t.apply(this,e)})}),t(this,"on",(t,e)=>($(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this)),t(this,"startSafetyTimer",(t,e)=>{this.player.debug.log("Safety timer invoked from: "+e),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),t(this,"clearSafetyTimer",t=>{L(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+t),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,e)=>{this.on("loaded",t),this.on("error",e)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!W(t.publisherId)||H(t.tagUrl))}get tagUrl(){const{config:t}=this;return H(t.tagUrl)?t.tagUrl:"https://go.aniview.com/api/adserver6/vast/?"+Yt({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}}function ve(t=0,e=0,i=255){return Math.min(Math.max(t,e),i)}const ye=t=>{const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(t=>{if(N(i.startTime)){if(!W(t.trim())&&W(i.text)){const e=t.trim().split("#xywh=");[i.text]=e,e[1]&&([i.x,i.y,i.w,i.h]=e[1].split(","))}}else{const e=t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);e&&(i.startTime=60*Number(e[1]||0)*60+60*Number(e[2])+Number(e[3])+Number("0."+e[4]),i.endTime=60*Number(e[6]||0)*60+60*Number(e[7])+Number(e[8])+Number("0."+e[9]))}}),i.text&&e.push(i)}),e},be=(t,e)=>{const i={};return t>e.width/e.height?(i.width=e.width,i.height=1/t*e.width):(i.height=e.height,i.width=t*e.height),i};class we{constructor(e){t(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),t(this,"getThumbnails",()=>new Promise(t=>{const{src:e}=this.player.config.previewThumbnails;if(W(e))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((t,e)=>t.height-e.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(R(e))e(t=>{this.thumbnails=t,i()});else{const t=(D(e)?[e]:e).map(t=>this.getThumbnail(t));Promise.all(t).then(i)}})),t(this,"getThumbnail",t=>new Promise(e=>{Vt(t).then(i=>{const n={frames:ye(i),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{n.height=s.naturalHeight,n.width=s.naturalWidth,this.thumbnails.push(n),e()},s.src=n.urlPrefix+n.frames[0].text})})),t(this,"startMove",t=>{if(this.loaded&&F(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if("touchmove"===t.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var e,i;const n=this.player.elements.progress.getBoundingClientRect(),s=100/n.width*(t.pageX-n.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=Ht(this.seekTime);const a=null===(e=this.player.config.markers)||void 0===e||null===(i=e.points)||void 0===i?void 0:i.find(({time:t})=>t===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",a.label+"<br>")}this.showImageAtCurrentTime()}}),t(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),t(this,"startScrubbing",t=>{(L(t.button)||!1===t.button||0===t.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),t(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):bt.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),t(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),t(this,"render",()=>{this.elements.thumb.container=tt("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=tt("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=tt("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=tt("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),B(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=tt("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),t(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),t(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(t=>this.seekTime>=t.startTime&&this.seekTime<=t.endTime),e=t>=0;let i=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach((e,n)=>{this.loadedImages.includes(e.frames[t].text)&&(i=n)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}),t(this,"loadImage",(t=0)=>{const e=this.showingThumb,i=this.thumbnails[t],{urlPrefix:n}=i,s=i.frames[e],a=i.frames[e].text,r=n+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,t,e,a,!1),this.currentImageElement.dataset.index=e,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=r,i.dataset.index=e,i.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log("Loading image: "+r),i.onload=()=>this.showImage(i,s,t,e,a,!0),this.loadingImage=i,this.removeOldImages(i)}}),t(this,"showImage",(t,e,i,n,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${n}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(t,e),a&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,t,e,s))}),t(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(e=>{if("img"!==e.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(e.dataset.index!==t.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;const{currentImageContainer:t}=this;setTimeout(()=>{t.removeChild(e),this.player.debug.log("Removing thumb: "+e.dataset.filename)},i)}})}),t(this,"preloadNearby",(t,e=!0)=>new Promise(i=>{setTimeout(()=>{const n=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===n){let s;s=e?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let a=!1;s.forEach(t=>{const e=t.text;if(e!==n&&!this.loadedImages.includes(e)){a=!0,this.player.debug.log("Preloading thumb filename: "+e);const{urlPrefix:t}=this.thumbnails[0],n=t+e,s=new Image;s.src=n,s.onload=()=>{this.player.debug.log("Preloaded thumb filename: "+e),this.loadedImages.includes(e)||this.loadedImages.push(e),i()}}}),a||i()}},300)})),t(this,"getHigherQuality",(t,e,i,n)=>{if(t<this.thumbnails.length-1){let s=e.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log("Showing higher quality thumb for: "+n),this.loadImage(t+1))},300)}}),t(this,"toggleThumbContainer",(t=!1,e=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,t),!t&&e&&(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"toggleScrubbingContainer",(t=!1)=>{const e=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(e,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),t(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const e=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=e+"px"}else if(t.clientHeight<20&&t.clientWidth>20){const e=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=e+"px"}}else{const e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=this.thumbContainerHeight+"px",t.style.width=e+"px"}this.setThumbContainerPos()}),t(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),e=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,n=e.left-t.left+10,s=e.right-t.left-i.clientWidth-10,a=this.mousePosX-t.left-i.clientWidth/2,r=ve(a,n,s);i.style.left=r+"px",i.style.setProperty("--preview-arrow-offset",a-r+"px")}),t(this,"setScrubbingContainerSize",()=>{const{width:t,height:e}=be(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=t+"px",this.elements.scrubbing.container.style.height=e+"px"}),t(this,"setImageSizeAndOffset",(t,e)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/e.h;t.style.height=t.naturalHeight*i+"px",t.style.width=t.naturalWidth*i+"px",t.style.left=`-${e.x*i}px`,t.style.top=`-${e.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=be(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const _e={insertElements(t,e){D(e)?et(t,this.media,{src:e}):$(e)&&e.forEach(e=>{et(t,this.media,e)})},change(t){J(t,"sources.length")?(Ot.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],it(this.media),this.media=null,B(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:i}=t,[{provider:n=Xt.html5,src:s}]=e,a="html5"===n?i:"div",r="html5"===n?{}:{src:s};Object.assign(this,{provider:n,type:i,supported:ft.check(i,n,this.config.playsinline),media:tt(a,r)}),this.elements.container.appendChild(this.media),j(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),W(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),re.addStyleHook.call(this),this.isHTML5&&_e.insertElements.call(this,"source",e),this.config.title=t.title,me.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&_e.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&re.build.call(this),this.isHTML5&&this.media.load(),W(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class ke{constructor(e,i){if(t(this,"play",()=>R(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Ct(this.media.play())),this.media.play()):null),t(this,"pause",()=>this.playing&&R(this.media.pause)?this.media.pause():null),t(this,"togglePlay",t=>(j(t)?t:!this.playing)?this.play():this.pause()),t(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):R(this.media.stop)&&this.media.stop()}),t(this,"restart",()=>{this.currentTime=0}),t(this,"rewind",t=>{this.currentTime-=N(t)?t:this.config.seekTime}),t(this,"forward",t=>{this.currentTime+=N(t)?t:this.config.seekTime}),t(this,"increaseVolume",t=>{const e=this.media.muted?0:this.volume;this.volume=e+(N(t)?t:0)}),t(this,"decreaseVolume",t=>{this.increaseVolume(-t)}),t(this,"airplay",()=>{ft.airplay&&this.media.webkitShowPlaybackTargetPicker()}),t(this,"toggleControls",t=>{if(this.supported.ui&&!this.isAudio){const e=lt(this.elements.container,this.config.classNames.hideControls),i=void 0===t?void 0:!t,n=ot(this.elements.container,this.config.classNames.hideControls,i);if(n&&$(this.config.controls)&&this.config.controls.includes("settings")&&!W(this.config.settings)&&Wt.toggleMenu.call(this,!1),n!==e){const t=n?"controlshidden":"controlsshown";wt.call(this,this.media,t)}return!n}return!1}),t(this,"on",(t,e)=>{vt.call(this,this.elements.container,t,e)}),t(this,"once",(t,e)=>{bt.call(this,this.elements.container,t,e)}),t(this,"off",(t,e)=>{yt(this.elements.container,t,e)}),t(this,"destroy",(t,e=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,e?(Object.keys(this.elements).length&&(it(this.elements.buttons.play),it(this.elements.captions),it(this.elements.controls),it(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),R(t)&&t()):(_t.call(this),Ot.cancelRequests.call(this),st(this.elements.original,this.elements.container),wt.call(this,this.elements.original,"destroyed",!0),R(t)&&t.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(re.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&R(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}),t(this,"supports",t=>ft.mime.call(this,t)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ft.touch,this.media=e,D(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||U(this.media)||$(this.media))&&(this.media=this.media[0]),this.config=G({},Jt,ke.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(t){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ne(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ft),L(this.media)||!B(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!ft.check().api)return void this.debug.error("Setup failed: no support");const n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;const s=this.media.tagName.toLowerCase();let a=null,r=null;switch(s){case"div":if(a=this.media.querySelector("iframe"),B(a)){if(r=Kt(a.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?Xt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?Xt.vimeo:null}(r.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",r.search.length){const t=["1","true"];t.includes(r.searchParams.get("autoplay"))&&(this.config.autoplay=!0),t.includes(r.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=t.includes(r.searchParams.get("playsinline")),this.config.youtube.hl=r.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(W(this.provider)||!Object.values(Xt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ee;break;case"video":case"audio":this.type=s,this.provider=Xt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ft.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new oe(this),this.storage=new Ft(this),this.media.plyr=this,B(this.elements.container)||(this.elements.container=tt("div",{tabindex:0}),Z(this.media,this.elements.container)),re.migrateStyles.call(this),re.addStyleHook.call(this),me.setup.call(this),this.config.debug&&vt.call(this,this.elements.container,this.config.events.join(" "),t=>{this.debug.log("event: "+t.type)}),this.fullscreen=new se(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&re.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ge(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Ct(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Xt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Xt.youtube}get isVimeo(){return this.provider===Xt.vimeo}get isVideo(){return this.type===ee}get isAudio(){return this.type===te}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(t){if(!this.duration)return;const e=N(t)&&t>0;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return N(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const t=parseFloat(this.config.duration),e=(this.media||{}).duration,i=N(e)&&e!==1/0?e:0;return t||i}set volume(t){let e=t;D(e)&&(e=Number(e)),N(e)||(e=this.storage.get("volume")),N(e)||({volume:e}=this.config),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!W(t)&&this.muted&&e>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let e=t;j(e)||(e=this.storage.get("muted")),j(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let e=null;N(t)&&(e=t),N(e)||(e=this.storage.get("speed")),N(e)||(e=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;e=ve(e,i,n),this.config.speed.selected=e,setTimeout(()=>{this.media&&(this.media.playbackRate=e)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const e=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!W(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(N),s=!0;if(!i.includes(n)){const t=At(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${t} instead`),n=t,s=!1}e.selected=n,this.media.quality=n,s&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(t){const e=j(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e}get loop(){return Boolean(this.media.loop)}set source(t){_e.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return H(t)?t:this.source}set download(t){H(t)&&(this.config.urls.download=t,Wt.setDownloadUrl.call(this))}set poster(t){this.isVideo?re.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=St(Mt.call(this));return $(t)?t.join(":"):t}set ratio(t){this.isVideo?D(t)&&Pt(t)?(this.config.ratio=St(t),It.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=j(t)?t:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(t){Qt.toggle.call(this,t,!1)}set currentTrack(t){Qt.set.call(this,t,!1),Qt.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:e}=this.captions;return t?e:-1}set language(t){Qt.setLanguage.call(this,t,!1)}get language(){return(Qt.getCurrentTrack.call(this)||{}).language}set pip(t){if(!ft.pip)return;const e=j(t)?t:!this.pip;R(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?Gt:Zt),R(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}get pip(){return ft.pip?W(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Gt:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new we(this))}static supported(t,e,i){return ft.check(t,e,i)}static loadSprite(t,e){return zt(t,e)}static setup(t,e={}){let i=null;return D(t)?i=Array.from(document.querySelectorAll(t)):U(t)?i=Array.from(t):$(t)&&(i=t.filter(B)),W(i)?null:i.map(t=>new ke(t,e))}}var Ce;return ke.defaults=(Ce=Jt,JSON.parse(JSON.stringify(Ce))),ke}))}).call(this,i("c8ba"))},"53b5":function(t,e,i){},5615:function(t,e,i){var n=i("be56");function s(t){var e=t.length;return e?t[n(0,e-1)]:void 0}t.exports=s},5774:function(t,e,i){"use strict";i("8c32")},"577e4":function(t,e){function i(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}i.prototype.set=function(t,e,i,n){const s=t*this.size+e;this.data[s]=i,n&&(this.reservedBit[s]=!0)},i.prototype.get=function(t,e){return this.data[t*this.size+e]},i.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},i.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=i},"58b4":function(t,e,i){"use strict";t.exports=function(t){for(var e=[],i=t.length,n=0;n<i;n++){var s=t.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var a=t.charCodeAt(n+1);a>=56320&&a<=57343&&(s=1024*(s-55296)+a-56320+65536,n+=1)}s<128?e.push(s):s<2048?(e.push(s>>6|192),e.push(63&s|128)):s<55296||s>=57344&&s<65536?(e.push(s>>12|224),e.push(s>>6&63|128),e.push(63&s|128)):s>=65536&&s<=1114111?(e.push(s>>18|240),e.push(s>>12&63|128),e.push(s>>6&63|128),e.push(63&s|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}},"5b81":function(t,e,i){"use strict";var n=i("23e7"),s=i("c65b"),a=i("e330"),r=i("1d80"),o=i("1626"),l=i("44e7"),c=i("577e"),u=i("dc4a"),d=i("90d8"),h=i("0cb2"),p=i("b622"),f=i("c430"),m=p("replace"),g=TypeError,v=a("".indexOf),y=a("".replace),b=a("".slice),w=Math.max,_=function(t,e,i){return i>t.length?-1:""===e?i:v(t,e,i)};n({target:"String",proto:!0},{replaceAll:function(t,e){var i,n,a,p,k,C,T,A,x,E=r(this),P=0,S=0,M="";if(null!=t){if(i=l(t),i&&(n=c(r(d(t))),!~v(n,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(a=u(t,m),a)return s(a,t,E,e);if(f&&i)return y(c(E),t,e)}p=c(E),k=c(t),C=o(e),C||(e=c(e)),T=k.length,A=w(1,T),P=_(p,k,0);while(-1!==P)x=C?c(e(k,P,p)):h(k,p,P,[],void 0,e),M+=b(p,S,P)+x,S=P+T,P=_(p,k,P+A);return S<p.length&&(M+=b(p,S)),M}})},"5e45":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.color,style:t.buttonStyle},[null!==t.iconClass?i("svg-icon",{style:{marginRight:t.iconButton?"0px":"8px"},attrs:{"icon-class":t.iconClass}}):t._e(),t._t("default")],2)},s=[],a=(i("a9e3"),{name:"ButtonTwoTone",props:{iconClass:{type:String,default:null},iconButton:{type:Boolean,default:!1},horizontalPadding:{type:Number,default:16},color:{type:String,default:"blue"},backgroundColor:{type:String,default:""},textColor:{type:String,default:""},shape:{type:String,default:"square"}},computed:{buttonStyle:function(){var t={borderRadius:"round"===this.shape?"50%":"8px",padding:"8px ".concat(this.horizontalPadding,"px"),width:"round"===this.shape?"38px":"auto"};return""!==this.backgroundColor&&(t.backgroundColor=this.backgroundColor),""!==this.textColor&&(t.color=this.textColor),t}}}),r=a,o=(i("04cb"),i("2877")),l=Object(o["a"])(r,n,s,!1,null,"34c86e99",null);e["a"]=l.exports},"5fe8":function(t,e,i){"use strict";i("f41e")},6511:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"home"},[!1!==t.settings.showPlaylistsByAppleMusic?i("div",{staticClass:"index-row first-row"},[i("div",{staticClass:"title"},[t._v(" by Apple Music ")]),i("CoverRow",{attrs:{type:"playlist",items:t.byAppleMusic,"sub-text":"appleMusic","image-size":1024}})],1):t._e(),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.recommendPlaylist"))+" "),i("router-link",{attrs:{to:"/explore?category=推荐歌单"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.recommendPlaylist.items,"sub-text":"copywriter"}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" For You ")]),i("div",{staticClass:"for-you-row"},[i("DailyTracksCard",{ref:"DailyTracksCard"}),i("FMCard")],1)]),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("home.recommendArtist")))]),i("CoverRow",{attrs:{type:"artist","column-number":6,items:t.recommendArtists.items}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.newAlbum"))+" "),i("router-link",{attrs:{to:"/new-album"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"album",items:t.newReleasesAlbum.items,"sub-text":"artist"}})],1),i("div",{staticClass:"index-row"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("home.charts"))+" "),i("router-link",{attrs:{to:"/explore?category=排行榜"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("CoverRow",{attrs:{type:"playlist",items:t.topList.items,"sub-text":"updateFrequency","image-size":1024}})],1)])},s=[],a=i("f3f3"),r=(i("caad"),i("4de4"),i("d3b7"),i("2532"),i("1e9a")),o=i("512b"),l=i("e498"),c=i("d87d"),u=i("2826"),d=i("323e"),h=i.n(d),p=i("2f62"),f=i("2726"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fm",style:{background:t.background},attrs:{"data-theme":"dark"}},[i("img",{staticStyle:{display:"none"},attrs:{src:t.nextTrackCover,loading:"lazy"}}),i("img",{staticClass:"cover",attrs:{src:t._f("resizeImage")(t.track.album&&t.track.album.picUrl,512),loading:"lazy"},on:{click:t.goToAlbum}}),i("div",{staticClass:"right-part"},[i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.track.name))]),i("div",{staticClass:"artist"},[i("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),i("div",{staticClass:"controls"},[i("div",{staticClass:"buttons"},[i("button-icon",{attrs:{title:"不喜欢"},nativeOn:{click:function(e){return t.moveToFMTrash.apply(null,arguments)}}},[i("svg-icon",{attrs:{id:"thumbs-down","icon-class":"thumbs-down"}})],1),i("button-icon",{staticClass:"play",attrs:{title:t.$t(t.isPlaying?"player.pause":"player.play")},nativeOn:{click:function(e){return t.play.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":t.isPlaying?"pause":"play"}})],1),i("button-icon",{attrs:{title:t.$t("player.next")},nativeOn:{click:function(e){return t.next.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"next"}})],1)],1),i("div",{staticClass:"card-name"},[i("svg-icon",{attrs:{"icon-class":"fm"}}),t._v("私人FM")],1)])])])},g=[],v=(i("ac1f"),i("5319"),i("99af"),i("2185")),y=i("186d"),b=i("bbeb"),w=i("6929"),_=i.n(w),k={name:"FMCard",components:{ButtonIcon:v["a"],ArtistsInLine:y["a"]},data:function(){return{background:""}},computed:Object(a["a"])(Object(a["a"])({},Object(p["d"])(["player"])),{},{track:function(){return this.player.personalFMTrack},isPlaying:function(){return this.player.playing&&this.player.isPersonalFM},artists:function(){return this.track.artists||this.track.ar||[]},nextTrackCover:function(){var t,e;return"".concat(null===(t=this.player._personalFMNextTrack)||void 0===t||null===(e=t.album)||void 0===e?void 0:e.picUrl.replace("http://","https://"),"?param=512y512")}}),watch:{track:function(){this.getColor()}},created:function(){this.getColor(),window.ok=this.getColor},methods:{play:function(){this.player.playPersonalFM()},next:function(){this.player.playNextFMTrack()},goToAlbum:function(){0!==this.track.album.id&&this.$router.push({path:"/album/"+this.track.album.id})},moveToFMTrash:function(){this.player.moveToFMTrash()},getColor:function(){var t,e,i=this;if(null!==(t=this.player.personalFMTrack)&&void 0!==t&&null!==(e=t.album)&&void 0!==e&&e.picUrl){var n="".concat(this.player.personalFMTrack.album.picUrl.replace("http://","https://"),"?param=512y512");b["from"](n,{colorCount:1}).getPalette().then((function(t){var e=_.a.rgb(t.Vibrant._rgb).darken(.1).rgb().string(),n=_.a.rgb(t.Vibrant._rgb).lighten(.28).rotate(-30).rgb().string();i.background="linear-gradient(to top left, ".concat(e,", ").concat(n,")")}))}}}},C=k,T=(i("101d"),i("2877")),A=Object(T["a"])(C,m,g,!1,null,"03d10cd7",null),x=A.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"daily-recommend-card",on:{click:t.goToDailyTracks}},[i("img",{attrs:{src:t.coverUrl,loading:"lazy"}}),t._m(0),i("button",{staticClass:"play-button",on:{click:function(e){return e.stopPropagation(),t.playDailyTracks.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)])},P=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"title-box"},[i("div",{staticClass:"title"},[i("span",[t._v("每")]),i("span",[t._v("日")]),i("span",[t._v("推")]),i("span",[t._v("荐")])])])])}],S=(i("d81d"),i("fe07")),M=i("5f87"),I=i("7d3a"),L=i.n(I),O=["https://p2.music.126.net/0-Ybpa8FrDfRgKYCTJD8Xg==/109951164796696795.jpg","https://p2.music.126.net/QxJA2mr4hhb9DZyucIOIQw==/109951165422200291.jpg","https://p1.music.126.net/AhYP9TET8l-VSGOpWAKZXw==/109951165134386387.jpg"],N={name:"DailyTracksCard",data:function(){return{useAnimation:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(p["d"])(["dailyTracks"])),{},{coverUrl:function(){var t;return"".concat((null===(t=this.dailyTracks[0])||void 0===t?void 0:t.al.picUrl)||L()(O),"?param=1024y1024")}}),created:function(){0===this.dailyTracks.length&&this.loadDailyTracks()},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(p["b"])(["showToast"])),Object(p["c"])(["updateDailyTracks"])),{},{loadDailyTracks:function(){var t=this;Object(M["c"])()&&Object(r["d"])().then((function(e){t.updateDailyTracks(e.data.dailySongs)})).catch((function(){}))},goToDailyTracks:function(){this.$router.push({name:"dailySongs"})},playDailyTracks:function(){if(Object(M["c"])()){var t=this.dailyTracks.map((function(t){return t.id}));this.$store.state.player.replacePlaylist(t,"/daily/songs","url",this.dailyTracks[0].id)}else this.showToast(S["a"].t("toast.needToLogin"))}})},D=N,j=(i("db6e"),Object(T["a"])(D,E,P,!1,null,"5032d146",null)),R=j.exports,$={name:"Home",components:{CoverRow:f["a"],FMCard:x,DailyTracksCard:R},data:function(){return{show:!1,recommendPlaylist:{items:[]},newReleasesAlbum:{items:[]},topList:{items:[],ids:[19723756,180106,60198,3812895,60131]},recommendArtists:{items:[],indexs:[]}}},computed:Object(a["a"])(Object(a["a"])({},Object(p["d"])(["settings"])),{},{byAppleMusic:function(){return c["a"]}}),activated:function(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:{loadData:function(){var t,e,i=this;setTimeout((function(){i.show||h.a.start()}),1e3),Object(u["b"])(10,!1).then((function(t){i.recommendPlaylist.items=t,h.a.done(),i.show=!0})),Object(l["d"])({area:null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"ALL",limit:10}).then((function(t){i.newReleasesAlbum.items=t.albums}));var n={all:null,zh:1,ea:2,jp:4,kr:3};Object(o["f"])(n[null!==(e=this.settings.musicLanguage)&&void 0!==e?e:"all"]).then((function(t){var e=[];while(e.length<6){var n=~~(100*Math.random());e.includes(n)||e.push(n)}i.recommendArtists.indexs=e,i.recommendArtists.items=t.list.artists.filter((function(t,i){return e.includes(i)}))})),Object(r["l"])().then((function(t){i.topList.items=t.list.filter((function(t){return i.topList.ids.includes(t.id)}))})),this.$refs.DailyTracksCard.loadDailyTracks()}}},U=$,B=(i("9a6a"),Object(T["a"])(U,n,s,!1,null,"c54ed028",null));e["default"]=B.exports},"66db":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"artist-page"},[i("div",{staticClass:"artist-info"},[i("div",{staticClass:"head"},[i("img",{attrs:{src:t._f("resizeImage")(t.artist.img1v1Url,1024),loading:"lazy"}})]),i("div",[i("div",{staticClass:"name"},[t._v(t._s(t.artist.name))]),i("div",{staticClass:"artist"},[t._v(t._s(t.$t("artist.artist")))]),i("div",{staticClass:"statistics"},[i("a",{on:{click:function(e){return t.scrollTo("popularTracks")}}},[t._v(t._s(t.artist.musicSize)+" "+t._s(t.$t("common.songs")))]),t._v(" · "),i("a",{on:{click:function(e){return t.scrollTo("seeMore","start")}}},[t._v(t._s(t.artist.albumSize)+" "+t._s(t.$t("artist.withAlbums")))]),t._v(" · "),i("a",{on:{click:function(e){return t.scrollTo("mvs")}}},[t._v(t._s(t.artist.mvSize)+" "+t._s(t.$t("artist.videos")))])]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.artist.briefDesc)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPopularSongs()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),i("ButtonTwoTone",{attrs:{color:"grey"},nativeOn:{click:function(e){return t.followArtist.apply(null,arguments)}}},[t.artist.followed?i("span",[t._v(t._s(t.$t("artist.following")))]):i("span",[t._v(t._s(t.$t("artist.follow")))])]),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)])]),void 0!==t.latestRelease?i("div",{staticClass:"latest-release"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.latestRelease")))]),i("div",{staticClass:"release"},[i("div",{staticClass:"container"},[i("Cover",{attrs:{id:t.latestRelease.id,"image-url":t._f("resizeImage")(t.latestRelease.picUrl),type:"album","fixed-size":128,"play-button-size":30}}),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[i("router-link",{attrs:{to:"/album/"+t.latestRelease.id}},[t._v(t._s(t.latestRelease.name))])],1),i("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestRelease.publishTime))+" ")]),i("div",{staticClass:"type"},[t._v(" "+t._s(t._f("formatAlbumType")(t.latestRelease.type,t.latestRelease))+" · "+t._s(t.latestRelease.size)+" "+t._s(t.$t("common.songs"))+" ")])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.latestMV.id,expression:"latestMV.id"}],staticClass:"container latest-mv"},[i("div",{staticClass:"cover",on:{mouseover:function(e){t.mvHover=!0},mouseleave:function(e){t.mvHover=!1},click:function(e){return t.goToMv(t.latestMV.id)}}},[i("img",{attrs:{src:t.latestMV.coverUrl,loading:"lazy"}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mvHover,expression:"mvHover"}],staticClass:"shadow",style:{background:"url("+t.latestMV.coverUrl+")"}})])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[i("router-link",{attrs:{to:"/mv/"+t.latestMV.id}},[t._v(t._s(t.latestMV.name))])],1),i("div",{staticClass:"date"},[t._v(" "+t._s(t._f("formatDate")(t.latestMV.publishTime))+" ")]),i("div",{staticClass:"type"},[t._v(t._s(t.$t("artist.latestMV")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.latestMV.id,expression:"!latestMV.id"}]})])]):t._e(),i("div",{staticClass:"popular-tracks",attrs:{id:"popularTracks"}},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.popularSongs")))]),i("TrackList",{attrs:{tracks:t.popularTracks.slice(0,t.showMorePopTracks?24:12),type:"tracklist"}}),i("div",{staticClass:"show-more",attrs:{id:"seeMore"}},[i("button",{on:{click:function(e){t.showMorePopTracks=!t.showMorePopTracks}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.showMorePopTracks,expression:"!showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showMore")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showMorePopTracks,expression:"showMorePopTracks"}]},[t._v(t._s(t.$t("artist.showLess")))])])])],1),0!==t.albums.length?i("div",{staticClass:"albums",attrs:{id:"albums"}},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.albums")))]),i("CoverRow",{attrs:{type:"album",items:t.albums,"sub-text":"releaseYear","show-play-button":!0}})],1):t._e(),0!==t.mvs.length?i("div",{staticClass:"mvs",attrs:{id:"mvs"}},[i("div",{staticClass:"section-title"},[t._v("MVs "),i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.hasMoreMV,expression:"hasMoreMV"}],attrs:{to:"/artist/"+t.artist.id+"/mv"}},[t._v(t._s(t.$t("home.seeMore")))])],1),i("MvRow",{attrs:{mvs:t.mvs,subtitle:"publishTime"}})],1):t._e(),0!==t.eps.length?i("div",{staticClass:"eps"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.EPsSingles")))]),i("CoverRow",{attrs:{type:"album",items:t.eps,"sub-text":"albumType+releaseYear","show-play-button":!0}})],1):t._e(),0!==t.similarArtists.length?i("div",{staticClass:"similar-artists"},[i("div",{staticClass:"section-title"},[t._v(t._s(t.$t("artist.similarArtists")))]),i("CoverRow",{attrs:{type:"artist","column-number":6,gap:"36px 28px",items:t.similarArtists.slice(0,12)}})],1):t._e(),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:t.$t("artist.artistDesc")}},[i("p",{staticClass:"description-fulltext"},[t._v(" "+t._s(t.artist.briefDesc)+" ")])]),i("ContextMenu",{ref:"artistMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.copyUrl(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),i("div",{staticClass:"item",on:{click:function(e){return t.openInBrowser(t.artist.id)}}},[t._v(t._s(t.$t("contextMenu.openInBrowser")))])])],1)},s=[],a=i("f3f3"),r=(i("4de4"),i("d3b7"),i("caad"),i("b0c0"),i("25f0"),i("d81d"),i("99af"),i("2f62")),o=i("512b"),l=i("fe07"),c=i("5f87"),u=i("323e"),d=i.n(u),h=i("5e45"),p=i("6825"),f=i("a1a1"),m=i("2726"),g=i("3020"),v=i("d4e3"),y=i("714b"),b={name:"Artist",components:{Cover:g["a"],ButtonTwoTone:h["a"],TrackList:f["a"],CoverRow:m["a"],MvRow:v["a"],Modal:y["a"],ContextMenu:p["a"]},beforeRouteUpdate:function(t,e,i){this.artist.img1v1Url="https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg",this.loadData(t.params.id,i)},data:function(){return{show:!1,artist:{img1v1Url:"https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg"},popularTracks:[],albumsData:[],latestRelease:{picUrl:"",publishTime:0,id:0,name:"",type:"",size:""},showMorePopTracks:!1,showFullDescription:!1,mvs:[],hasMoreMV:!1,similarArtists:[],mvHover:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["player"])),{},{albums:function(){return this.albumsData.filter((function(t){return"专辑"===t.type||"精选集"===t.type}))},eps:function(){return this.albumsData.filter((function(t){return["EP/Single","EP","Single"].includes(t.type)}))},latestMV:function(){var t=this.mvs[0]||{};return{id:t.id||t.vid,name:t.name||t.title,coverUrl:"".concat(t.imgurl16v9||t.cover||t.coverUrl,"?param=464y260"),publishTime:t.publishTime}}}),activated:function(){var t,e;(null===(t=this.artist)||void 0===t||null===(e=t.id)||void 0===e?void 0:e.toString())!==this.$route.params.id?this.loadData(this.$route.params.id):this.$parent.$refs.scrollbar.restorePosition()},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["c"])(["appendTrackToPlayerList"])),Object(r["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"])),{},{loadData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;setTimeout((function(){e.show||d.a.start()}),1e3),this.show=!1,this.$parent.$refs.main.scrollTo({top:0}),Object(o["c"])(t).then((function(t){e.artist=t.artist,e.popularTracks=t.hotSongs,void 0!==i&&i(),d.a.done(),e.show=!0})),Object(o["d"])({id:t,limit:200}).then((function(t){e.albumsData=t.hotAlbums,e.latestRelease=t.hotAlbums[0]})),Object(o["a"])({id:t}).then((function(t){e.mvs=t.mvs,e.hasMoreMV=t.hasMore})),Object(o["e"])(t).then((function(t){e.similarArtists=t.artists}))},goToAlbum:function(t){this.$router.push({name:"album",params:{id:t}})},goToMv:function(t){this.$router.push({path:"/mv/"+t})},playPopularSongs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.popularTracks.map((function(t){return t.id}));this.$store.state.player.replacePlaylist(e,this.artist.id,"artist",t)},followArtist:function(){var t=this;Object(c["c"])()?Object(o["b"])({id:this.artist.id,t:this.artist.followed?0:1}).then((function(e){200===e.code&&(t.artist.followed=!t.artist.followed)})):this.showToast(l["a"].t("toast.needToLogin"))},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";document.getElementById(t).scrollIntoView({behavior:"smooth",block:e})},toggleFullDescription:function(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)},openMenu:function(t){this.$refs.artistMenu.openMenu(t)},copyUrl:function(t){var e=this.showToast;this.$copyText("https://music.163.com/#/artist?id=".concat(t)).then((function(){e(l["a"].t("toast.copied"))})).catch((function(t){e("".concat(l["a"].t("toast.copyFailed")).concat(t))}))},openInBrowser:function(t){var e="https://music.163.com/#/artist?id=".concat(t);window.open(e)}})},w=b,_=(i("ec0e"),i("2877")),k=Object(_["a"])(w,n,s,!1,null,"11c89aba",null);e["default"]=k.exports},"67dd":function(t,e){t.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},"699e":function(t,e){const i=new Uint8Array(512),n=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)i[e]=t,n[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)i[e]=i[e-255]})(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[n[t]+n[e]]}},"6c84":function(t,e,i){},7381:function(t,e,i){"use strict";var n=function(){if(!0===Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON){var t=i("bdb9"),e=t.dialog;if(e)return function(t){var i={type:"warning",message:t};e.showMessageBoxSync(null,i)}}return alert}();e["a"]=n},"78d2":function(t,e,i){},7903:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};function n(t,i,n){switch(t){case e.Patterns.PATTERN000:return(i+n)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(i+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return i*n%2+i*n%3===0;case e.Patterns.PATTERN110:return(i*n%2+i*n%3)%2===0;case e.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let n=0,s=0,a=0,r=null,o=null;for(let l=0;l<e;l++){s=a=0,r=o=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===r?s++:(s>=5&&(n+=i.N1+(s-5)),r=e,s=1),e=t.get(c,l),e===o?a++:(a>=5&&(n+=i.N1+(a-5)),o=e,a=1)}s>=5&&(n+=i.N1+(s-5)),a>=5&&(n+=i.N1+(a-5))}return n},e.getPenaltyN2=function(t){const e=t.size;let n=0;for(let i=0;i<e-1;i++)for(let s=0;s<e-1;s++){const e=t.get(i,s)+t.get(i,s+1)+t.get(i+1,s)+t.get(i+1,s+1);4!==e&&0!==e||n++}return n*i.N2},e.getPenaltyN3=function(t){const e=t.size;let n=0,s=0,a=0;for(let i=0;i<e;i++){s=a=0;for(let r=0;r<e;r++)s=s<<1&2047|t.get(i,r),r>=10&&(1488===s||93===s)&&n++,a=a<<1&2047|t.get(r,i),r>=10&&(1488===a||93===a)&&n++}return n*i.N3},e.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let i=0;i<n;i++)e+=t.data[i];const s=Math.abs(Math.ceil(100*e/n/5)-10);return s*i.N4},e.applyMask=function(t,e){const i=e.size;for(let s=0;s<i;s++)for(let a=0;a<i;a++)e.isReserved(a,s)||e.xor(a,s,n(t,a,s))},e.getBestMask=function(t,i){const n=Object.keys(e.Patterns).length;let s=0,a=1/0;for(let r=0;r<n;r++){i(r),e.applyMask(r,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(r,t),n<a&&(a=n,s=r)}return s}},"7a43":function(t,e){function i(t){if("string"!==typeof t)throw new Error("Param is not a string");const i=t.toLowerCase();switch(i){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&"undefined"!==typeof t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return i(t)}catch(s){return n}}},"7ba0":function(t,e){function i(){this.buffer=[],this.length=0}i.prototype={get:function(t){const e=Math.floor(t/8);return 1===(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let i=0;i<e;i++)this.putBit(1===(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=i},"7bf0":function(t,e){let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;while(0!==t)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!==typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},e.isKanjiModeEnabled=function(){return"undefined"!==typeof i},e.toSJIS=function(t){return i(t)}},"7d3a":function(t,e,i){var n=i("5615"),s=i("f7ca"),a=i("6747");function r(t){var e=a(t)?n:s;return e(t)}t.exports=r},"7d53":function(t,e,i){"use strict";i("9e41")},"7df4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search"},[i("h1",[i("span",[t._v(t._s(t.$t("search.searchFor"))+" "+t._s(t.typeNameTable[t.type]))]),t._v(' "'+t._s(t.keywords)+'" ')]),"artists"===t.type?i("div",[i("CoverRow",{attrs:{type:"artist",items:t.result,"column-number":6}})],1):t._e(),"albums"===t.type?i("div",[i("CoverRow",{attrs:{type:"album",items:t.result,"sub-text":"artist","sub-text-font-size":"14px"}})],1):t._e(),"tracks"===t.type?i("div",[i("TrackList",{attrs:{tracks:t.result,type:"playlist","dbclick-track-func":"playAList"}})],1):t._e(),"musicVideos"===t.type?i("div",[i("MvRow",{attrs:{mvs:t.result}})],1):t._e(),"playlists"===t.type?i("div",[i("CoverRow",{attrs:{type:"playlist",items:t.result,"sub-text":"title"}})],1):t._e(),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey"},nativeOn:{click:function(e){return t.fetchData.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},s=[],a=i("d0ff"),r=(i("d81d"),i("a15b"),i("fefb")),o=i("dad3"),l=i("fe07");var c=function(){return c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},c.apply(this,arguments)};Object.create;Object.create;function u(t){return t.toLowerCase()}var d=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],h=/[^A-Z0-9]+/gi;function p(t,e){void 0===e&&(e={});var i=e.splitRegexp,n=void 0===i?d:i,s=e.stripRegexp,a=void 0===s?h:s,r=e.transform,o=void 0===r?u:r,l=e.delimiter,c=void 0===l?" ":l,p=f(f(t,n,"$1\0$2"),a,"\0"),m=0,g=p.length;while("\0"===p.charAt(m))m++;while("\0"===p.charAt(g-1))g--;return p.slice(m,g).split("\0").map(o).join(c)}function f(t,e,i){return e instanceof RegExp?t.replace(e,i):e.reduce((function(t,e){return t.replace(e,i)}),t)}function m(t,e){var i=t.charAt(0),n=t.substr(1).toLowerCase();return e>0&&i>="0"&&i<="9"?"_"+i+n:""+i.toUpperCase()+n}function g(t,e){return void 0===e&&(e={}),p(t,c({delimiter:"",transform:m},e))}function v(t,e){return 0===e?t.toLowerCase():m(t,e)}function y(t,e){return void 0===e&&(e={}),g(t,c({transform:v},e))}var b=i("323e"),w=i.n(b),_=i("a1a1"),k=i("d4e3"),C=i("2726"),T=i("5e45"),A={name:"Search",components:{TrackList:_["a"],MvRow:k["a"],CoverRow:C["a"],ButtonTwoTone:T["a"]},data:function(){return{show:!1,result:[],hasMore:!0}},computed:{keywords:function(){return this.$route.params.keywords},type:function(){return y(this.$route.params.type)},typeNameTable:function(){return{musicVideos:l["a"].t("search.mv"),tracks:l["a"].t("search.song"),albums:l["a"].t("search.album"),artists:l["a"].t("search.artist"),playlists:l["a"].t("search.playlist")}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e={musicVideos:1004,tracks:1,albums:10,artists:100,playlists:1e3};return Object(o["c"])({keywords:this.keywords,type:e[this.type],offset:this.result.length}).then((function(e){var i,n,s,r,o,l;switch(e=e.result,t.hasMore=null===(i=e.hasMore)||void 0===i||i,t.type){case"musicVideos":(n=t.result).push.apply(n,Object(a["a"])(e.mvs)),e.mvCount<=t.result.length&&(t.hasMore=!1);break;case"artists":(s=t.result).push.apply(s,Object(a["a"])(e.artists));break;case"albums":(r=t.result).push.apply(r,Object(a["a"])(e.albums)),e.albumCount<=t.result.length&&(t.hasMore=!1);break;case"tracks":(o=t.result).push.apply(o,Object(a["a"])(e.songs)),t.getTracksDetail();break;case"playlists":(l=t.result).push.apply(l,Object(a["a"])(e.playlists));break}w.a.done(),t.show=!0}))},getTracksDetail:function(){var t=this,e=this.result.map((function(t){return t.id}));0!==e.length&&Object(r["c"])(e.join(",")).then((function(e){t.result=e.songs}))}}},x=A,E=(i("20c0"),i("2877")),P=Object(E["a"])(x,n,s,!1,null,"30094568",null);e["default"]=P.exports},"808a":function(t,e,i){"use strict";i("ebd0")},"841c":function(t,e,i){"use strict";var n=i("c65b"),s=i("d784"),a=i("825a"),r=i("1d80"),o=i("129f"),l=i("577e"),c=i("dc4a"),u=i("14c3");s("search",(function(t,e,i){return[function(e){var i=r(this),s=void 0==e?void 0:c(e,t);return s?n(s,e,i):new RegExp(e)[t](l(i))},function(t){var n=a(this),s=l(t),r=i(e,n,s);if(r.done)return r.value;var c=n.lastIndex;o(c,0)||(n.lastIndex=0);var d=u(n,s);return o(n.lastIndex,c)||(n.lastIndex=c),null===d?-1:d.index}]}))},"8a21":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings-page",on:{click:t.clickOutside}},[i("div",{staticClass:"container"},[t.showUserInfo?i("div",{staticClass:"user"},[i("div",{staticClass:"left"},[i("img",{staticClass:"avatar",attrs:{src:t.data.user.avatarUrl,loading:"lazy"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"nickname"},[t._v(t._s(t.data.user.nickname))]),i("div",{staticClass:"extra-info"},[0!==t.data.user.vipType?i("span",{staticClass:"vip"},[i("img",{staticClass:"cvip",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAA8CAYAAAC6j+5hAAAQK0lEQVR4AXzNh5WDMAwA0Dv3Su+wIfuxC3MwgCMUOz3xe1/N7e/X0lovhJCVUroR8r9DfVBKAuQAM8QYQ4815wlHQqQsIh6kFEA+USpRCP4H92yMfmCCtScL7rVzd967Fz5kmcf6zHmeJdDf66LIowJzWd5zUlUlqmsU6wo1TVI/adsmutZd1z7p+6Q7HePY7WCbpmGd53kBF87L4yiTMAaiM+u9N2NTIpB1CZEHuZAGHLFS8T9UXdJqzeHRw5VX3Z8YAIAPwf5Ii8k6Hsfx0nBxgEQwcWQIDKGPEZolAhIRGLg8hCaJUEuEVwhFIN8QMkOgfXsCApNESBLj+yNCEYjEg0iRicB7mdP05T7n+eulcbzv+2IMAHyAF/HI5J2pwBGBpIA4iCZqGwF5yKSJ4AJpIm1EoCfytJWAwKqN8MZRmYEIpI0IJCuJtUD/VoGIQ6aL01Yi8OuBu+95nlzo2bIsR8bggPxikn6ZwGuXiEhS2+iJQBKJEEJpIm1Epksr2ggiEanIRGDRRhCJuY1Znjaxm9R3CCRTIxHZtTHJI0MkbUQqMq+2bfllDMAHTbwax0HlZYGBymRWaaOIDIFQy/SkjaBtlFlFpgjs2whlE0nEQddGEonN24hAaWaSSQOjic5EwhXNpJH+JrrJw5yWbQQRiEQE0kJLREobEcmcIhGB8i7KpCIUkQhEome0MLJ5G7PAto2Q55TvaGHTxlqivItdG0PksszOGW/m4D/8sGFOQ55KzE0ko4UqE4nayHypIq6eVARGC5V+UmuBKjLkBe2kCv2kaiMRWM+qg0RQgZ7LMgm2pseHRR0247ITmY8cBPazqu+iytRGqlBE5neRpIX9rML/zCqJRJWZGwkqEJAY6QL7WSWRKDJppH9f+r8mLvJ7SASuVEQmiWRqIdBEMq7U30+qkie1eRdFHDKZVY6bflIVJEL9LqYWAgJJmthMqkITSZfnIpHoua53Mm1dv7vIk9RGoZeISEAc06qNdLSFJKhAeEGmS5VUoSGwnlZklm+jkJv4vrtUmVJ5H2li9zaCCtRGIhKZiNy2+WQweachEZDYzik0bcxXKvRtVImAxPrASXPqQvsDp34j2ybWIj8mEAdVG0kOHG0jTEATaSNprKcu8vxPVyoJWSIp72N55HCx1lcqqZNKBkh0uFJJlRm8kXntr9TyfYQkkfRG6vuYr1Tex6KJJDKrIwehNNJYPM+HelZDHO8jLSSdW1rOAci5bYnCeSprmLHtubbte8fXtm3btm3btm3bxq/9TqfeqtpZ0+fszrs5VbUqU+Pkq9W9GzsCjAUnAmJ1Nus2mZpwKy29FOfGHLhrzz7duU8+SNQN553NuREdHF++E0O/k0GGvp9zIz5v1q9vv+befewhd+9Vl7s9t9vaDfX3CjA+qSpOzMblRoEIkC7DAFmAyG7kniogwo1rrriCe+T6a9zsj9/PPZGvX3rO1VZX+zBF8jn5WvCF2GhyDDD1vEgK/D7qq4ZBUngNwwto1kfvuUtPOdEN9PVwucGhFW5kmJCUIADJYTW5gxNX/IuWX2Jx99wdt6r//LVnn6EW/2uvuUbwiX//6kuupamRa0bOkciLZpAIp4Hv51IjDMuoX956za0/PqrmRg6nDJBBAiLlREgrN/7DbszlsWP328fNSf7HI2ir84RDJJCDT/rOyy4OuhGh1Q7S5kguN+ywwpKotc8O29MJFQLE/NwIIbxmeMIh0ro3eOR2nLgxGyXwJ2+5MfgPI8TW1VTjgAPJ50whdusN1wNMbd5odiSfUI0gi+tIgrnBxCi14UheyQEnQhkPIh1wfKDxJ9Wy0lKEUrOuOycXYnlobAqxP73xiutqb6cuDp1SCwNpciSfVIsNEmF2aKBPYHITAADJkR5Ia2Oc2nAicYbZiax11lpDAHJP1RRiH7z2KgHHDQAopRwpANMDCV16yknkyGrfjb4TPZi1cCTgadP/eDcef8B+2j9jDrH1tbU8ppLPmULsLltuFjemsoJEWDWD9GGmARGn2bkGByi0JrmRQHLxDyeKGKBoyYUXQmkR1IwP3sk5bYPodNbf3eXK5UUpFZWoM0dxa+h3/vbOG26wr0eFmUKO9N1oduRnzz3ltlh/Hdff2xWpO/p4Xflc8Of22n4bv4vDAEV6jgTAUE/VB/rqfXeZnsyN553jujva1U4OQqrXS0Vz3BRin7j5BoADSCn0LSC5DWd1JDo4Jogd7S1S7Od1cro624Iw77v6coDk3KhCrK+PHOkfbPDoO1Fz5GrLLWs6he213dYo/rkVR06cDrOhzhZi991xe3VEZQeZjiPFiRhVcStuyw3WTfpZ6QAlFv8C04coUnOk1orzYErHJvhE9tx2a2W9EY88+dd3cdZZa83g3/nzvbfcvMODfk81FZCAaD3s9PV0+U7Ma44P9HUH2nmvx9SNeQccypGASNJqRlF9bY0hnJ4NgDzhiHMjT/5RK5pC7PN33hbBKMGIKo3QSpONIEjJizzhgKQtFyxDuGZEbqSQKhDhyPCoCk4UbTg+FjzYSE7k5jitccTuqQIgmuON9fWmEHvYnrv5k400cqQ33TCHVlHBofW9xx/i5jhcySA5R8aXGzxnvOTk4xP/CXEQb8RBbSWl7soFFnKfrriySD6Wz8W6EUX/uiNrmk7Giy4wnxlkaWlBIOFEE0gcdjo7WqdB7OpsNxx2rvDdGIIYqU5AMsT4/Ch66tbkBsAG4yPiRjqlCsQS983Kq7lZa4z4ks8BproBgML/+nPPCr54r91/j7zIZkdi6p9GaAVMcZ+UHpIX5WNL+bH3DtvEnlIRXhFSIYAUEcD8HIlB8fuPP5Kc5Lu6ABESmOI+hgjJ12K34qCmhgb3zcvPB1+E4w/cvwCQJWaQvBWXZkNg7qFBdcIB4aBDIP+plBsifdlYTlSJIaukhPOj5EUJpbEgP1tpZUAEUHUrbr3REdMLsfSiCxvni/bQynuqaYG87NSTqOSoCUJsaJDQ6hf/BJDyo0hOVMmHgtJSbQ8nAHKVWIAkU4h959EHzYNi68Sfd1TTaprPNdTvQ4T4pKqDFGlb4yK+FvfWw/cXFFrhyCsXWDAQWnnFUQVqDrEp5EiBia24VMZYG06O8SEHEBmmp7qcMur9Rs+FDFImD6HDjlcv4lEONLGHnfbSMnZjTgO93dqYyhRirY40zhd5M67YEKVDpdaMHFbhSDgRyuQ3xmn1X1lvlD0Tw6xRxOuNavnRXoryI38rTnT7JRcKNED0B8fBEGsHaXIkrzYWNZyKE7nUYKAAqIVVP0f6YoD+jSpTQ6Cns523xRPvNwo0rh2H+/vdzA/fjcLocxJOARBFv+zvBEJsUXMk398o0vLVSW54sE8g+opx5LRwio/hSMDzICq5EarKVsgLHJx4xF8Zt12Ju+eKS/H7xH0CkmHKWOxvgERYNYGkPdWwI2UH5+4rLnEfPvloNHJ7XU770gyXyYaMqaISY4CHxtxP5ZOqyIdJoZUmHH7JAfGi8QPXXBkuarffBj1VBaAOE2H1/OOPnvb71h8bQVM8D+YN56khttjrjbRoHAbJq43+1F/ZACCIITcqOZLcCKluBMixVVc2jrG2ITcq9xsppB6z397q75Mw2tzYQNvi5hAb2MGxO9IOEvcb4y7jVAMiL1R5j8iN+e04htjYWA+Q8SEVjuT7G4/fdL15sNzb1eE7Ug2r3R0dcriJ/T0Isdp1uA2Qt+3iG1UFOjKYIwFOcyQ7kdwYLP4prNYDJOVIAklhFTBl1cP0guEAdN05Z+a2xQd6elylHBrKyyLAndHnxuXaQCjv+iHWv0kFybWC/8eRVpCAiEcrSEA0bsWFW3GcH6FM+A5H/P3GUw49iJ5A+jrugH3V+42tzU3GEAuQhS0c+/cbs9kgSADE0jEgJk3+qTEuwIIhlUIrhVUA1K7G+beMJVTeeyVOl+nrxvPPATwGiRCbYo4UiObQGroax4NjiJ0IoBxa40H6SoLIN6qy0ZN648H7UgWIRSt5IQNv4IAQW+yFY1yHM4NkiOEDTtz0H1Lc6OfIuHfh8E+peIT4fqPAvPfKy1KDKDtCjQ31gJh4v7GtpRkhtphbcXRJ1Q5SoOExfr1Rg8nlRh2UBxPKBJzofUxupOm/nECLnTP/ev9tt99O26sA8cgwRRtOjJmXqSALSH8rLgzSfr8RUpxIboTqFZBKbiSgAAiY6h4OCn85zUoYDIMKT/sXnm8e1IxBN7ICIVbgFRhaAbEgR1JeFMXu4XAHh5vjihuhBpcBRN2RajhVt+L47v/E6qvKpMRUVkBzIj15yw1Ro3yt8Ds3Bt7cqL21JSnEem4sNQ2KPTdaHQl4BDAUVuHC+HCKvAg1Nf0PpPYOHPwuVfFujN8aF9VGT2KTqUl3+WknuYevv9q9/cgDuY6/7KN+9eIz7qV77owWuk50O22+qetsa7W+Jw5JvfMvNaoxR9pDK94Lxx5aATHgxsAhh2GyMv9t7WxS2wiiINw7ZxOyT/w3YPBtdBGDL+R76C66hrWVIO8FCgq+rtYgsvimtS/qve7XM6US7MwBgDkSvbF5gAPtN6Y39wYbsaT+WubFuZiMUkFeHN6Ms2sqpFOlYKMC47j1FEdizu8bGwrI3apKartx257PowQ7lYjY4HAI8MMdaXAwznEcRWQU59SJWnF+FBQQUWOzdCrgAjJuTALKkauYsQZDAIgouEvFgNwEpCNLyOLl1I48tmgG+uL8+43GX/8PjuTtRkioEkipWuWo7gz+25/eSAGXOaruROFOhBvDq422copDAZ8bE/PlOEqkjxDDieNG4WKG0L+b943ThCriQu51Y44aW6cau4hCgsKNtSY3akWAA/qjCQg3srQmN6q0vnz8yy2vHnmZhf7xRePbeXFaeU1FN2YxZ72RrKPG5EQK6Hh/VFmVA11IwbJKMfmlMXeo7JGroTg2N94jL29vb4+jHqPE+rIjR3Rj/UY55feNdKNhIv5s1jGc+3vjMvjPmAXFe2qjpVPBjchTDVlxcGMex/2ZnRlttd6Y3fhVjNGPDt4t8b6xW4WAKYIzlVQ48u4IznBmDBmqaYOTs1QpplwJAdMmR3he3NSRTiqpBgSsVSJ+v7+//y7G6EdRYj4cypVXllXvi3Ckwe8b2Rc99T86EvyHshr6I3qkC5i+b8TNfyir6Ita3YUU83ElpAt63bbtUIymH6L75WcJeGUMpztxUVJ53AiZOLsF1JpSjbWClGrMGE4mNzIwPvRFzFKdUFLhRo7hcE3FvngtPosh+uF0mT2UcN/p0zjsVPlmnASEI3luBBDwnt7o0Ik5ML6RcN4fPfxvvVOlgKvXOPJV1VMcjnc53banQzGcfoDumSXiV3FBOb3tRogoPA+HAQ47yylEnE9yBFONU7qxYDkNbpSgdCNEnLpRKyY4YaZ66Y2NeqKjHhnpo0kJ9VGCHuv3qTi7oL7Jsb6oFX0x/5kKd6vBifYbTrzVHwV6Yq3crXKXylEcd6la8VYcR3GY3mgV59fXp1Nx7HNiHzGKkfgLQfHe2MpsYnIAAAAASUVORK5CYII=",loading:"lazy"}}),i("span",{staticClass:"text"},[t._v("黑胶VIP")])]):i("span",{staticClass:"text"},[t._v(t._s(t.data.user.signature))])])])]),i("div",{staticClass:"right"},[i("button",{on:{click:t.logout}},[i("svg-icon",{attrs:{"icon-class":"logout"}}),t._v(" "+t._s(t.$t("settings.logout"))+" ")],1)])]):t._e(),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.language"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lang=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"en"}},[t._v("🇬🇧 English")]),i("option",{attrs:{value:"tr"}},[t._v("🇹🇷 Türkçe")]),i("option",{attrs:{value:"zh-CN"}},[t._v("🇨🇳 简体中文")]),i("option",{attrs:{value:"zh-TW"}},[t._v("繁體中文")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.appearance.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.appearance,expression:"appearance"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.appearance=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"auto"}},[t._v(t._s(t.$t("settings.appearance.auto")))]),i("option",{attrs:{value:"light"}},[t._v("🌞 "+t._s(t.$t("settings.appearance.light")))]),i("option",{attrs:{value:"dark"}},[t._v("🌚 "+t._s(t.$t("settings.appearance.dark")))])])])]),i("div",{staticClass:"item"},[t._m(0),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.musicLanguage,expression:"musicLanguage"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicLanguage=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"all"}},[t._v("无偏好")]),i("option",{attrs:{value:"zh"}},[t._v("华语")]),i("option",{attrs:{value:"ea"}},[t._v("欧美")]),i("option",{attrs:{value:"jp"}},[t._v("日语")]),i("option",{attrs:{value:"kr"}},[t._v("韩语")])])])]),i("h3",[t._v("音质")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.musicQuality.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.musicQuality,expression:"musicQuality"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.musicQuality=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"128000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.low"))+" - 128Kbps ")]),i("option",{attrs:{value:"192000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.medium"))+" - 192Kbps ")]),i("option",{attrs:{value:"320000"}},[t._v(" "+t._s(t.$t("settings.musicQuality.high"))+" - 320Kbps ")]),i("option",{attrs:{value:"flac"}},[t._v(" "+t._s(t.$t("settings.musicQuality.lossless"))+" - FLAC ")]),i("option",{attrs:{value:"999000"}},[t._v("Hi-Res")])])])]),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.deviceSelector"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.outputDevice,expression:"outputDevice"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.outputDevice=e.target.multiple?i:i[0]}}},t._l(t.allOutputDevices,(function(e){return i("option",{key:e.deviceId,domProps:{value:e.deviceId,selected:e.deviceId==t.outputDevice}},[t._v(" "+t._s(t.$t(e.label))+" ")])})),0)])]):t._e(),t.isElectron?i("h3",[t._v("缓存")]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.automaticallyCacheSongs"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.automaticallyCacheSongs,expression:"automaticallyCacheSongs"}],attrs:{id:"automatically-cache-songs",type:"checkbox",name:"automatically-cache-songs"},domProps:{checked:Array.isArray(t.automaticallyCacheSongs)?t._i(t.automaticallyCacheSongs,null)>-1:t.automaticallyCacheSongs},on:{change:function(e){var i=t.automaticallyCacheSongs,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.automaticallyCacheSongs=i.concat([a])):r>-1&&(t.automaticallyCacheSongs=i.slice(0,r).concat(i.slice(r+1)))}else t.automaticallyCacheSongs=s}}}),i("label",{attrs:{for:"automatically-cache-songs"}})])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.cacheLimit.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.cacheLimit,expression:"cacheLimit"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cacheLimit=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:!1}},[t._v(" "+t._s(t.$t("settings.cacheLimit.none"))+" ")]),i("option",{domProps:{value:512}},[t._v(" 500MB ")]),i("option",{domProps:{value:1024}},[t._v(" 1GB ")]),i("option",{domProps:{value:2048}},[t._v(" 2GB ")]),i("option",{domProps:{value:4096}},[t._v(" 4GB ")]),i("option",{domProps:{value:8192}},[t._v(" 8GB ")])])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.cacheCount",{song:t.tracksCache.length,size:t.tracksCache.size})))])]),i("div",{staticClass:"right"},[i("button",{on:{click:function(e){return t.clearCache()}}},[t._v(" "+t._s(t.$t("settings.clearSongsCache"))+" ")])])]):t._e(),i("h3",[t._v("歌词")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.showLyricsTranslation")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTranslation,expression:"showLyricsTranslation"}],attrs:{id:"show-lyrics-translation",type:"checkbox",name:"show-lyrics-translation"},domProps:{checked:Array.isArray(t.showLyricsTranslation)?t._i(t.showLyricsTranslation,null)>-1:t.showLyricsTranslation},on:{change:function(e){var i=t.showLyricsTranslation,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.showLyricsTranslation=i.concat([a])):r>-1&&(t.showLyricsTranslation=i.slice(0,r).concat(i.slice(r+1)))}else t.showLyricsTranslation=s}}}),i("label",{attrs:{for:"show-lyrics-translation"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.lyricsBackground.text")))])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricsBackground,expression:"lyricsBackground"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricsBackground=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:!1}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.off"))+" ")]),i("option",{domProps:{value:!0}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.on"))+" ")]),i("option",{attrs:{value:"blur"}},[t._v(" 模糊封面 ")]),i("option",{attrs:{value:"dynamic"}},[t._v(" "+t._s(t.$t("settings.lyricsBackground.dynamic"))+" ")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showLyricsTime"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLyricsTime,expression:"showLyricsTime"}],attrs:{id:"show-lyrics-time",type:"checkbox",name:"show-lyrics-time"},domProps:{checked:Array.isArray(t.showLyricsTime)?t._i(t.showLyricsTime,null)>-1:t.showLyricsTime},on:{change:function(e){var i=t.showLyricsTime,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.showLyricsTime=i.concat([a])):r>-1&&(t.showLyricsTime=i.slice(0,r).concat(i.slice(r+1)))}else t.showLyricsTime=s}}}),i("label",{attrs:{for:"show-lyrics-time"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.lyricFontSize.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.lyricFontSize,expression:"lyricFontSize"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.lyricFontSize=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"16"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.small"))+" - 16px ")]),i("option",{attrs:{value:"22"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.medium"))+" - 22px ")]),i("option",{attrs:{value:"28"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.large"))+" - 28px ")]),i("option",{attrs:{value:"36"}},[t._v(" "+t._s(t.$t("settings.lyricFontSize.xlarge"))+" - 36px ")])])])]),t.isElectron?i("section",{staticClass:"unm-configuration"},[i("h3",[t._v("UnblockNeteaseMusic")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.unm.enable"))+" "),i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server",target:"blank"}},[t._v("UnblockNeteaseMusic")])])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableUnblockNeteaseMusic,expression:"enableUnblockNeteaseMusic"}],attrs:{id:"enable-unblock-netease-music",type:"checkbox",name:"enable-unblock-netease-music"},domProps:{checked:Array.isArray(t.enableUnblockNeteaseMusic)?t._i(t.enableUnblockNeteaseMusic,null)>-1:t.enableUnblockNeteaseMusic},on:{change:function(e){var i=t.enableUnblockNeteaseMusic,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.enableUnblockNeteaseMusic=i.concat([a])):r>-1&&(t.enableUnblockNeteaseMusic=i.slice(0,r).concat(i.slice(r+1)))}else t.enableUnblockNeteaseMusic=s}}}),i("label",{attrs:{for:"enable-unblock-netease-music"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.audioSource.title"))+" ")]),t._m(1)]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmSource,expression:"unmSource"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"例 bilibili, kuwo"},domProps:{value:t.unmSource},on:{input:function(e){e.target.composing||(t.unmSource=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.enableFlac.title"))+" ")]),i("div",{staticClass:"description"},[t._v(" "+t._s(t.$t("settings.unm.enableFlac.desc"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmEnableFlac,expression:"unmEnableFlac"}],attrs:{id:"unm-enable-flac",type:"checkbox"},domProps:{checked:Array.isArray(t.unmEnableFlac)?t._i(t.unmEnableFlac,null)>-1:t.unmEnableFlac},on:{change:function(e){var i=t.unmEnableFlac,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.unmEnableFlac=i.concat([a])):r>-1&&(t.unmEnableFlac=i.slice(0,r).concat(i.slice(r+1)))}else t.unmEnableFlac=s}}}),i("label",{attrs:{for:"unm-enable-flac"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.searchMode.title"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.unmSearchMode,expression:"unmSearchMode"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unmSearchMode=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"fast-first"}},[t._v(" "+t._s(t.$t("settings.unm.searchMode.fast"))+" ")]),i("option",{attrs:{value:"order-first"}},[t._v(" "+t._s(t.$t("settings.unm.searchMode.order"))+" ")])])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.unm.cookie.joox")))]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#joox-cookie-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmJooxCookie,expression:"unmJooxCookie"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"wmid=..; session_key=.."},domProps:{value:t.unmJooxCookie},on:{input:function(e){e.target.composing||(t.unmJooxCookie=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.cookie.qq"))+" ")]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#qq-cookie-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmQQCookie,expression:"unmQQCookie"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"uin=..; qm_keyst=..;"},domProps:{value:t.unmQQCookie},on:{input:function(e){e.target.composing||(t.unmQQCookie=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.ytdl"))+" ")]),i("div",{staticClass:"description"},[i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/tree/main/engines#ytdlexe-設定說明",target:"_blank"}},[t._v(t._s(t.$t("settings.unm.cookie.desc1"))+" ")]),t._v(" "+t._s(t.$t("settings.unm.cookie.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmYtDlExe,expression:"unmYtDlExe"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"ex. youtube-dl"},domProps:{value:t.unmYtDlExe},on:{input:function(e){e.target.composing||(t.unmYtDlExe=e.target.value)}}})])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.unm.proxy.title"))+" ")]),i("div",{staticClass:"description"},[t._v(" "+t._s(t.$t("settings.unm.proxy.desc1"))),i("br"),t._v(" "+t._s(t.$t("settings.unm.proxy.desc2"))+" ")])]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unmProxyUri,expression:"unmProxyUri"}],staticClass:"text-input margin-right-0",attrs:{placeholder:"ex. https://192.168.11.45"},domProps:{value:t.unmProxyUri},on:{input:function(e){e.target.composing||(t.unmProxyUri=e.target.value)}}})])])]):t._e(),i("h3",[t._v("第三方")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.isLastfmConnected?"已连接到 Last.fm ("+t.lastfm.name+")":"连接 Last.fm "))])]),i("div",{staticClass:"right"},[t.isLastfmConnected?i("button",{on:{click:function(e){return t.lastfmDisconnect()}}},[t._v("断开连接 ")]):i("button",{on:{click:function(e){return t.lastfmConnect()}}},[t._v(" 授权连接 ")])])]),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableDiscordRichPresence")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableDiscordRichPresence,expression:"enableDiscordRichPresence"}],attrs:{id:"enable-discord-rich-presence",type:"checkbox",name:"enable-discord-rich-presence"},domProps:{checked:Array.isArray(t.enableDiscordRichPresence)?t._i(t.enableDiscordRichPresence,null)>-1:t.enableDiscordRichPresence},on:{change:function(e){var i=t.enableDiscordRichPresence,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.enableDiscordRichPresence=i.concat([a])):r>-1&&(t.enableDiscordRichPresence=i.slice(0,r).concat(i.slice(r+1)))}else t.enableDiscordRichPresence=s}}}),i("label",{attrs:{for:"enable-discord-rich-presence"}})])])]):t._e(),i("h3",[t._v("其他")]),t.isElectron&&!t.isMac?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.closeAppOption.text"))+" ")])]),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.closeAppOption,expression:"closeAppOption"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.closeAppOption=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"ask"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.ask"))+" ")]),i("option",{attrs:{value:"exit"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.exit"))+" ")]),i("option",{attrs:{value:"minimizeToTray"}},[t._v(" "+t._s(t.$t("settings.closeAppOption.minimizeToTray"))+" ")])])])]):t._e(),t.isElectron&&t.isLinux?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableCustomTitlebar"))+" ")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableCustomTitlebar,expression:"enableCustomTitlebar"}],attrs:{id:"enable-custom-titlebar",type:"checkbox",name:"enable-custom-titlebar"},domProps:{checked:Array.isArray(t.enableCustomTitlebar)?t._i(t.enableCustomTitlebar,null)>-1:t.enableCustomTitlebar},on:{change:function(e){var i=t.enableCustomTitlebar,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.enableCustomTitlebar=i.concat([a])):r>-1&&(t.enableCustomTitlebar=i.slice(0,r).concat(i.slice(r+1)))}else t.enableCustomTitlebar=s}}}),i("label",{attrs:{for:"enable-custom-titlebar"}})])])]):t._e(),t.isElectron?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showLibraryDefault")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showLibraryDefault,expression:"showLibraryDefault"}],attrs:{id:"show-library-default",type:"checkbox",name:"show-library-default"},domProps:{checked:Array.isArray(t.showLibraryDefault)?t._i(t.showLibraryDefault,null)>-1:t.showLibraryDefault},on:{change:function(e){var i=t.showLibraryDefault,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.showLibraryDefault=i.concat([a])):r>-1&&(t.showLibraryDefault=i.slice(0,r).concat(i.slice(r+1)))}else t.showLibraryDefault=s}}}),i("label",{attrs:{for:"show-library-default"}})])])]):t._e(),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.showPlaylistsByAppleMusic")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.showPlaylistsByAppleMusic,expression:"showPlaylistsByAppleMusic"}],attrs:{id:"show-playlists-by-apple-music",type:"checkbox",name:"show-playlists-by-apple-music"},domProps:{checked:Array.isArray(t.showPlaylistsByAppleMusic)?t._i(t.showPlaylistsByAppleMusic,null)>-1:t.showPlaylistsByAppleMusic},on:{change:function(e){var i=t.showPlaylistsByAppleMusic,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.showPlaylistsByAppleMusic=i.concat([a])):r>-1&&(t.showPlaylistsByAppleMusic=i.slice(0,r).concat(i.slice(r+1)))}else t.showPlaylistsByAppleMusic=s}}}),i("label",{attrs:{for:"show-playlists-by-apple-music"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.subTitleDefault")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.subTitleDefault,expression:"subTitleDefault"}],attrs:{id:"sub-title-default",type:"checkbox",name:"sub-title-default"},domProps:{checked:Array.isArray(t.subTitleDefault)?t._i(t.subTitleDefault,null)>-1:t.subTitleDefault},on:{change:function(e){var i=t.subTitleDefault,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.subTitleDefault=i.concat([a])):r>-1&&(t.subTitleDefault=i.slice(0,r).concat(i.slice(r+1)))}else t.subTitleDefault=s}}}),i("label",{attrs:{for:"sub-title-default"}})])])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("settings.enableReversedMode")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableReversedMode,expression:"enableReversedMode"}],attrs:{id:"enable-reversed-mode",type:"checkbox",name:"enable-reversed-mode"},domProps:{checked:Array.isArray(t.enableReversedMode)?t._i(t.enableReversedMode,null)>-1:t.enableReversedMode},on:{change:function(e){var i=t.enableReversedMode,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.enableReversedMode=i.concat([a])):r>-1&&(t.enableReversedMode=i.slice(0,r).concat(i.slice(r+1)))}else t.enableReversedMode=s}}}),i("label",{attrs:{for:"enable-reversed-mode"}})])])]),i("div",{staticClass:"item"},[t._m(2),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nyancatStyle,expression:"nyancatStyle"}],attrs:{id:"nyancat-style",type:"checkbox",name:"nyancat-style"},domProps:{checked:Array.isArray(t.nyancatStyle)?t._i(t.nyancatStyle,null)>-1:t.nyancatStyle},on:{change:function(e){var i=t.nyancatStyle,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.nyancatStyle=i.concat([a])):r>-1&&(t.nyancatStyle=i.slice(0,r).concat(i.slice(r+1)))}else t.nyancatStyle=s}}}),i("label",{attrs:{for:"nyancat-style"}})])])]),t.isElectron?i("div",[i("h3",[t._v("代理")]),i("div",{staticClass:"item"},[t._m(3),i("div",{staticClass:"right"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.proxyProtocol,expression:"proxyProtocol"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.proxyProtocol=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"noProxy"}},[t._v(" 关闭代理 ")]),i("option",{attrs:{value:"HTTP"}},[t._v(" HTTP 代理 ")]),i("option",{attrs:{value:"HTTPS"}},[t._v(" HTTPS 代理 ")])])])]),i("div",{class:{disabled:"noProxy"===t.proxyProtocol},attrs:{id:"proxy-form"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.proxyServer,expression:"proxyServer"}],staticClass:"text-input",attrs:{placeholder:"服务器地址",disabled:"noProxy"===t.proxyProtocol},domProps:{value:t.proxyServer},on:{input:function(e){e.target.composing||(t.proxyServer=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.proxyPort,expression:"proxyPort"}],staticClass:"text-input",attrs:{placeholder:"端口",type:"number",min:"1",max:"65535",disabled:"noProxy"===t.proxyProtocol},domProps:{value:t.proxyPort},on:{input:function(e){e.target.composing||(t.proxyPort=e.target.value)}}}),i("button",{on:{click:t.sendProxyConfig}},[t._v("更新代理")])])]):t._e(),t.isElectron?i("div",[i("h3",[t._v("快捷键")]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("settings.enableGlobalShortcut")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"toggle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.enableGlobalShortcut,expression:"enableGlobalShortcut"}],attrs:{id:"enable-enable-global-shortcut",type:"checkbox",name:"enable-enable-global-shortcut"},domProps:{checked:Array.isArray(t.enableGlobalShortcut)?t._i(t.enableGlobalShortcut,null)>-1:t.enableGlobalShortcut},on:{change:function(e){var i=t.enableGlobalShortcut,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.enableGlobalShortcut=i.concat([a])):r>-1&&(t.enableGlobalShortcut=i.slice(0,r).concat(i.slice(r+1)))}else t.enableGlobalShortcut=s}}}),i("label",{attrs:{for:"enable-enable-global-shortcut"}})])])]),i("div",{class:{"global-disabled":!t.enableGlobalShortcut},attrs:{id:"shortcut-table",tabindex:"0"},on:{keydown:t.handleShortcutKeydown}},[t._m(4),t._l(t.settings.shortcuts,(function(e){return i("div",{key:e.id,staticClass:"row"},[i("div",{staticClass:"col"},[t._v(t._s(e.name))]),i("div",{staticClass:"col"},[i("div",{staticClass:"keyboard-input",class:{active:t.shortcutInput.id===e.id&&"shortcut"===t.shortcutInput.type},on:{click:function(i){return i.stopPropagation(),t.readyToRecordShortcut(e.id,"shortcut")}}},[t._v(" "+t._s(t.shortcutInput.id===e.id&&"shortcut"===t.shortcutInput.type&&""!==t.recordedShortcutComputed?t.formatShortcut(t.recordedShortcutComputed):t.formatShortcut(e.shortcut))+" ")])]),i("div",{staticClass:"col"},[i("div",{staticClass:"keyboard-input",class:{active:t.shortcutInput.id===e.id&&"globalShortcut"===t.shortcutInput.type&&t.enableGlobalShortcut},on:{click:function(i){return i.stopPropagation(),t.readyToRecordShortcut(e.id,"globalShortcut")}}},[t._v(t._s(t.shortcutInput.id===e.id&&"globalShortcut"===t.shortcutInput.type&&""!==t.recordedShortcutComputed?t.formatShortcut(t.recordedShortcutComputed):t.formatShortcut(e.globalShortcut)))])])])})),i("button",{staticClass:"restore-default-shortcut",on:{click:t.restoreDefaultShortcuts}},[t._v("恢复默认快捷键")])],2)]):t._e(),i("div",{staticClass:"footer"},[t._m(5),i("p",{staticClass:"version"},[t._v("v"+t._s(t.version))]),t.isElectron?t._e():i("a",{attrs:{href:"https://vercel.com/?utm_source=ohmusic&utm_campaign=oss"}},[i("img",{attrs:{height:"36",src:"https://www.datocms-assets.com/31049/1618983297-powered-by-vercel.svg"}})])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" 音乐语种偏好 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"description"},[t._v(" 音源的具体代号 "),i("a",{attrs:{href:"https://github.com/UnblockNeteaseMusic/server-rust/blob/main/README.md#支援的所有引擎",target:"_blank"}},[t._v(" 可以点此到 UNM 的说明页面查询。 ")]),i("br"),t._v(" 多个音源请用 "),i("code",[t._v(",")]),t._v(" 逗号分隔。"),i("br"),t._v(" 留空则使用 UNM 内置的默认值。 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title",staticStyle:{transform:"scaleX(-1)"}},[t._v("🐈️ 🏳️‍🌈")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" 代理协议 ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row row-head"},[i("div",{staticClass:"col"},[t._v("功能")]),i("div",{staticClass:"col"},[t._v("快捷键")]),i("div",{staticClass:"col"},[t._v("全局快捷键")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"author"},[t._v("MADE BY "),i("a",{attrs:{href:"http://github.com/qier222",target:"_blank"}},[t._v("QIER222")])])}],a=i("dae2"),r=a["a"],o=(i("eeec"),i("2877")),l=Object(o["a"])(r,n,s,!1,null,"13c8e6c5",null);e["default"]=l.exports},"8a32":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.usernameLogin")))]),i("div",{staticClass:"section"},[i("div",{staticClass:"search-box"},[i("div",{staticClass:"container"},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:t.$t("login.searchHolder")},domProps:{value:t.keyword},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.throttleSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}})])],1)])]),i("div",{staticClass:"sestion"},[i("div",{directives:[{name:"show",rawName:"v-show",value:void 0===t.activeUser.nickname,expression:"activeUser.nickname === undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.enterTip"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],staticClass:"name"},[t._v(" "+t._s(t.$t("login.choose"))+" ")]),i("div",{staticClass:"user-list"},t._l(t.result,(function(e){return i("div",{key:e.id,staticClass:"user",class:{active:e.nickname===t.activeUser.nickname},on:{click:function(i){t.activeUser=e}}},[i("img",{staticClass:"head",attrs:{src:t._f("resizeImage")(e.avatarUrl),loading:"lazy"}}),i("div",{staticClass:"nickname"},[t._v(" "+t._s(e.nickname)+" ")])])})),0)]),i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.activeUser.nickname,expression:"activeUser.nickname !== undefined"}],nativeOn:{click:function(e){return t.confirm.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("login.confirm"))+" ")])],1)])},s=[],a=i("f3f3"),r=(i("ac1f"),i("841c"),i("2f62")),o=i("323e"),l=i.n(o),c=i("dad3"),u=i("c24f"),d=i("cf45"),h=i("5e45"),p={name:"LoginUsername",components:{ButtonTwoTone:h["a"]},data:function(){return{keyword:"",result:[],activeUser:{}}},created:function(){l.a.done()},methods:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["updateData"])),{},{search:function(){var t=this;this.keyword&&Object(c["c"])({keywords:this.keyword,limit:9,type:1002}).then((function(e){t.result=e.result.userprofiles,t.activeUser=t.result[0]}))},confirm:function(){var t=this;this.updateData({key:"user",value:this.activeUser}),this.updateData({key:"loginMode",value:"username"}),Object(u["k"])({uid:this.activeUser.userId,limit:1}).then((function(e){t.updateData({key:"likedSongPlaylistID",value:e.playlist[0].id}),t.$router.push({path:"/library"})}))},throttleSearch:Object(d["i"])((function(){this.search()}),500)})},f=p,m=(i("35aa"),i("2877")),g=Object(m["a"])(f,n,s,!1,null,"1432965f",null);e["default"]=g.exports},"8ac5":function(t,e,i){},"8b00":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"playlist"},[void 0!==t.specialPlaylistInfo||t.isLikeSongsPage?t._e():i("div",{staticClass:"playlist-info"},[i("Cover",{attrs:{id:t.playlist.id,"image-url":t._f("resizeImage")(t.playlist.coverImgUrl,1024),"show-play-button":!0,"always-show-shadow":!0,"click-cover-to-play":!0,"fixed-size":288,type:"playlist","cover-hover":!1,"play-button-size":18},nativeOn:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title",on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[10===t.playlist.privacy?i("span",{staticClass:"lock-icon"},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1):t._e(),t._v(t._s(t.playlist.name))]),i("div",{staticClass:"artist"},[t._v(" Playlist by "),[5277771961,5277965913,5277969451,5277778542,5278068783].includes(t.playlist.id)?i("span",{staticStyle:{"font-weight":"600"}},[t._v("Apple Music")]):i("a",{attrs:{href:"https://music.163.com/#/user/home?id="+t.playlist.creator.userId,target:"blank"}},[t._v(t._s(t.playlist.creator.nickname))])]),i("div",{staticClass:"date-and-count"},[t._v(" "+t._s(t.$t("playlist.updatedAt"))+" "+t._s(t._f("formatDate")(t.playlist.updateTime))+" · "+t._s(t.playlist.trackCount)+" "+t._s(t.$t("common.songs"))+" ")]),i("div",{staticClass:"description",on:{click:t.toggleFullDescription}},[t._v(" "+t._s(t.playlist.description)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{attrs:{"icon-class":"play"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?i("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]),t.displaySearchInPlaylist?i("div",{staticClass:"search-box"},[i("div",{staticClass:"container",class:{active:t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}})])],1)]):t._e()],1),void 0!==t.specialPlaylistInfo?i("div",{staticClass:"special-playlist"},[i("div",{staticClass:"title",class:t.specialPlaylistInfo.gradient,on:{contextmenu:function(e){return t.openMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.specialPlaylistInfo.name)+" ")]),i("div",{staticClass:"subtitle"},[t._v(t._s(t.playlist.englishTitle)+" · "+t._s(t.playlist.updateFrequency)+" ")]),i("div",{staticClass:"buttons"},[i("ButtonTwoTone",{staticClass:"play-button",attrs:{"icon-class":"play",color:"grey"},nativeOn:{click:function(e){return t.playPlaylistByID()}}},[t._v(" "+t._s(t.$t("common.play"))+" ")]),t.playlist.creator.userId!==t.data.user.userId?i("ButtonTwoTone",{attrs:{"icon-class":t.playlist.subscribed?"heart-solid":"heart","icon-button":!0,"horizontal-padding":0,color:t.playlist.subscribed?"blue":"grey","text-color":t.playlist.subscribed?"#335eea":"","background-color":t.playlist.subscribed?"var(--color-secondary-bg)":""},nativeOn:{click:function(e){return t.likePlaylist.apply(null,arguments)}}}):t._e(),i("ButtonTwoTone",{attrs:{"icon-class":"more","icon-button":!0,"horizontal-padding":0,color:"grey"},nativeOn:{click:function(e){return t.openMenu.apply(null,arguments)}}})],1)]):t._e(),t.isLikeSongsPage?i("div",{staticClass:"user-info"},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(" "+t._s(t.data.user.nickname)+t._s(t.$t("library.sLikedSongs"))+" ")]),i("div",{staticClass:"search-box-likepage",on:{click:function(e){return t.searchInPlaylist()}}},[i("div",{staticClass:"container",class:{active:t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"search"}}),i("div",{staticClass:"input",style:{width:t.searchInputWidth}},[t.displaySearchInPlaylist?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputSearchKeyWords,expression:"inputSearchKeyWords",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:t.inputFocus?"":t.$t("playlist.search")},domProps:{value:t.inputSearchKeyWords},on:{input:[function(e){e.target.composing||(t.inputSearchKeyWords=e.target.value.trim())},function(e){return t.inputDebounce()}],focus:function(e){t.inputFocus=!0},blur:[function(e){t.inputFocus=!1},function(e){return t.$forceUpdate()}]}}):t._e()])],1)])]):t._e(),i("TrackList",{attrs:{id:t.playlist.id,tracks:t.filteredTracks,type:"playlist","extra-context-menu-item":t.isUserOwnPlaylist?["removeTrackFromPlaylist"]:[]}}),i("div",{staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.loadMore(100)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1),i("Modal",{attrs:{show:t.showFullDescription,close:t.toggleFullDescription,"show-footer":!1,"click-outside-hide":!0,title:"歌单介绍"}},[t._v(t._s(t.playlist.description))]),i("ContextMenu",{ref:"playlistMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.likePlaylist(!0)}}},[t._v(t._s(t.playlist.subscribed?t.$t("contextMenu.removeFromLibrary"):t.$t("contextMenu.saveToLibrary")))]),i("div",{staticClass:"item",on:{click:function(e){return t.searchInPlaylist()}}},[t._v(t._s(t.$t("contextMenu.searchInPlaylist")))]),t.playlist.creator.userId===t.data.user.userId?i("div",{staticClass:"item",on:{click:t.editPlaylist}},[t._v("编辑歌单信息")]):t._e(),t.playlist.creator.userId===t.data.user.userId?i("div",{staticClass:"item",on:{click:t.deletePlaylist}},[t._v("删除歌单")]):t._e()])],1)},s=[],a=i("d0ff"),r=i("f3f3"),o=(i("b0c0"),i("4de4"),i("d3b7"),i("caad"),i("2532"),i("7db0"),i("d81d"),i("a15b"),i("2f62")),l=i("323e"),c=i.n(l),u=i("1e9a"),d=i("fefb"),h=i("5f87"),p=i("7381"),f=i("fe07"),m=i("5e45"),g=i("6825"),v=i("a1a1"),y=i("3020"),b=i("714b"),w={2829816518:{name:"欧美私人订制",gradient:"gradient-pink-purple-blue"},2890490211:{name:"助眠鸟鸣声",gradient:"gradient-green"},5089855855:{name:"夜的胡思乱想",gradient:"gradient-moonstone-blue"},2888212971:{name:"全球百大DJ",gradient:"gradient-orange-red"},2829733864:{name:"睡眠伴侣",gradient:"gradient-midnight-blue"},2829844572:{name:"洗澡时听的歌",gradient:"gradient-yellow"},2920647537:{name:"还是会想你",gradient:"gradient-dark-blue-midnight-blue"},2890501416:{name:"助眠白噪声",gradient:"gradient-sky-blue"},5217150082:{name:"摇滚唱片行",gradient:"gradient-yellow-red"},2829961453:{name:"古风音乐大赏",gradient:"gradient-fog"},4923261701:{name:"Trance",gradient:"gradient-light-red-light-blue "},5212729721:{name:"欧美点唱机",gradient:"gradient-indigo-pink-yellow"},3103434282:{name:"甜蜜少女心",gradient:"gradient-pink"},2829896389:{name:"日系私人订制",gradient:"gradient-yellow-pink"},2829779628:{name:"运动随身听",gradient:"gradient-orange-red"},2860654884:{name:"独立女声精选",gradient:"gradient-sharp-blue"},898150:{name:"浪漫婚礼专用",gradient:"gradient-pink"},2638104052:{name:"牛奶泡泡浴",gradient:"gradient-fog"},5317236517:{name:"后朋克精选",gradient:"gradient-pink-purple-blue"},2821115454:{name:"一周原创发现",gradient:"gradient-blue-purple"},2829883282:{name:"华语私人雷达",gradient:"gradient-yellow-red"},3136952023:{name:"私人雷达",gradient:"gradient-radar"}},_={name:"Playlist",components:{Cover:y["a"],ButtonTwoTone:m["a"],TrackList:v["a"],Modal:b["a"],ContextMenu:g["a"]},directives:{focus:{inserted:function(t){t.focus()}}},data:function(){return{show:!1,playlist:{id:0,coverImgUrl:"",creator:{userId:""},trackIds:[]},showFullDescription:!1,tracks:[],loadingMore:!1,hasMore:!1,lastLoadedTrackIndex:9,displaySearchInPlaylist:!1,searchKeyWords:"",inputSearchKeyWords:"",inputFocus:!1,debounceTimeout:null,searchInputWidth:"0px"}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["player","data"])),{},{isLikeSongsPage:function(){return"likedSongs"===this.$route.name},specialPlaylistInfo:function(){return w[this.playlist.id]},isUserOwnPlaylist:function(){return this.playlist.creator.userId===this.data.user.userId&&this.playlist.id!==this.data.likedSongPlaylistID},filteredTracks:function(){var t=this;return this.tracks.filter((function(e){return e.name&&e.name.toLowerCase().includes(t.searchKeyWords.toLowerCase())||e.al.name&&e.al.name.toLowerCase().includes(t.searchKeyWords.toLowerCase())||e.ar.find((function(e){return e.name&&e.name.toLowerCase().includes(t.searchKeyWords.toLowerCase())}))}))}}),created:function(){var t=this;"likedSongs"===this.$route.name?this.loadData(this.data.likedSongPlaylistID):this.loadData(this.$route.params.id),setTimeout((function(){t.show||c.a.start()}),1e3)},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["c"])(["appendTrackToPlayerList"])),Object(o["b"])(["playFirstTrackOnList","playTrackOnListByID","showToast"])),{},{playPlaylistByID:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.playlist.trackIds.map((function(t){return t.id}));this.$store.state.player.replacePlaylist(e,this.playlist.id,"playlist",t)},likePlaylist:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(h["c"])()?Object(u["j"])({id:this.playlist.id,t:this.playlist.subscribed?2:1}).then((function(i){200===i.code&&(t.playlist.subscribed=!t.playlist.subscribed,!0===e&&t.showToast(t.playlist.subscribed?"已保存到音乐库":"已从音乐库删除")),Object(u["f"])(t.id,!0).then((function(e){t.playlist=e.playlist}))})):this.showToast(f["a"].t("toast.needToLogin"))},loadData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.id=t,Object(u["f"])(this.id,!0).then((function(t){return e.playlist=t.playlist,e.tracks=t.playlist.tracks,c.a.done(),void 0!==i&&i(),e.show=!0,e.lastLoadedTrackIndex=t.playlist.tracks.length-1,t})).then((function(){e.playlist.trackCount>e.tracks.length&&(e.loadingMore=!0,e.loadMore())}))},loadMore:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=this.playlist.trackIds.filter((function(i,n){if(n>t.lastLoadedTrackIndex&&n<=t.lastLoadedTrackIndex+e)return i}));i=i.map((function(t){return t.id})),Object(d["c"])(i.join(",")).then((function(e){var n;(n=t.tracks).push.apply(n,Object(a["a"])(e.songs)),t.lastLoadedTrackIndex+=i.length,t.loadingMore=!1,t.lastLoadedTrackIndex+1===t.playlist.trackIds.length?t.hasMore=!1:t.hasMore=!0}))},openMenu:function(t){this.$refs.playlistMenu.openMenu(t)},deletePlaylist:function(){var t=this;if(Object(h["c"])()){var e=confirm("确定要删除歌单 ".concat(this.playlist.name,"？"));!0===e&&Object(u["e"])(this.playlist.id).then((function(e){200===e.code?(Object(p["a"])("已删除歌单 ".concat(t.playlist.name)),t.$router.go(-1)):Object(p["a"])("发生错误")}))}else this.showToast(f["a"].t("toast.needToLogin"))},editPlaylist:function(){Object(p["a"])("此功能开发中")},searchInPlaylist:function(){this.displaySearchInPlaylist=!this.displaySearchInPlaylist||this.isLikeSongsPage,0==this.displaySearchInPlaylist?(this.searchKeyWords="",this.inputSearchKeyWords=""):(this.searchInputWidth="172px",this.loadMore(500))},removeTrack:function(t){Object(h["c"])()?this.tracks=this.tracks.filter((function(e){return e.id!==t})):this.showToast(f["a"].t("toast.needToLogin"))},inputDebounce:function(){var t=this;this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((function(){t.searchKeyWords=t.inputSearchKeyWords}),600)},toggleFullDescription:function(){this.showFullDescription=!this.showFullDescription,this.showFullDescription?this.$store.commit("enableScrolling",!1):this.$store.commit("enableScrolling",!0)}})},k=_,C=(i("13e8"),i("2877")),T=Object(C["a"])(k,n,s,!1,null,"c7aebaf2",null);e["default"]=T.exports},"8c32":function(t,e,i){},"8d23":function(t,e,i){const n=i("2732");function s(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}s.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},s.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const i=n.mod(e,this.genPoly),s=this.degree-i.length;if(s>0){const t=new Uint8Array(this.degree);return t.set(i,s),t}return i},t.exports=s},"8d9b":function(t,e,i){},"91d0":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"explore-page"},[i("h1",[t._v(t._s(t.$t("explore.explore")))]),i("div",{staticClass:"buttons"},[t._l(t.settings.enabledPlaylistCategories,(function(e){return i("div",{key:e,staticClass:"button",class:{active:e===t.activeCategory&&!t.showCatOptions},on:{click:function(i){return t.goToCategory(e)}}},[t._v(" "+t._s(e)+" ")])})),i("div",{staticClass:"button more",class:{active:t.showCatOptions},on:{click:function(e){t.showCatOptions=!t.showCatOptions}}},[i("svg-icon",{attrs:{"icon-class":"more"}})],1)],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCatOptions,expression:"showCatOptions"}],staticClass:"panel"},t._l(t.allBigCats,(function(e){return i("div",{key:e,staticClass:"big-cat"},[i("div",{staticClass:"name"},[t._v(t._s(e))]),i("div",{staticClass:"cats"},t._l(t.getCatsByBigCat(e),(function(e){return i("div",{key:e.name,staticClass:"cat",class:{active:t.settings.enabledPlaylistCategories.includes(e.name)},on:{click:function(i){return t.toggleCat(e.name)}}},[i("span",[t._v(t._s(e.name))])])})),0)])})),0),i("div",{staticClass:"playlists"},[i("CoverRow",{attrs:{type:"playlist",items:t.playlists,"sub-text":t.subText,"show-play-button":!0,"show-play-count":"排行榜"!==t.activeCategory,"image-size":"排行榜"!==t.activeCategory?512:1024}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1===["推荐歌单","排行榜"].includes(t.activeCategory),expression:"['推荐歌单', '排行榜'].includes(activeCategory) === false"}],staticClass:"load-more"},[i("ButtonTwoTone",{directives:[{name:"show",rawName:"v-show",value:t.showLoadMoreButton&&t.hasMore,expression:"showLoadMoreButton && hasMore"}],attrs:{color:"grey",loading:t.loadingMore},nativeOn:{click:function(e){return t.getPlaylist.apply(null,arguments)}}},[t._v(t._s(t.$t("explore.loadMore")))])],1)])},s=[],a=i("d0ff"),r=i("f3f3"),o=(i("4de4"),i("d3b7"),i("2f62")),l=i("323e"),c=i.n(l),u=i("1e9a"),d=i("d87d"),h=i("2826"),p=i("5e45"),f=i("2726"),m=i("0032"),g={name:"Explore",components:{CoverRow:f["a"],ButtonTwoTone:p["a"],SvgIcon:m["a"]},beforeRouteUpdate:function(t,e,i){this.showLoadMoreButton=!1,this.hasMore=!0,this.playlists=[],this.offset=1,this.activeCategory=t.query.category,this.getPlaylist(),i()},data:function(){return{show:!1,playlists:[],activeCategory:"全部",loadingMore:!1,showLoadMoreButton:!1,hasMore:!0,allBigCats:["语种","风格","场景","情感","主题"],showCatOptions:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["settings"])),{},{subText:function(){return"排行榜"===this.activeCategory?"updateFrequency":"推荐歌单"===this.activeCategory?"copywriter":"none"}}),activated:function(){this.loadData(),this.$parent.$refs.scrollbar.restorePosition()},methods:Object(r["a"])(Object(r["a"])({},Object(o["c"])(["togglePlaylistCategory"])),{},{loadData:function(){var t=this;setTimeout((function(){t.show||c.a.start()}),1e3),this.activeCategory=void 0===this.$route.query.category?"全部":this.$route.query.category,this.getPlaylist()},goToCategory:function(t){this.showCatOptions=!1,this.$router.push({name:"explore",query:{category:t}})},updatePlaylist:function(t){var e;(e=this.playlists).push.apply(e,Object(a["a"])(t)),this.loadingMore=!1,this.showLoadMoreButton=!0,c.a.done(),this.show=!0},getPlaylist:function(){return this.loadingMore=!0,"推荐歌单"===this.activeCategory?this.getRecommendPlayList():"精品歌单"===this.activeCategory?this.getHighQualityPlaylist():"排行榜"===this.activeCategory?this.getTopLists():this.getTopPlayList()},getRecommendPlayList:function(){var t=this;Object(h["b"])(100,!0).then((function(e){t.playlists=[],t.updatePlaylist(e)}))},getHighQualityPlaylist:function(){var t=this,e=this.playlists,i=0!==e.length?e[e.length-1].updateTime:0;Object(u["g"])({limit:50,before:i}).then((function(e){t.updatePlaylist(e.playlists),t.hasMore=e.more}))},getTopLists:function(){var t=this;Object(u["l"])().then((function(e){t.playlists=[],t.updatePlaylist(e.list)}))},getTopPlayList:function(){var t=this;Object(u["k"])({cat:this.activeCategory,offset:this.playlists.length}).then((function(e){t.updatePlaylist(e.playlists),t.hasMore=e.more}))},getCatsByBigCat:function(t){return d["b"].filter((function(e){return e.bigCat===t}))},toggleCat:function(t){this.togglePlaylistCategory(t)}})},v=g,y=(i("95f7"),i("2877")),b=Object(y["a"])(v,n,s,!1,null,"090d9e60",null);e["default"]=b.exports},"924f":function(t,e,i){const n=i("7bf0").getSymbolSize,s=7;e.getPositions=function(t){const e=n(t);return[[0,0],[e-s,0],[0,e-s]]}},9369:function(t,e,i){"use strict";i("78d2")},9582:function(t,e,i){const n=i("7bf0"),s=1335,a=21522,r=n.getBCHDigit(s);e.getEncodedBits=function(t,e){const i=t.bit<<3|e;let o=i<<10;while(n.getBCHDigit(o)-r>=0)o^=s<<n.getBCHDigit(o)-r;return(i<<10|o)^a}},"95f7":function(t,e,i){"use strict";i("c34b")},"98ec":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"next-tracks"},[i("h1",[t._v(t._s(t.$t("next.nowPlaying")))]),i("TrackList",{attrs:{tracks:[t.currentTrack],type:"playlist","dbclick-track-func":"none"}}),i("h1",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}]},[t._v("插队播放 "),i("button",{on:{click:function(e){return t.player.clearPlayNextList()}}},[t._v("清除队列")])]),i("TrackList",{directives:[{name:"show",rawName:"v-show",value:t.playNextList.length>0,expression:"playNextList.length > 0"}],attrs:{tracks:t.playNextTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID","item-key":"id+index","extra-context-menu-item":["removeTrackFromQueue"]}}),i("h1",[t._v(t._s(t.$t("next.nextUp")))]),i("TrackList",{attrs:{tracks:t.filteredTracks,type:"playlist","highlight-playing-track":!1,"dbclick-track-func":"playTrackOnListByID"}})],1)},s=[],a=i("d0ff"),r=i("f3f3"),o=(i("fb6a"),i("4de4"),i("d3b7"),i("caad"),i("2532"),i("d81d"),i("7db0"),i("a15b"),i("2f62")),l=i("fefb"),c=i("a1a1"),u={name:"Next",components:{TrackList:c["a"]},data:function(){return{tracks:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])(["player"])),{},{currentTrack:function(){return this.player.currentTrack},playerShuffle:function(){return this.player.shuffle},filteredTracks:function(){var t=this.player.list.slice(this.player.current+1,this.player.current+100);return this.tracks.filter((function(e){return t.includes(e.id)}))},playNextList:function(){return this.player.playNextList},playNextTracks:function(){var t=this;return this.playNextList.map((function(e){return t.tracks.find((function(t){return t.id===e}))}))}}),watch:{currentTrack:function(){this.loadTracks()},playerShuffle:function(){this.loadTracks()},playNextList:function(){this.loadTracks()}},activated:function(){this.loadTracks(),this.$parent.$refs.scrollbar.restorePosition()},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["playTrackOnListByID"])),{},{loadTracks:function(){var t=this,e=this.player.list.slice(this.player.current+1,this.player.current+100);e.push.apply(e,Object(a["a"])(this.playNextList));var i=this.tracks.map((function(t){return t.id}));e.length>0&&Object(l["c"])(e.join(",")).then((function(e){var n,s=e.songs.filter((function(t){return!i.includes(t.id)}));(n=t.tracks).push.apply(n,Object(a["a"])(s))}))}})},d=u,h=(i("f351"),i("2877")),p=Object(h["a"])(d,n,s,!1,null,"4ccd4a24",null);e["default"]=p.exports},"9a6a":function(t,e,i){"use strict";i("2fb2")},"9b4e":function(t,e,i){},"9d94":function(t,e,i){const n=i("bbf0"),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(t){this.mode=n.ALPHANUMERIC,this.data=t}a.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=45*s.indexOf(this.data[e]);i+=s.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(s.indexOf(this.data[e]),6)},t.exports=a},"9e41":function(t,e,i){},"9ecd":function(t,e,i){},a0b9:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"login-container"},[t._m(0),i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),i("div",{staticClass:"section-2"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"phone"===t.mode,expression:"mode === 'phone'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"phone"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"mobile"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.countryCode,expression:"countryCode"}],attrs:{id:"countryCode",placeholder:"phone"===t.inputFocus?"":t.$t("login.countryCode")},domProps:{value:t.countryCode},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.countryCode=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],attrs:{id:"phoneNumber",placeholder:"phone"===t.inputFocus?"":t.$t("login.phone")},domProps:{value:t.phoneNumber},on:{focus:function(e){t.inputFocus="phone"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"email"===t.mode,expression:"mode === 'email'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"email"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"mail"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"email"===t.inputFocus?"":t.$t("login.email")},domProps:{value:t.email},on:{focus:function(e){t.inputFocus="email"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.email=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"input-box"},[i("div",{staticClass:"container",class:{active:"password"===t.inputFocus}},[i("svg-icon",{attrs:{"icon-class":"lock"}}),i("div",{staticClass:"inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"password"===t.inputFocus?"":t.$t("login.password")},domProps:{value:t.password},on:{focus:function(e){t.inputFocus="password"},blur:function(e){t.inputFocus=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"==t.mode,expression:"mode == 'qrCode'"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.qrCodeSvg,expression:"qrCodeSvg"}],staticClass:"qr-code-container"},[i("img",{attrs:{src:t.qrCodeSvg,loading:"lazy"}})]),i("div",{staticClass:"qr-code-info"},[t._v(" "+t._s(t.qrCodeInformation)+" ")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"confirm"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!t.processing,expression:"!processing"}],on:{click:t.login}},[t._v(" "+t._s(t.$t("login.login"))+" ")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.processing,expression:"processing"}],staticClass:"loading",attrs:{disabled:""}},[i("span"),i("span"),i("span")])]),i("div",{staticClass:"other-login"},[i("a",{directives:[{name:"show",rawName:"v-show",value:"email"!==t.mode,expression:"mode !== 'email'"}],on:{click:function(e){return t.changeMode("email")}}},[t._v(t._s(t.$t("login.loginWithEmail")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"===t.mode,expression:"mode === 'qrCode'"}]},[t._v("|")]),i("a",{directives:[{name:"show",rawName:"v-show",value:"phone"!==t.mode,expression:"mode !== 'phone'"}],on:{click:function(e){return t.changeMode("phone")}}},[t._v(t._s(t.$t("login.loginWithPhone")))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}]},[t._v("|")]),i("a",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],on:{click:function(e){return t.changeMode("qrCode")}}},[t._v(" 二维码登录 ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"qrCode"!==t.mode,expression:"mode !== 'qrCode'"}],staticClass:"notice",domProps:{innerHTML:t._s(t.isElectron?t.$t("login.noticeElectron"):t.$t("login.notice"))}})])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/netease-music.png"}})])}],a=i("f3f3"),r=(i("caad"),i("ac1f"),i("00b4"),i("5319"),i("d3b7"),i("25f0"),i("5b81"),i("d055")),o=i.n(r),l=i("72fe"),c=i.n(l),u=i("323e"),d=i.n(u),h=i("2f62"),p=i("5f87"),f=i("7381"),m=i("3786"),g={name:"Login",data:function(){return{processing:!1,mode:"qrCode",countryCode:"+86",phoneNumber:"",email:"",password:"",smsCode:"",inputFocus:"",qrCodeKey:"",qrCodeSvg:"",qrCodeCheckInterval:null,qrCodeInformation:"打开网易云音乐APP扫码登录"}},computed:{isElectron:function(){return Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON}},created:function(){["phone","email","qrCode"].includes(this.$route.query.mode)&&(this.mode=this.$route.query.mode),this.getQrCodeKey()},beforeDestroy:function(){clearInterval(this.qrCodeCheckInterval)},methods:Object(a["a"])(Object(a["a"])({},Object(h["c"])(["updateData"])),{},{validatePhone:function(){return""!==this.countryCode&&""!==this.phone&&""!==this.password||(Object(f["a"])("国家区号或手机号不正确"),this.processing=!1,!1)},validateEmail:function(){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return!(""===this.email||""===this.password||!t.test(this.email))||(Object(f["a"])("邮箱不正确"),!1)},login:function(){var t=this;if("phone"===this.mode){if(this.processing=this.validatePhone(),!this.processing)return;Object(m["d"])({countrycode:this.countryCode.replace("+","").replace(/\s/g,""),phone:this.phoneNumber.replace(/\s/g,""),password:"fakePassword",md5_password:c()(this.password).toString()}).then(this.handleLoginResponse).catch((function(e){t.processing=!1,Object(f["a"])("发生错误，请检查你的账号密码是否正确\n".concat(e))}))}else{if(this.processing=this.validateEmail(),!this.processing)return;Object(m["c"])({email:this.email.replace(/\s/g,""),password:"fakePassword",md5_password:c()(this.password).toString()}).then(this.handleLoginResponse).catch((function(e){t.processing=!1,Object(f["a"])("发生错误，请检查你的账号密码是否正确\n".concat(e))}))}},handleLoginResponse:function(t){var e,i,n=this;t?200===t.code?(Object(p["e"])(t.cookie),this.updateData({key:"loginMode",value:"account"}),this.$store.dispatch("fetchUserProfile").then((function(){n.$store.dispatch("fetchLikedPlaylist").then((function(){n.$router.push({path:"/library"})}))}))):(this.processing=!1,Object(f["a"])(null!==(e=null!==(i=t.msg)&&void 0!==i?i:t.message)&&void 0!==e?e:"账号或密码错误，请检查")):this.processing=!1},getQrCodeKey:function(){var t=this;return Object(m["b"])().then((function(e){200===e.code&&(t.qrCodeKey=e.data.unikey,o.a.toString("https://music.163.com/login?codekey=".concat(t.qrCodeKey),{width:192,margin:0,color:{dark:"#335eea",light:"#00000000"},type:"svg"}).then((function(e){t.qrCodeSvg="data:image/svg+xml;utf8,".concat(encodeURIComponent(e))})).catch((function(t){console.error(t)})).finally((function(){d.a.done()}))),t.checkQrCodeLogin()}))},checkQrCodeLogin:function(){var t=this;this.qrCodeCheckInterval=setInterval((function(){""!==t.qrCodeKey&&Object(m["a"])(t.qrCodeKey).then((function(e){800===e.code?(t.getQrCodeKey(),t.qrCodeInformation="二维码已失效，请重新扫码"):802===e.code?t.qrCodeInformation="扫描成功，请在手机上确认登录":801===e.code?t.qrCodeInformation="打开网易云音乐APP扫码登录":803===e.code&&(clearInterval(t.qrCodeCheckInterval),t.qrCodeInformation="登录成功，请稍等...",e.code=200,e.cookie=e.cookie.replaceAll(" HTTPOnly",""),t.handleLoginResponse(e))}))}),1e3)},changeMode:function(t){this.mode=t,"qrCode"===t?this.checkQrCodeLogin():clearInterval(this.qrCodeCheckInterval)}})},v=g,y=(i("ded9"),i("2877")),b=Object(y["a"])(v,n,s,!1,null,"d600827a",null);e["default"]=b.exports},a1a1:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track-list"},[i("ContextMenu",{ref:"menu"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item-info"},[i("img",{attrs:{src:t._f("resizeImage")(t.rightClickedTrackComputed.al.picUrl,224),loading:"lazy"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.rightClickedTrackComputed.name))]),i("div",{staticClass:"subtitle"},[t._v(t._s(t.rightClickedTrackComputed.ar[0].name))])])]),i("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),i("div",{staticClass:"item",on:{click:t.play}},[t._v(t._s(t.$t("contextMenu.play")))]),i("div",{staticClass:"item",on:{click:t.addToQueue}},[t._v(t._s(t.$t("contextMenu.addToQueue")))]),t.extraContextMenuItem.includes("removeTrackFromQueue")?i("div",{staticClass:"item",on:{click:t.removeTrackFromQueue}},[t._v("从队列删除")]):t._e(),i("hr",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}]}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"!isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.saveToMyLikedSongs"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isRightClickedTrackLiked&&"cloudDisk"!==t.type,expression:"isRightClickedTrackLiked && type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.like}},[t._v(" "+t._s(t.$t("contextMenu.removeFromMyLikedSongs"))+" ")]),t.extraContextMenuItem.includes("removeTrackFromPlaylist")?i("div",{staticClass:"item",on:{click:t.removeTrackFromPlaylist}},[t._v("从歌单中删除")]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.addTrackToPlaylist}},[t._v(t._s(t.$t("contextMenu.addToPlaylist")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"!==t.type,expression:"type !== 'cloudDisk'"}],staticClass:"item",on:{click:t.copyLink}},[t._v(t._s(t.$t("contextMenu.copyUrl")))]),t.extraContextMenuItem.includes("removeTrackFromCloudDisk")?i("div",{staticClass:"item",on:{click:t.removeTrackFromCloudDisk}},[t._v("从云盘中删除")]):t._e()]),i("div",{style:t.listStyles},t._l(t.tracks,(function(e,n){return i("TrackListItem",{key:"id"===t.itemKey?e.id:""+e.id+n,attrs:{"track-prop":e,"track-no":n+1,"highlight-playing-track":t.highlightPlayingTrack},nativeOn:{dblclick:function(i){return t.playThisList(e.id||e.songId)},contextmenu:function(i){return t.openMenu(i,e,n)}}})})),1)],1)},s=[],a=i("f3f3"),r=(i("a9e3"),i("caad"),i("2532"),i("d81d"),i("b0c0"),i("99af"),i("4de4"),i("d3b7"),i("2f62")),o=i("1e9a"),l=i("c24f"),c=i("5f87"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track",class:t.trackClass,style:t.trackStyle,attrs:{title:t.showUnavailableSongInGreyStyle?t.track.reason:""},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.isAlbum?t._e():i("img",{class:{hover:t.focus},attrs:{src:t.imgUrl,loading:"lazy"},on:{click:t.goToAlbum}}),t.showOrderNumber?i("div",{staticClass:"no"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.focus&&t.playable&&!t.isPlaying,expression:"focus && playable && !isPlaying"}],on:{click:t.playTrack}},[i("svg-icon",{staticStyle:{height:"14px",width:"14px"},attrs:{"icon-class":"play"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:(!t.focus||!t.playable)&&!t.isPlaying,expression:"(!focus || !playable) && !isPlaying"}]},[t._v(t._s(t.trackNo))]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}]},[i("svg-icon",{staticStyle:{height:"16px",width:"16px"},attrs:{"icon-class":"volume"}})],1)]):t._e(),i("div",{staticClass:"title-and-artist"},[i("div",{staticClass:"container"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.track.name)+" "),t.isSubTitle?i("span",{staticClass:"sub-title",attrs:{title:t.subTitle}},[t._v(" ("+t._s(t.subTitle)+") ")]):t._e(),t.isAlbum?i("span",{staticClass:"featured"},[i("ArtistsInLine",{attrs:{artists:t.track.ar,exclude:t.$parent.albumObject.artist.name,prefix:"-"}})],1):t._e(),t.isAlbum&&1318912===t.track.mark?i("span",{staticClass:"explicit-symbol"},[i("ExplicitSymbol")],1):t._e()]),t.isAlbum?t._e():i("div",{staticClass:"artist"},[1318912===t.track.mark?i("span",{staticClass:"explicit-symbol before-artist"},[i("ExplicitSymbol",{attrs:{size:15}})],1):t._e(),i("ArtistsInLine",{attrs:{artists:t.artists}})],1)]),i("div")]),t.showAlbumName?i("div",{staticClass:"album"},[t.album&&t.album.id?i("router-link",{attrs:{to:"/album/"+t.album.id}},[t._v(t._s(t.album.name))]):t._e(),i("div")],1):t._e(),t.showLikeButton?i("div",{staticClass:"actions"},[i("button",{on:{click:t.likeThisSong}},[i("svg-icon",{style:{visibility:t.focus&&!t.isLiked?"visible":"hidden"},attrs:{"icon-class":"heart"}}),i("svg-icon",{directives:[{name:"show",rawName:"v-show",value:t.isLiked,expression:"isLiked"}],attrs:{"icon-class":"heart-solid"}})],1)]):t._e(),t.showTrackTime?i("div",{staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(t.track.dt))+" ")]):t._e(),t.track.playCount?i("div",{staticClass:"count"},[t._v(" "+t._s(t.track.playCount))]):t._e()])},d=[],h=i("186d"),p=i("0c94"),f=i("2ef0"),m={name:"TrackListItem",components:{ArtistsInLine:h["a"],ExplicitSymbol:p["a"]},props:{trackProp:Object,trackNo:Number,highlightPlayingTrack:{type:Boolean,default:!0}},data:function(){return{hover:!1,trackStyle:{}}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["settings"])),{},{track:function(){return"cloudDisk"===this.type?this.trackProp.simpleSong:this.trackProp},playable:function(){var t,e,i;return(null===(t=this.track)||void 0===t||null===(e=t.privilege)||void 0===e?void 0:e.pl)>0||(null===(i=this.track)||void 0===i?void 0:i.playable)},imgUrl:function(){var t,e,i,n,s,a,r=null!==(t=null!==(e=null===(i=this.track)||void 0===i||null===(n=i.al)||void 0===n?void 0:n.picUrl)&&void 0!==e?e:null===(s=this.track)||void 0===s||null===(a=s.album)||void 0===a?void 0:a.picUrl)&&void 0!==t?t:"https://p2.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg";return r+"?param=224y224"},artists:function(){var t=this.track,e=t.ar,i=t.artists;return Object(f["isNil"])(e)?Object(f["isNil"])(i)?[]:i:e},album:function(){var t,e;return this.track.album||this.track.al||(null===(t=this.track)||void 0===t||null===(e=t.simpleSong)||void 0===e?void 0:e.al)},subTitle:function(){var t,e,i,n,s=void 0;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]&&(s=this.track.tns[0]),this.$store.state.settings.subTitleDefault?(null===(i=this.track)||void 0===i||null===(n=i.alia)||void 0===n?void 0:n.length)>0?this.track.alia[0]:s:void 0===s?this.track.alia[0]:s},type:function(){return this.$parent.type},isAlbum:function(){return"album"===this.type},isSubTitle:function(){var t,e,i;return(null===(t=this.track)||void 0===t||null===(e=t.tns)||void 0===e?void 0:e.length)>0&&this.track.name!==this.track.tns[0]||(null===(i=this.track.alia)||void 0===i?void 0:i.length)>0},isPlaylist:function(){return"playlist"===this.type},isLiked:function(){var t;return this.$parent.liked.songs.includes(null===(t=this.track)||void 0===t?void 0:t.id)},isPlaying:function(){var t;return this.$store.state.player.currentTrack.id===(null===(t=this.track)||void 0===t?void 0:t.id)},trackClass:function(){var t=[this.type];return!this.playable&&this.showUnavailableSongInGreyStyle&&t.push("disable"),this.isPlaying&&this.highlightPlayingTrack&&t.push("playing"),this.focus&&t.push("focus"),t},isMenuOpened:function(){return this.$parent.rightClickedTrack.id===this.track.id},focus:function(){return this.hover&&0===this.$parent.rightClickedTrack.id||this.isMenuOpened},showUnavailableSongInGreyStyle:function(){return!Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON||!this.$store.state.settings.enableUnblockNeteaseMusic},showLikeButton:function(){return"tracklist"!==this.type&&"cloudDisk"!==this.type},showOrderNumber:function(){return"album"===this.type},showAlbumName:function(){return"album"!==this.type&&"tracklist"!==this.type},showTrackTime:function(){return"tracklist"!==this.type}}),methods:{goToAlbum:function(){0!==this.track.al.id&&this.$router.push({path:"/album/"+this.track.al.id})},playTrack:function(){this.$parent.playThisList(this.track.id)},likeThisSong:function(){this.$parent.likeATrack(this.track.id)}}},g=m,v=(i("ecee"),i("2877")),y=Object(v["a"])(g,u,d,!1,null,"b1a88222",null),b=y.exports,w=i("6825"),_=i("fe07"),k={name:"TrackList",components:{TrackListItem:b,ContextMenu:w["a"]},props:{tracks:{type:Array,default:function(){return[]}},type:{type:String,default:"tracklist"},id:{type:Number,default:0},dbclickTrackFunc:{type:String,default:"default"},albumObject:{type:Object,default:function(){return{artist:{name:""}}}},extraContextMenuItem:{type:Array,default:function(){return[]}},columnNumber:{type:Number,default:4},highlightPlayingTrack:{type:Boolean,default:!0},itemKey:{type:String,default:"id"}},data:function(){return{rightClickedTrack:{id:0,name:"",ar:[{name:""}],al:{picUrl:""}},rightClickedTrackIndex:-1,listStyles:{}}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["liked","player"])),{},{isRightClickedTrackLiked:function(){var t;return this.liked.songs.includes(null===(t=this.rightClickedTrack)||void 0===t?void 0:t.id)},rightClickedTrackComputed:function(){return"cloudDisk"===this.type?{id:0,name:"",ar:[{name:""}],al:{picUrl:""}}:this.rightClickedTrack}}),created:function(){"tracklist"===this.type&&(this.listStyles={display:"grid",gap:"4px",gridTemplateColumns:"repeat(".concat(this.columnNumber,", 1fr)")})},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["c"])(["updateModal"])),Object(r["b"])(["nextTrack","showToast","likeATrack"])),{},{openMenu:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.rightClickedTrack=e,this.rightClickedTrackIndex=i,this.$refs.menu.openMenu(t)},closeMenu:function(){this.rightClickedTrack={id:0,name:"",ar:[{name:""}],al:{picUrl:""}},this.rightClickedTrackIndex=-1},playThisList:function(t){if("default"===this.dbclickTrackFunc)this.playThisListDefault(t);else if("none"===this.dbclickTrackFunc);else if("playTrackOnListByID"===this.dbclickTrackFunc)this.player.playTrackOnListByID(t);else if("playPlaylistByID"===this.dbclickTrackFunc)this.player.playPlaylistByID(this.id,t);else if("playAList"===this.dbclickTrackFunc){var e=this.tracks.map((function(t){return t.id||t.songId}));this.player.replacePlaylist(e,this.id,"artist",t)}else if("dailyTracks"===this.dbclickTrackFunc){var i=this.tracks.map((function(t){return t.id}));this.player.replacePlaylist(i,"/daily/songs","url",t)}else if("playCloudDisk"===this.dbclickTrackFunc){var n=this.tracks.map((function(t){return t.id||t.songId}));this.player.replacePlaylist(n,this.id,"cloudDisk",t)}},playThisListDefault:function(t){if("playlist"===this.type)this.player.playPlaylistByID(this.id,t);else if("album"===this.type)this.player.playAlbumByID(this.id,t);else if("tracklist"===this.type){var e=this.tracks.map((function(t){return t.id}));this.player.replacePlaylist(e,this.id,"artist",t)}},play:function(){this.player.addTrackToPlayNext(this.rightClickedTrack.id,!0)},addToQueue:function(){this.player.addTrackToPlayNext(this.rightClickedTrack.id)},like:function(){this.likeATrack(this.rightClickedTrack.id)},addTrackToPlaylist:function(){Object(c["c"])()?(this.updateModal({modalName:"addTrackToPlaylistModal",key:"show",value:!0}),this.updateModal({modalName:"addTrackToPlaylistModal",key:"selectedTrackID",value:this.rightClickedTrack.id})):this.showToast(_["a"].t("toast.needToLogin"))},removeTrackFromPlaylist:function(){var t=this;if(Object(c["c"])()){if(confirm("确定要从歌单删除 ".concat(this.rightClickedTrack.name,"？"))){var e=this.rightClickedTrack.id;Object(o["a"])({op:"del",pid:this.id,tracks:e}).then((function(i){t.showToast(200===i.body.code?_["a"].t("toast.removedFromPlaylist"):i.body.message),t.$parent.removeTrack(e)}))}}else this.showToast(_["a"].t("toast.needToLogin"))},copyLink:function(){var t=this;this.$copyText("https://music.163.com/song?id=".concat(this.rightClickedTrack.id)).then((function(){t.showToast(_["a"].t("toast.copied"))})).catch((function(e){t.showToast("".concat(_["a"].t("toast.copyFailed")).concat(e))}))},removeTrackFromQueue:function(){this.$store.state.player.removeTrackFromQueue(this.rightClickedTrackIndex)},removeTrackFromCloudDisk:function(){var t=this;if(confirm("确定要从云盘删除 ".concat(this.rightClickedTrack.songName,"？"))){var e=this.rightClickedTrack.songId;Object(l["b"])(e).then((function(i){t.showToast(200===i.code?"已将此歌曲从云盘删除":i.message);var n=t.liked.cloudDisk.filter((function(t){return t.songId!==e}));t.$store.commit("updateLikedXXX",{name:"cloudDisk",data:n})}))}}})},C=k,T=Object(v["a"])(C,n,s,!1,null,"159a7425",null);e["a"]=T.exports},a39c:function(t,e,i){},aa63:function(t,e,i){const n=i("7bf0"),s=i("7a43"),a=i("7ba0"),r=i("577e4"),o=i("d6c0"),l=i("924f"),c=i("7903"),u=i("34fc"),d=i("8d23"),h=i("c8aa"),p=i("9582"),f=i("bbf0"),m=i("befa");function g(t,e){const i=t.size,n=l.getPositions(e);for(let s=0;s<n.length;s++){const e=n[s][0],a=n[s][1];for(let n=-1;n<=7;n++)if(!(e+n<=-1||i<=e+n))for(let s=-1;s<=7;s++)a+s<=-1||i<=a+s||(n>=0&&n<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===n||6===n)||n>=2&&n<=4&&s>=2&&s<=4?t.set(e+n,a+s,!0,!0):t.set(e+n,a+s,!1,!0))}}function v(t){const e=t.size;for(let i=8;i<e-8;i++){const e=i%2===0;t.set(i,6,e,!0),t.set(6,i,e,!0)}}function y(t,e){const i=o.getPositions(e);for(let n=0;n<i.length;n++){const e=i[n][0],s=i[n][1];for(let i=-2;i<=2;i++)for(let n=-2;n<=2;n++)-2===i||2===i||-2===n||2===n||0===i&&0===n?t.set(e+i,s+n,!0,!0):t.set(e+i,s+n,!1,!0)}}function b(t,e){const i=t.size,n=h.getEncodedBits(e);let s,a,r;for(let o=0;o<18;o++)s=Math.floor(o/3),a=o%3+i-8-3,r=1===(n>>o&1),t.set(s,a,r,!0),t.set(a,s,r,!0)}function w(t,e,i){const n=t.size,s=p.getEncodedBits(e,i);let a,r;for(a=0;a<15;a++)r=1===(s>>a&1),a<6?t.set(a,8,r,!0):a<8?t.set(a+1,8,r,!0):t.set(n-15+a,8,r,!0),a<8?t.set(8,n-a-1,r,!0):a<9?t.set(8,15-a-1+1,r,!0):t.set(8,15-a-1,r,!0);t.set(n-8,8,1,!0)}function _(t,e){const i=t.size;let n=-1,s=i-1,a=7,r=0;for(let o=i-1;o>0;o-=2){6===o&&o--;while(1){for(let i=0;i<2;i++)if(!t.isReserved(s,o-i)){let n=!1;r<e.length&&(n=1===(e[r]>>>a&1)),t.set(s,o-i,n),a--,-1===a&&(r++,a=7)}if(s+=n,s<0||i<=s){s-=n,n=-n;break}}}}function k(t,e,i){const s=new a;i.forEach((function(e){s.put(e.mode.bit,4),s.put(e.getLength(),f.getCharCountIndicator(e.mode,t)),e.write(s)}));const r=n.getSymbolTotalCodewords(t),o=u.getTotalCodewordsCount(t,e),l=8*(r-o);s.getLengthInBits()+4<=l&&s.put(0,4);while(s.getLengthInBits()%8!==0)s.putBit(0);const c=(l-s.getLengthInBits())/8;for(let n=0;n<c;n++)s.put(n%2?17:236,8);return C(s,t,e)}function C(t,e,i){const s=n.getSymbolTotalCodewords(e),a=u.getTotalCodewordsCount(e,i),r=s-a,o=u.getBlocksCount(e,i),l=s%o,c=o-l,h=Math.floor(s/o),p=Math.floor(r/o),f=p+1,m=h-p,g=new d(m);let v=0;const y=new Array(o),b=new Array(o);let w=0;const _=new Uint8Array(t.buffer);for(let n=0;n<o;n++){const t=n<c?p:f;y[n]=_.slice(v,v+t),b[n]=g.encode(y[n]),v+=t,w=Math.max(w,t)}const k=new Uint8Array(s);let C,T,A=0;for(C=0;C<w;C++)for(T=0;T<o;T++)C<y[T].length&&(k[A++]=y[T][C]);for(C=0;C<m;C++)for(T=0;T<o;T++)k[A++]=b[T][C];return k}function T(t,e,i,s){let a;if(Array.isArray(t))a=m.fromArray(t);else{if("string"!==typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=m.rawSplit(t);n=h.getBestVersionForData(e,i)}a=m.fromString(t,n||40)}}const o=h.getBestVersionForData(a,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<o)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+o+".\n")}else e=o;const l=k(e,i,a),u=n.getSymbolSize(e),d=new r(u);return g(d,e),v(d),y(d,e),w(d,i,0),e>=7&&b(d,e),_(d,l),isNaN(s)&&(s=c.getBestMask(d,w.bind(null,d,i))),c.applyMask(s,d),w(d,i,s),{modules:d,version:e,errorCorrectionLevel:i,maskPattern:s,segments:a}}e.create=function(t,e){if("undefined"===typeof t||""===t)throw new Error("No input text");let i,a,r=s.M;return"undefined"!==typeof e&&(r=s.from(e.errorCorrectionLevel,s.M),i=h.from(e.version),a=c.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),T(t,i,r,a)}},b398:function(t,e,i){"use strict";i("53b5")},bbf0:function(t,e,i){const n=i("27a3"),s=i("0425");function a(t){if("string"!==typeof t)throw new Error("Param is not a string");const i=t.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return s.testNumeric(t)?e.NUMERIC:s.testAlphanumeric(t)?e.ALPHANUMERIC:s.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,i){if(e.isValid(t))return t;try{return a(t)}catch(n){return i}}},bdb9:function(t,e,i){(function(e){const n=i("3e8f"),s=i("df7c"),a=s.join(e,"path.txt");function r(){let t;if(n.existsSync(a)&&(t=n.readFileSync(a,"utf-8")),Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).ELECTRON_OVERRIDE_DIST_PATH)return s.join(Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).ELECTRON_OVERRIDE_DIST_PATH,t||"electron");if(t)return s.join(e,"dist",t);throw new Error("Electron failed to install correctly, please delete node_modules/electron and try installing again")}t.exports=r()}).call(this,"/")},befa:function(t,e,i){const n=i("bbf0"),s=i("dd7e"),a=i("9d94"),r=i("0196"),o=i("2f3a"),l=i("0425"),c=i("7bf0"),u=i("10b0");function d(t){return unescape(encodeURIComponent(t)).length}function h(t,e,i){const n=[];let s;while(null!==(s=t.exec(i)))n.push({data:s[0],index:s.index,mode:e,length:s[0].length});return n}function p(t){const e=h(l.NUMERIC,n.NUMERIC,t),i=h(l.ALPHANUMERIC,n.ALPHANUMERIC,t);let s,a;c.isKanjiModeEnabled()?(s=h(l.BYTE,n.BYTE,t),a=h(l.KANJI,n.KANJI,t)):(s=h(l.BYTE_KANJI,n.BYTE,t),a=[]);const r=e.concat(i,s,a);return r.sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function f(t,e){switch(e){case n.NUMERIC:return s.getBitsLength(t);case n.ALPHANUMERIC:return a.getBitsLength(t);case n.KANJI:return o.getBitsLength(t);case n.BYTE:return r.getBitsLength(t)}}function m(t){return t.reduce((function(t,e){const i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}function g(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];switch(s.mode){case n.NUMERIC:e.push([s,{data:s.data,mode:n.ALPHANUMERIC,length:s.length},{data:s.data,mode:n.BYTE,length:s.length}]);break;case n.ALPHANUMERIC:e.push([s,{data:s.data,mode:n.BYTE,length:s.length}]);break;case n.KANJI:e.push([s,{data:s.data,mode:n.BYTE,length:d(s.data)}]);break;case n.BYTE:e.push([{data:s.data,mode:n.BYTE,length:d(s.data)}])}}return e}function v(t,e){const i={},s={start:{}};let a=["start"];for(let r=0;r<t.length;r++){const o=t[r],l=[];for(let t=0;t<o.length;t++){const c=o[t],u=""+r+t;l.push(u),i[u]={node:c,lastCount:0},s[u]={};for(let t=0;t<a.length;t++){const r=a[t];i[r]&&i[r].node.mode===c.mode?(s[r][u]=f(i[r].lastCount+c.length,c.mode)-f(i[r].lastCount,c.mode),i[r].lastCount+=c.length):(i[r]&&(i[r].lastCount=c.length),s[r][u]=f(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,e))}}a=l}for(let n=0;n<a.length;n++)s[a[n]].end=0;return{map:s,table:i}}function y(t,e){let i;const l=n.getBestModeForData(t);if(i=n.from(e,l),i!==n.BYTE&&i.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(l));switch(i!==n.KANJI||c.isKanjiModeEnabled()||(i=n.BYTE),i){case n.NUMERIC:return new s(t);case n.ALPHANUMERIC:return new a(t);case n.KANJI:return new o(t);case n.BYTE:return new r(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"===typeof e?t.push(y(e,null)):e.data&&t.push(y(e.data,e.mode)),t}),[])},e.fromString=function(t,i){const n=p(t,c.isKanjiModeEnabled()),s=g(n),a=v(s,i),r=u.find_path(a.map,"start","end"),o=[];for(let e=1;e<r.length-1;e++)o.push(a.table[r[e]].node);return e.fromArray(m(o))},e.rawSplit=function(t){return e.fromArray(p(t,c.isKanjiModeEnabled()))}},c34b:function(t,e,i){},c8aa:function(t,e,i){const n=i("7bf0"),s=i("34fc"),a=i("7a43"),r=i("bbf0"),o=i("27a3"),l=7973,c=n.getBCHDigit(l);function u(t,i,n){for(let s=1;s<=40;s++)if(i<=e.getCapacity(s,n,t))return s}function d(t,e){return r.getCharCountIndicator(t,e)+4}function h(t,e){let i=0;return t.forEach((function(t){const n=d(t.mode,e);i+=n+t.getBitsLength()})),i}function p(t,i){for(let n=1;n<=40;n++){const s=h(t,n);if(s<=e.getCapacity(n,i,r.MIXED))return n}}e.from=function(t,e){return o.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,i){if(!o.isValid(t))throw new Error("Invalid QR Code version");"undefined"===typeof i&&(i=r.BYTE);const a=n.getSymbolTotalCodewords(t),l=s.getTotalCodewordsCount(t,e),c=8*(a-l);if(i===r.MIXED)return c;const u=c-d(i,t);switch(i){case r.NUMERIC:return Math.floor(u/10*3);case r.ALPHANUMERIC:return Math.floor(u/11*2);case r.KANJI:return Math.floor(u/13);case r.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,e){let i;const n=a.from(e,a.M);if(Array.isArray(t)){if(t.length>1)return p(t,n);if(0===t.length)return 1;i=t[0]}else i=t;return u(i.mode,i.getLength(),n)},e.getEncodedBits=function(t){if(!o.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;while(n.getBCHDigit(e)-c>=0)e^=l<<n.getBCHDigit(e)-c;return t<<12|e}},ca58:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lastfm-callback"},[i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),i("svg-icon",{attrs:{"icon-class":"x"}}),i("img",{attrs:{src:"/img/logos/lastfm.png"}})],1),i("div",{staticClass:"message"},[t._v(t._s(t.message))]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],on:{click:t.close}},[t._v(" 完成 ")])])},s=[],a=(i("d3b7"),i("3ca3"),i("ddb0"),i("9861"),i("ac1f"),i("841c"),i("e9c4"),i("7b78")),r={name:"LastfmCallback",data:function(){return{message:"请稍等...",done:!1}},created:function(){var t=this,e=new URLSearchParams(window.location.search).get("token");if(!e)return this.message="连接失败，请重试或联系开发者（无Token）",void(this.done=!0);Object(a["b"])(e).then((function(e){if(!e.data.session)return t.message="连接失败，请重试或联系开发者（无Session）",void(t.done=!0);localStorage.setItem("lastfm",JSON.stringify(e.data.session)),t.$store.commit("updateLastfm",e.data.session),t.message="已成功连接到 Last.fm",t.done=!0}))},methods:{close:function(){window.close()}}},o=r,l=(i("1354"),i("2877")),c=Object(l["a"])(o,n,s,!1,null,"2925758b",null);e["default"]=c.exports},ce1e:function(t,e,i){},d055:function(t,e,i){const n=i("67dd"),s=i("aa63"),a=i("4146"),r=i("4006");function o(t,e,i,a,r){const o=[].slice.call(arguments,1),l=o.length,c="function"===typeof o[l-1];if(!c&&!n())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=e,e=a=void 0):2!==l||e.getContext||(a=i,i=e,e=void 0),new Promise((function(n,r){try{const r=s.create(i,a);n(t(r,e,a))}catch(o){r(o)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(r=i,i=e,e=a=void 0):3===l&&(e.getContext&&"undefined"===typeof r?(r=a,a=void 0):(r=a,a=i,i=e,e=void 0));try{const n=s.create(i,a);r(null,t(n,e,a))}catch(u){r(u)}}e.create=s.create,e.toCanvas=o.bind(null,a.render),e.toDataURL=o.bind(null,a.renderToDataURL),e.toString=o.bind(null,(function(t,e,i){return r.render(t,i)}))},d0ff:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("b680");function s(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=i("dde1");i("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||a(t)||Object(r["a"])(t)||o()}},d4e3:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv-row",class:{"without-padding":t.withoutPadding}},t._l(t.mvs,(function(e){return i("div",{key:t.getID(e),staticClass:"mv"},[i("div",{staticClass:"cover",on:{mouseover:function(i){t.hoverVideoID=t.getID(e)},mouseleave:function(e){t.hoverVideoID=0},click:function(i){t.goToMv(t.getID(e))}}},[i("img",{attrs:{src:t.getUrl(e),loading:"lazy"}}),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverVideoID===t.getID(e),expression:"hoverVideoID === getID(mv)"}],staticClass:"shadow",style:{background:"url("+t.getUrl(e)+")"}})])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[i("router-link",{attrs:{to:"/mv/"+t.getID(e)}},[t._v(t._s(t.getTitle(e)))])],1),i("div",{staticClass:"artist",domProps:{innerHTML:t._s(t.getSubtitle(e))}})])])})),0)},s=[],a=(i("ac1f"),i("5319"),i("b0c0"),i("99af"),{name:"CoverVideo",props:{mvs:Array,subtitle:{type:String,default:"artist"},withoutPadding:{type:Boolean,default:!1}},data:function(){return{hoverVideoID:0}},methods:{goToMv:function(t){var e={};void 0!==this.$parent.player&&(e={autoplay:this.$parent.player.playing}),this.$router.push({path:"/mv/"+t,query:e})},getUrl:function(t){var e,i,n=null!==(e=null!==(i=t.imgurl16v9)&&void 0!==i?i:t.cover)&&void 0!==e?e:t.coverUrl;return n.replace(/^http:/,"https:")+"?param=464y260"},getID:function(t){return void 0!==t.id?t.id:void 0!==t.vid?t.vid:void 0},getTitle:function(t){return void 0!==t.name?t.name:void 0!==t.title?t.title:void 0},getSubtitle:function(t){if("artist"===this.subtitle){var e="null",i=0;return void 0!==t.artistName?(e=t.artistName,i=t.artistId):void 0!==t.creator&&(e=t.creator[0].userName,i=t.creator[0].userId),'<a href="/#/artist/'.concat(i,'">').concat(e,"</a>")}if("publishTime"===this.subtitle)return t.publishTime}}}),r=a,o=(i("7d53"),i("2877")),l=Object(o["a"])(r,n,s,!1,null,"4d5c11f6",null);e["a"]=l.exports},d635:function(t,e,i){"use strict";i("6c84")},d6c0:function(t,e,i){const n=i("7bf0").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,i=n(t),s=145===i?26:2*Math.ceil((i-13)/(2*e-2)),a=[i-7];for(let n=1;n<e-1;n++)a[n]=a[n-1]-s;return a.push(6),a.reverse()},e.getPositions=function(t){const i=[],n=e.getRowColCoords(t),s=n.length;for(let e=0;e<s;e++)for(let t=0;t<s;t++)0===e&&0===t||0===e&&t===s-1||e===s-1&&0===t||i.push([n[e],n[t]]);return i}},d705:function(t,e,i){},dae2:function(t,e,i){"use strict";(function(t){var n=i("f3f3"),s=(i("ac1f"),i("00b4"),i("d81d"),i("5319"),i("caad"),i("4e82"),i("a15b"),i("7db0"),i("d3b7"),i("4de4"),i("5b81"),i("2f62")),a=i("5f87"),r=i("7b78"),o=i("cf45"),l=i("e31c"),c=i("9224"),u=!0===Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON?window.require("electron"):null,d=!0===Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON?u.ipcRenderer:null,h=["=","-","~","[","]",";","'",",",".","/"];e["a"]={name:"Settings",data:function(){return{tracksCache:{size:"0KB",length:0},allOutputDevices:[{deviceId:"default",label:"settings.permissionRequired"}],shortcutInput:{id:"",type:"",recording:!1},recordedShortcut:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(s["d"])(["player","settings","data","lastfm"])),{},{isElectron:function(){return Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON},isMac:function(){return/macintosh|mac os x/i.test(navigator.userAgent)},isLinux:function(){return"linux"===t.platform},version:function(){return c.version},showUserInfo:function(){return Object(a["d"])()&&this.data.user.nickname},recordedShortcutComputed:function(){var t=[];this.recordedShortcut.map((function(e){e.keyCode>=65&&e.keyCode<=90?t.push(e.code.replace("Key","")):"Meta"===e.key?t.push("Command"):["Alt","Control","Shift"].includes(e.key)?t.push(e.key):e.keyCode>=48&&e.keyCode<=57?t.push(e.code.replace("Digit","")):e.keyCode>=112&&e.keyCode<=123?t.push(e.code):["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)?t.push(e.code.replace("Arrow","")):h.includes(e.key)&&t.push(e.key)}));var e={Control:1,Shift:2,Alt:3,Command:4};return t=t.sort((function(t,i){return e[t]&&e[i]?e[t]-e[i]<=-1?-1:e[t]-e[i]>=1?1:0:0})),t=t.join("+"),t},lang:{get:function(){return this.settings.lang},set:function(t){this.$i18n.locale=t,this.$store.commit("changeLang",t)}},musicLanguage:{get:function(){var t;return null!==(t=this.settings.musicLanguage)&&void 0!==t?t:"all"},set:function(t){this.$store.commit("updateSettings",{key:"musicLanguage",value:t})}},appearance:{get:function(){return void 0===this.settings.appearance?"auto":this.settings.appearance},set:function(t){this.$store.commit("updateSettings",{key:"appearance",value:t}),Object(o["b"])(t)}},musicQuality:{get:function(){var t;return null!==(t=this.settings.musicQuality)&&void 0!==t?t:32e4},set:function(t){t!==this.settings.musicQuality&&(this.$store.commit("changeMusicQuality",t),this.clearCache())}},lyricFontSize:{get:function(){return void 0===this.settings.lyricFontSize?28:this.settings.lyricFontSize},set:function(t){this.$store.commit("changeLyricFontSize",t)}},outputDevice:{get:function(){var t=this,e=this.allOutputDevices.find((function(e){return e.deviceId===t.settings.outputDevice}));return void 0===this.settings.outputDevice||void 0===e?"default":this.settings.outputDevice},set:function(t){t!==this.settings.outputDevice&&void 0!==t&&(this.$store.commit("changeOutputDevice",t),this.player.setOutputDevice())}},enableUnblockNeteaseMusic:{get:function(){var t=this.settings.enableUnblockNeteaseMusic;return void 0===t||t},set:function(t){this.$store.commit("updateSettings",{key:"enableUnblockNeteaseMusic",value:t})}},showPlaylistsByAppleMusic:{get:function(){return void 0===this.settings.showPlaylistsByAppleMusic||this.settings.showPlaylistsByAppleMusic},set:function(t){this.$store.commit("updateSettings",{key:"showPlaylistsByAppleMusic",value:t})}},nyancatStyle:{get:function(){return void 0!==this.settings.nyancatStyle&&this.settings.nyancatStyle},set:function(t){this.$store.commit("updateSettings",{key:"nyancatStyle",value:t})}},automaticallyCacheSongs:{get:function(){return void 0!==this.settings.automaticallyCacheSongs&&this.settings.automaticallyCacheSongs},set:function(t){this.$store.commit("updateSettings",{key:"automaticallyCacheSongs",value:t}),!1===t&&this.clearCache()}},showLyricsTranslation:{get:function(){return this.settings.showLyricsTranslation},set:function(t){this.$store.commit("updateSettings",{key:"showLyricsTranslation",value:t})}},lyricsBackground:{get:function(){return this.settings.lyricsBackground||!1},set:function(t){this.$store.commit("updateSettings",{key:"lyricsBackground",value:t})}},showLyricsTime:{get:function(){return this.settings.showLyricsTime},set:function(t){this.$store.commit("updateSettings",{key:"showLyricsTime",value:t})}},closeAppOption:{get:function(){return this.settings.closeAppOption},set:function(t){this.$store.commit("updateSettings",{key:"closeAppOption",value:t})}},enableDiscordRichPresence:{get:function(){return this.settings.enableDiscordRichPresence},set:function(t){this.$store.commit("updateSettings",{key:"enableDiscordRichPresence",value:t})}},subTitleDefault:{get:function(){return this.settings.subTitleDefault},set:function(t){this.$store.commit("updateSettings",{key:"subTitleDefault",value:t})}},enableReversedMode:{get:function(){return void 0!==this.settings.enableReversedMode&&this.settings.enableReversedMode},set:function(t){this.$store.commit("updateSettings",{key:"enableReversedMode",value:t}),!1===t&&(this.$store.state.player.reversed=!1)}},enableGlobalShortcut:{get:function(){return this.settings.enableGlobalShortcut},set:function(t){this.$store.commit("updateSettings",{key:"enableGlobalShortcut",value:t})}},showLibraryDefault:{get:function(){return this.settings.showLibraryDefault||!1},set:function(t){this.$store.commit("updateSettings",{key:"showLibraryDefault",value:t})}},cacheLimit:{get:function(){return this.settings.cacheLimit||!1},set:function(t){this.$store.commit("updateSettings",{key:"cacheLimit",value:t})}},proxyProtocol:{get:function(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.protocol)||"noProxy"},set:function(t){var e=this.settings.proxyConfig||{};e.protocol=t,"noProxy"===t&&(d.send("removeProxy"),this.showToast("已关闭代理")),this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyServer:{get:function(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.server)||""},set:function(t){var e=this.settings.proxyConfig||{};e.server=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},proxyPort:{get:function(){var t;return(null===(t=this.settings.proxyConfig)||void 0===t?void 0:t.port)||""},set:function(t){var e=this.settings.proxyConfig||{};e.port=t,this.$store.commit("updateSettings",{key:"proxyConfig",value:e})}},unmSource:{get:function(){return this.settings.unmSource||""},set:function(t){this.$store.commit("updateSettings",{key:"unmSource",value:t.length&&t})}},unmSearchMode:{get:function(){return this.settings.unmSearchMode||"fast-first"},set:function(t){this.$store.commit("updateSettings",{key:"unmSearchMode",value:t})}},unmEnableFlac:{get:function(){return this.settings.unmEnableFlac||!1},set:function(t){this.$store.commit("updateSettings",{key:"unmEnableFlac",value:t||!1})}},unmProxyUri:{get:function(){return this.settings.unmProxyUri||""},set:function(t){this.$store.commit("updateSettings",{key:"unmProxyUri",value:t.length&&t})}},unmJooxCookie:{get:function(){return this.settings.unmJooxCookie||""},set:function(t){this.$store.commit("updateSettings",{key:"unmJooxCookie",value:t.length&&t})}},unmQQCookie:{get:function(){return this.settings.unmQQCookie||""},set:function(t){this.$store.commit("updateSettings",{key:"unmQQCookie",value:t.length&&t})}},unmYtDlExe:{get:function(){return this.settings.unmYtDlExe||""},set:function(t){this.$store.commit("updateSettings",{key:"unmYtDlExe",value:t.length&&t})}},enableCustomTitlebar:{get:function(){return this.settings.linuxEnableCustomTitlebar},set:function(t){this.$store.commit("updateSettings",{key:"linuxEnableCustomTitlebar",value:t})}},isLastfmConnected:function(){return void 0!==this.lastfm.key}}),created:function(){this.countDBSize("tracks"),Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON&&this.getAllOutputDevices()},activated:function(){this.countDBSize("tracks"),Object({NODE_ENV:"production",VUE_APP_ELECTRON_API_URL:"http://localhost:8080",VUE_APP_ELECTRON_API_URL_DEV:"http://127.0.0.1:10754",VUE_APP_LASTFM_API_KEY:"09c55292403d961aa517ff7f5e8a3d9c",VUE_APP_LASTFM_API_SHARED_SECRET:"307c9fda32b3904e53654baff215cb67",VUE_APP_NETEASE_API_URL:"https://api.jinghuashang.cn",BASE_URL:"/"}).IS_ELECTRON&&this.getAllOutputDevices()},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])(["showToast"])),{},{getAllOutputDevices:function(){var t=this;navigator.mediaDevices.enumerateDevices().then((function(e){t.allOutputDevices=e.filter((function(t){return"audiooutput"==t.kind})),t.allOutputDevices.length>0&&""!==t.allOutputDevices[0].label?t.withoutAudioPriviledge=!1:t.allOutputDevices=[{deviceId:"default",label:"settings.permissionRequired"}]}))},logout:function(){Object(a["a"])(),this.$router.push({name:"home"})},countDBSize:function(){var t=this;Object(l["f"])().then((function(e){void 0!==e?(t.tracksCache.size=Object(o["a"])(e.bytes),t.tracksCache.length=e.length):t.tracksCache={size:"0KB",length:0}}))},clearCache:function(){var t=this;Object(l["e"])().then((function(){t.countDBSize()}))},lastfmConnect:function(){var t=this;Object(r["a"])();var e=setInterval((function(){var i=localStorage.getItem("lastfm");i&&(t.$store.commit("updateLastfm",JSON.parse(i)),clearInterval(e))}),1e3)},lastfmDisconnect:function(){localStorage.removeItem("lastfm"),this.$store.commit("updateLastfm",{})},sendProxyConfig:function(){if("noProxy"!==this.proxyProtocol){var t=this.settings.proxyConfig;""!==t.server&&t.port&&"noProxy"!==t.protocol?d.send("setProxy",t):d.send("removeProxy"),this.showToast("已更新代理设置")}},clickOutside:function(){this.exitRecordShortcut()},formatShortcut:function(e){return e=e.replaceAll("+"," + ").replace("Up","↑").replace("Down","↓").replace("Right","→").replace("Left","←"),"zh-CN"===this.settings.lang?e=e.replace("Space","空格"):"zh-TW"===this.settings.lang&&(e=e.replace("Space","空白鍵")),"darwin"===t.platform?e.replace("CommandOrControl","⌘").replace("Command","⌘").replace("Alt","⌥").replace("Control","⌃").replace("Shift","⇧"):e.replace("CommandOrControl","Ctrl")},readyToRecordShortcut:function(t,e){"globalShortcut"===e&&!1===this.enableGlobalShortcut||(this.shortcutInput={id:t,type:e,recording:!0},this.recordedShortcut=[],d.send("switchGlobalShortcutStatusTemporary","disable"))},handleShortcutKeydown:function(t){!1!==this.shortcutInput.recording&&(t.preventDefault(),this.recordedShortcut.find((function(e){return e.keyCode===t.keyCode}))||(this.recordedShortcut.push(t),(t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=112&&t.keyCode<=123||["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(t.key)||h.includes(t.key))&&this.saveShortcut()))},handleShortcutKeyup:function(t){this.recordedShortcut.find((function(e){return e.keyCode===t.keyCode}))&&(this.recordedShortcut=this.recordedShortcut.filter((function(e){return e.keyCode!==t.keyCode})))},saveShortcut:function(){var t=this.shortcutInput,e=t.id,i=t.type,n={id:e,type:i,shortcut:this.recordedShortcutComputed};this.$store.commit("updateShortcut",n),d.send("updateShortcut",n),this.showToast("快捷键已保存"),this.recordedShortcut=[]},exitRecordShortcut:function(){!1!==this.shortcutInput.recording&&(this.shortcutInput={id:"",type:"",recording:!1},this.recordedShortcut=[],d.send("switchGlobalShortcutStatusTemporary","enable"))},restoreDefaultShortcuts:function(){this.$store.commit("restoreDefaultShortcuts"),d.send("restoreDefaultShortcuts")}})}}).call(this,i("4362"))},db6e:function(t,e,i){"use strict";i("9ecd")},dd7b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"section-1"},[i("img",{attrs:{src:"/img/logos/yesplaymusic.png"}}),i("svg-icon",{attrs:{"icon-class":"x"}}),i("img",{attrs:{src:"/img/logos/netease-music.png"}})],1),i("div",{staticClass:"section-2"},[i("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=1},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("account")}}},[i("div",{staticClass:"container",class:{active:1===t.activeCard}},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.loginText")))]),i("div",{staticClass:"info"},[t._v(t._s(t.$t("login.accessToAll")))])]),i("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)]),i("div",{staticClass:"card",on:{mouseover:function(e){t.activeCard=2},mouseleave:function(e){t.activeCard=0},click:function(e){return t.goTo("username")}}},[i("div",{staticClass:"container",class:{active:2===t.activeCard}},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("login.search")))]),i("div",{staticClass:"info"},[t._v(t._s(t.$t("login.readonly")))])]),i("svg-icon",{attrs:{"icon-class":"arrow-right"}})],1)])])])},s=[],a=i("323e"),r=i.n(a),o=i("0032"),l={name:"Login",components:{SvgIcon:o["a"]},data:function(){return{activeCard:0}},created:function(){r.a.done()},methods:{goTo:function(t){this.$router.push({path:"/login/"+t})}}},c=l,u=(i("ef8d"),i("2877")),d=Object(u["a"])(c,n,s,!1,null,"47b2f8c2",null);e["default"]=d.exports},dd7e:function(t,e,i){const n=i("bbf0");function s(t){this.mode=n.NUMERIC,this.data=t.toString()}s.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e,i,n;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),n=parseInt(i,10),t.put(n,10);const s=this.data.length-e;s>0&&(i=this.data.substr(e),n=parseInt(i,10),t.put(n,3*s+1))},t.exports=s},ded9:function(t,e,i){"use strict";i("fbbb")},e36c:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"library"},[i("h1",[i("img",{staticClass:"avatar",attrs:{src:t._f("resizeImage")(t.data.user.avatarUrl),loading:"lazy"}}),t._v(t._s(t.data.user.nickname)+t._s(t.$t("library.sLibrary"))+" ")]),i("div",{staticClass:"section-one"},[i("div",{staticClass:"liked-songs",on:{click:t.goToLikedSongsList}},[i("div",{staticClass:"top"},[i("p",t._l(t.pickedLyric,(function(e,n){return i("span",{directives:[{name:"show",rawName:"v-show",value:""!==e,expression:"line !== ''"}],key:""+e+n},[t._v(t._s(e)),i("br")])})),0)]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"titles"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("library.likedSongs")))]),i("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.liked.songs.length)+" "+t._s(t.$t("common.songs"))+" ")])]),i("button",{on:{click:function(e){return e.stopPropagation(),t.openPlayModeTabMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"play"}})],1)])]),i("div",{staticClass:"songs"},[i("TrackList",{attrs:{id:t.liked.playlists.length>0?t.liked.playlists[0].id:0,tracks:t.liked.songsWithDetails,"column-number":3,type:"tracklist","dbclick-track-func":"playPlaylistByID"}})],1)]),i("div",{staticClass:"section-two"},[i("div",{staticClass:"tabs-row"},[i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab dropdown",class:{active:"playlists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playlists")}}},[i("span",{staticClass:"text"},[t._v(t._s({all:t.$t("contextMenu.allPlaylists"),mine:t.$t("contextMenu.minePlaylists"),liked:t.$t("contextMenu.likedPlaylists")}[t.playlistFilter]))]),i("span",{staticClass:"icon",on:{click:function(e){return e.stopPropagation(),t.openPlaylistTabMenu.apply(null,arguments)}}},[i("svg-icon",{attrs:{"icon-class":"dropdown"}})],1)]),i("div",{staticClass:"tab",class:{active:"albums"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("albums")}}},[t._v(" "+t._s(t.$t("library.albums"))+" ")]),i("div",{staticClass:"tab",class:{active:"artists"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("artists")}}},[t._v(" "+t._s(t.$t("library.artists"))+" ")]),i("div",{staticClass:"tab",class:{active:"mvs"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("mvs")}}},[t._v(" "+t._s(t.$t("library.mvs"))+" ")]),i("div",{staticClass:"tab",class:{active:"cloudDisk"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("cloudDisk")}}},[t._v(" "+t._s(t.$t("library.cloudDisk"))+" ")]),i("div",{staticClass:"tab",class:{active:"playHistory"===t.currentTab},on:{click:function(e){return t.updateCurrentTab("playHistory")}}},[t._v(" "+t._s(t.$t("library.playHistory.title"))+" ")])]),i("button",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}],staticClass:"tab-button",on:{click:t.openAddPlaylistModal}},[i("svg-icon",{attrs:{"icon-class":"plus"}}),t._v(t._s(t.$t("library.newPlayList"))+" ")],1),i("button",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}],staticClass:"tab-button",on:{click:t.selectUploadFiles}},[i("svg-icon",{attrs:{"icon-class":"arrow-up-alt"}}),t._v(t._s(t.$t("library.uploadSongs"))+" ")],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"playlists"===t.currentTab,expression:"currentTab === 'playlists'"}]},[t.liked.playlists.length>1?i("div",[i("CoverRow",{attrs:{items:t.filterPlaylists,type:"playlist","sub-text":"creator","show-play-button":!0}})],1):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:"albums"===t.currentTab,expression:"currentTab === 'albums'"}]},[i("CoverRow",{attrs:{items:t.liked.albums,type:"album","sub-text":"artist","show-play-button":!0}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"artists"===t.currentTab,expression:"currentTab === 'artists'"}]},[i("CoverRow",{attrs:{items:t.liked.artists,type:"artist","show-play-button":!0}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"mvs"===t.currentTab,expression:"currentTab === 'mvs'"}]},[i("MvRow",{attrs:{mvs:t.liked.mvs}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"cloudDisk"===t.currentTab,expression:"currentTab === 'cloudDisk'"}]},[i("TrackList",{attrs:{id:-8,tracks:t.liked.cloudDisk,"column-number":3,type:"cloudDisk","dbclick-track-func":"playCloudDisk","extra-context-menu-item":["removeTrackFromCloudDisk"]}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"playHistory"===t.currentTab,expression:"currentTab === 'playHistory'"}]},[i("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"week"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="week"}}},[t._v(" "+t._s(t.$t("library.playHistory.week"))+" ")]),i("button",{class:{"playHistory-button":!0,"playHistory-button--selected":"all"===t.playHistoryMode},on:{click:function(e){t.playHistoryMode="all"}}},[t._v(" "+t._s(t.$t("library.playHistory.all"))+" ")]),i("TrackList",{attrs:{tracks:t.playHistoryList,"column-number":1,type:"tracklist"}})],1)]),i("input",{ref:"cloudDiskUploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadSongToCloudDisk}}),i("ContextMenu",{ref:"playlistTabMenu"},[i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("all")}}},[t._v(t._s(t.$t("contextMenu.allPlaylists")))]),i("hr"),i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("mine")}}},[t._v(t._s(t.$t("contextMenu.minePlaylists")))]),i("div",{staticClass:"item",on:{click:function(e){return t.changePlaylistFilter("liked")}}},[t._v(t._s(t.$t("contextMenu.likedPlaylists")))])]),i("ContextMenu",{ref:"playModeTabMenu"},[i("div",{staticClass:"item",on:{click:t.playLikedSongs}},[t._v(t._s(t.$t("library.likedSongs")))]),i("hr"),i("div",{staticClass:"item",on:{click:t.playIntelligenceList}},[t._v(t._s(t.$t("contextMenu.cardiacMode")))])])],1)},s=[],a=i("f3f3"),r=(i("498a"),i("ac1f"),i("1276"),i("4de4"),i("d3b7"),i("caad"),i("2532"),i("d81d"),i("fb6a"),i("2f62")),o=i("cf45"),l=i("5f87"),c=i("c24f"),u=i("fefb"),d=i("323e"),h=i.n(d),p=i("fe07"),f=i("6825"),m=i("a1a1"),g=i("2726"),v=i("0032"),y=i("d4e3");function b(t){return t.split("]").pop().trim()}var w={name:"Library",components:{SvgIcon:v["a"],CoverRow:g["a"],TrackList:m["a"],MvRow:y["a"],ContextMenu:f["a"]},data:function(){return{show:!1,likedSongs:[],lyric:void 0,currentTab:"playlists",playHistoryMode:"week"}},computed:Object(a["a"])(Object(a["a"])({},Object(r["d"])(["data","liked"])),{},{pickedLyric:function(){var t=this.lyric;if(!t)return[];var e=t.split("\n").filter((function(t){return!t.includes("作词")&&!t.includes("作曲")})),i=Math.min(e.length,3),n=e.length-i,s=Object(o["f"])(0,n-1);return e.slice(s,s+i).map(b)},playlistFilter:function(){return this.data.libraryPlaylistFilter||"all"},filterPlaylists:function(){var t=this.liked.playlists.slice(1),e=this.data.user.userId;return"mine"===this.playlistFilter?t.filter((function(t){return t.creator.userId===e})):"liked"===this.playlistFilter?t.filter((function(t){return t.creator.userId!==e})):t},playHistoryList:function(){return this.show&&"week"===this.playHistoryMode?this.liked.playHistory.weekData:this.show&&"all"===this.playHistoryMode?this.liked.playHistory.allData:[]}}),created:function(){var t=this;setTimeout((function(){t.show||h.a.start()}),1e3),this.loadData()},activated:function(){this.$parent.$refs.scrollbar.restorePosition(),this.loadData(),Object(o["c"])()},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["b"])(["showToast"])),Object(r["c"])(["updateModal","updateData"])),{},{loadData:function(){var t=this;this.liked.songsWithDetails.length>0?(h.a.done(),this.show=!0,this.$store.dispatch("fetchLikedSongsWithDetails"),this.getRandomLyric()):this.$store.dispatch("fetchLikedSongsWithDetails").then((function(){h.a.done(),t.show=!0,t.getRandomLyric()})),this.$store.dispatch("fetchLikedSongs"),this.$store.dispatch("fetchLikedPlaylist"),this.$store.dispatch("fetchLikedAlbums"),this.$store.dispatch("fetchLikedArtists"),this.$store.dispatch("fetchLikedMVs"),this.$store.dispatch("fetchCloudDisk"),this.$store.dispatch("fetchPlayHistory")},playLikedSongs:function(){this.$store.state.player.playPlaylistByID(this.liked.playlists[0].id,"first",!0)},playIntelligenceList:function(){this.$store.state.player.playIntelligenceListById(this.liked.playlists[0].id,"first",!0)},updateCurrentTab:function(t){Object(l["c"])()||"playlists"===t?(this.currentTab=t,this.$parent.$refs.main.scrollTo({top:375,behavior:"smooth"})):this.showToast(p["a"].t("toast.needToLogin"))},goToLikedSongsList:function(){this.$router.push({path:"/library/liked-songs"})},getRandomLyric:function(){var t=this;0!==this.liked.songs.length&&Object(u["a"])(this.liked.songs[Object(o["f"])(0,this.liked.songs.length-1)]).then((function(e){if(void 0!==e.lrc){var i=e.lrc.lyric.split("\n").filter((function(t){return t.includes("纯音乐，请欣赏")}));0===i.length&&(t.lyric=e.lrc.lyric)}}))},openAddPlaylistModal:function(){Object(l["c"])()?this.updateModal({modalName:"newPlaylistModal",key:"show",value:!0}):this.showToast(p["a"].t("toast.needToLogin"))},openPlaylistTabMenu:function(t){this.$refs.playlistTabMenu.openMenu(t)},openPlayModeTabMenu:function(t){this.$refs.playModeTabMenu.openMenu(t)},changePlaylistFilter:function(t){this.updateData({key:"libraryPlaylistFilter",value:t}),window.scrollTo({top:375,behavior:"smooth"})},selectUploadFiles:function(){this.$refs.cloudDiskUploadInput.click()},uploadSongToCloudDisk:function(t){var e=this,i=t.target.files;Object(c["g"])(i[0]).then((function(t){if(200===t.code){var i=e.liked.cloudDisk;i.unshift(t.privateCloud),e.$store.commit("updateLikedXXX",{name:"cloudDisk",data:i})}}))}})},_=w,k=(i("fe67"),i("2877")),C=Object(k["a"])(_,n,s,!1,null,"6a8ad968",null);e["default"]=C.exports},e3da:function(t,e,i){},ebd0:function(t,e,i){},ec0e:function(t,e,i){"use strict";i("e3da")},ecee:function(t,e,i){"use strict";i("a39c")},ecf4:function(t,e,i){},eeec:function(t,e,i){"use strict";i("37c1")},ef8d:function(t,e,i){"use strict";i("3835")},f1e5:function(t,e,i){},f351:function(t,e,i){"use strict";i("ff3e")},f41e:function(t,e,i){},f7b6:function(t,e,i){},f7ca:function(t,e,i){var n=i("5615"),s=i("3ff1");function a(t){return n(s(t))}t.exports=a},f910:function(t,e,i){},fbbb:function(t,e,i){},fe67:function(t,e,i){"use strict";i("f7b6")},ff3e:function(t,e,i){}}]);